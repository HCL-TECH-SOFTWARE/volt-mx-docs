Ext.data.JsonP.com_android_server_job_controllers_QuotaController({"tagname":"class","name":"com.android.server.job.controllers.QuotaController","autodetected":{},"files":[{"filename":"QuotaController.js","href":"QuotaController.html#com-android-server-job-controllers-QuotaController"}],"extends":"com.android.server.job.controllers.StateController","members":[{"name":"dumpConstants","tagname":"method","owner":"com.android.server.job.controllers.QuotaController","id":"method-dumpConstants","meta":{}},{"name":"dumpControllerStateLocked","tagname":"method","owner":"com.android.server.job.controllers.QuotaController","id":"method-dumpControllerStateLocked","meta":{}},{"name":"evaluateStateLocked","tagname":"method","owner":"com.android.server.job.controllers.StateController","id":"method-evaluateStateLocked","meta":{}},{"name":"maybeStartTrackingJobLocked","tagname":"method","owner":"com.android.server.job.controllers.QuotaController","id":"method-maybeStartTrackingJobLocked","meta":{}},{"name":"maybeStopTrackingJobLocked","tagname":"method","owner":"com.android.server.job.controllers.QuotaController","id":"method-maybeStopTrackingJobLocked","meta":{}},{"name":"onAppRemovedLocked","tagname":"method","owner":"com.android.server.job.controllers.QuotaController","id":"method-onAppRemovedLocked","meta":{}},{"name":"onConstantsUpdatedLocked","tagname":"method","owner":"com.android.server.job.controllers.QuotaController","id":"method-onConstantsUpdatedLocked","meta":{}},{"name":"onSystemServicesReady","tagname":"method","owner":"com.android.server.job.controllers.QuotaController","id":"method-onSystemServicesReady","meta":{}},{"name":"onUserRemovedLocked","tagname":"method","owner":"com.android.server.job.controllers.QuotaController","id":"method-onUserRemovedLocked","meta":{}},{"name":"prepareForExecutionLocked","tagname":"method","owner":"com.android.server.job.controllers.QuotaController","id":"method-prepareForExecutionLocked","meta":{}},{"name":"reevaluateStateLocked","tagname":"method","owner":"com.android.server.job.controllers.StateController","id":"method-reevaluateStateLocked","meta":{}},{"name":"rescheduleForFailureLocked","tagname":"method","owner":"com.android.server.job.controllers.StateController","id":"method-rescheduleForFailureLocked","meta":{}}],"alternateClassNames":[],"aliases":{},"id":"class-com.android.server.job.controllers.QuotaController","short_doc":"Controller that tracks whether an app has exceeded its standby bucket quota. ...","classIcon":"icon-class","superclasses":["java.lang.Object","com.android.server.job.controllers.StateController"],"subclasses":[],"mixedInto":[],"mixins":[],"parentMixins":[],"requires":[],"uses":[],"html":"<div><pre class=\"hierarchy\"><h4>Hierarchy</h4><div class='subclass first-child'>java.lang.Object<div class='subclass '><a href='#!/api/com.android.server.job.controllers.StateController' rel='com.android.server.job.controllers.StateController' class='docClass'>com.android.server.job.controllers.StateController</a><div class='subclass '><strong>com.android.server.job.controllers.QuotaController</strong></div></div></div><h4>Files</h4><div class='dependency'><a href='source/QuotaController.html#com-android-server-job-controllers-QuotaController' target='_blank'>QuotaController.js</a></div></pre><div class='doc-contents'><p>Controller that tracks whether an app has exceeded its standby bucket quota.</p>\n\n<p> With initial defaults, each app in each bucket is given 10 minutes to run within its respective\n time window. Active jobs can run indefinitely, working set jobs can run for 10 minutes within a\n 2 hour window, frequent jobs get to run 10 minutes in an 8 hour window, and rare jobs get to run\n 10 minutes in a 24 hour window. The windows are rolling, so as soon as a job would have some\n quota based on its bucket, it will be eligible to run. When a job's bucket changes, its new\n quota is immediately applied to it.</p>\n\n<p> Job and session count limits are included to prevent abuse/spam. Each bucket has its own limit on\n the number of jobs or sessions that can run within the window. Regardless of bucket, apps will\n not be allowed to run more than 20 jobs within the past 10 minutes.</p>\n\n<p> Jobs are throttled while an app is not in a foreground state. All jobs are allowed to run\n freely when an app enters the foreground state and are restricted when the app leaves the\n foreground state. However, jobs that are started while the app is in the TOP state do not count\n towards any quota and are not restricted regardless of the app's state change.</p>\n\n<p> Jobs will not be throttled when the device is charging. The device is considered to be charging\n once the BatteryManager.ACTION_CHARGING intent has been broadcast.</p>\n\n<p> Note: all limits are enforced per bucket window unless explicitly stated otherwise.\n All stated values are configurable and subject to change. See QcConstants for current\n defaults.</p>\n\n<p> Test: atest com.android.server.job.controllers.QuotaControllerTest</p>\n</div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div id='method-dumpConstants' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.job.controllers.QuotaController'>com.android.server.job.controllers.QuotaController</span><br/><a href='source/QuotaController.html#com-android-server-job-controllers-QuotaController-method-dumpConstants' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.job.controllers.QuotaController-method-dumpConstants' class='name expandable'>dumpConstants</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Overrides: <a href=\"#!/api/com.android.server.job.controllers.StateController-method-dumpConstants\" rel=\"com.android.server.job.controllers.StateController-method-dumpConstants\" class=\"docClass\">com.android.server.job.controllers.StateController.dumpConstants</a></p></div></div></div><div id='method-dumpControllerStateLocked' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.job.controllers.QuotaController'>com.android.server.job.controllers.QuotaController</span><br/><a href='source/QuotaController.html#com-android-server-job-controllers-QuotaController-method-dumpControllerStateLocked' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.job.controllers.QuotaController-method-dumpControllerStateLocked' class='name expandable'>dumpControllerStateLocked</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Overrides: <a href=\"#!/api/com.android.server.job.controllers.StateController-method-dumpControllerStateLocked\" rel=\"com.android.server.job.controllers.StateController-method-dumpControllerStateLocked\" class=\"docClass\">com.android.server.job.controllers.StateController.dumpControllerStateLocked</a></p></div></div></div><div id='method-evaluateStateLocked' class='member  inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><a href='#!/api/com.android.server.job.controllers.StateController' rel='com.android.server.job.controllers.StateController' class='defined-in docClass'>com.android.server.job.controllers.StateController</a><br/><a href='source/StateController.html#com-android-server-job-controllers-StateController-method-evaluateStateLocked' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.job.controllers.StateController-method-evaluateStateLocked' class='name expandable'>evaluateStateLocked</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Called when JobSchedulerService has determined that the job is not ready to be run. ...</div><div class='long'><p>Called when JobSchedulerService has determined that the job is not ready to be run. The\n Controller can evaluate if it can or should do something to promote this job's readiness.</p>\n</div></div></div><div id='method-maybeStartTrackingJobLocked' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.job.controllers.QuotaController'>com.android.server.job.controllers.QuotaController</span><br/><a href='source/QuotaController.html#com-android-server-job-controllers-QuotaController-method-maybeStartTrackingJobLocked' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.job.controllers.QuotaController-method-maybeStartTrackingJobLocked' class='name expandable'>maybeStartTrackingJobLocked</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Overrides: <a href=\"#!/api/com.android.server.job.controllers.StateController-method-maybeStartTrackingJobLocked\" rel=\"com.android.server.job.controllers.StateController-method-maybeStartTrackingJobLocked\" class=\"docClass\">com.android.server.job.controllers.StateController.maybeStartTrackingJobLocked</a></p></div></div></div><div id='method-maybeStopTrackingJobLocked' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.job.controllers.QuotaController'>com.android.server.job.controllers.QuotaController</span><br/><a href='source/QuotaController.html#com-android-server-job-controllers-QuotaController-method-maybeStopTrackingJobLocked' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.job.controllers.QuotaController-method-maybeStopTrackingJobLocked' class='name expandable'>maybeStopTrackingJobLocked</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Overrides: <a href=\"#!/api/com.android.server.job.controllers.StateController-method-maybeStopTrackingJobLocked\" rel=\"com.android.server.job.controllers.StateController-method-maybeStopTrackingJobLocked\" class=\"docClass\">com.android.server.job.controllers.StateController.maybeStopTrackingJobLocked</a></p></div></div></div><div id='method-onAppRemovedLocked' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.job.controllers.QuotaController'>com.android.server.job.controllers.QuotaController</span><br/><a href='source/QuotaController.html#com-android-server-job-controllers-QuotaController-method-onAppRemovedLocked' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.job.controllers.QuotaController-method-onAppRemovedLocked' class='name expandable'>onAppRemovedLocked</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Overrides: <a href=\"#!/api/com.android.server.job.controllers.StateController-method-onAppRemovedLocked\" rel=\"com.android.server.job.controllers.StateController-method-onAppRemovedLocked\" class=\"docClass\">com.android.server.job.controllers.StateController.onAppRemovedLocked</a></p></div></div></div><div id='method-onConstantsUpdatedLocked' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.job.controllers.QuotaController'>com.android.server.job.controllers.QuotaController</span><br/><a href='source/QuotaController.html#com-android-server-job-controllers-QuotaController-method-onConstantsUpdatedLocked' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.job.controllers.QuotaController-method-onConstantsUpdatedLocked' class='name expandable'>onConstantsUpdatedLocked</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Overrides: <a href=\"#!/api/com.android.server.job.controllers.StateController-method-onConstantsUpdatedLocked\" rel=\"com.android.server.job.controllers.StateController-method-onConstantsUpdatedLocked\" class=\"docClass\">com.android.server.job.controllers.StateController.onConstantsUpdatedLocked</a></p></div></div></div><div id='method-onSystemServicesReady' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.job.controllers.QuotaController'>com.android.server.job.controllers.QuotaController</span><br/><a href='source/QuotaController.html#com-android-server-job-controllers-QuotaController-method-onSystemServicesReady' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.job.controllers.QuotaController-method-onSystemServicesReady' class='name expandable'>onSystemServicesReady</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Overrides: <a href=\"#!/api/com.android.server.job.controllers.StateController-method-onSystemServicesReady\" rel=\"com.android.server.job.controllers.StateController-method-onSystemServicesReady\" class=\"docClass\">com.android.server.job.controllers.StateController.onSystemServicesReady</a></p></div></div></div><div id='method-onUserRemovedLocked' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.job.controllers.QuotaController'>com.android.server.job.controllers.QuotaController</span><br/><a href='source/QuotaController.html#com-android-server-job-controllers-QuotaController-method-onUserRemovedLocked' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.job.controllers.QuotaController-method-onUserRemovedLocked' class='name expandable'>onUserRemovedLocked</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Overrides: <a href=\"#!/api/com.android.server.job.controllers.StateController-method-onUserRemovedLocked\" rel=\"com.android.server.job.controllers.StateController-method-onUserRemovedLocked\" class=\"docClass\">com.android.server.job.controllers.StateController.onUserRemovedLocked</a></p></div></div></div><div id='method-prepareForExecutionLocked' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.job.controllers.QuotaController'>com.android.server.job.controllers.QuotaController</span><br/><a href='source/QuotaController.html#com-android-server-job-controllers-QuotaController-method-prepareForExecutionLocked' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.job.controllers.QuotaController-method-prepareForExecutionLocked' class='name expandable'>prepareForExecutionLocked</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Overrides: <a href=\"#!/api/com.android.server.job.controllers.StateController-method-prepareForExecutionLocked\" rel=\"com.android.server.job.controllers.StateController-method-prepareForExecutionLocked\" class=\"docClass\">com.android.server.job.controllers.StateController.prepareForExecutionLocked</a></p></div></div></div><div id='method-reevaluateStateLocked' class='member  inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><a href='#!/api/com.android.server.job.controllers.StateController' rel='com.android.server.job.controllers.StateController' class='defined-in docClass'>com.android.server.job.controllers.StateController</a><br/><a href='source/StateController.html#com-android-server-job-controllers-StateController-method-reevaluateStateLocked' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.job.controllers.StateController-method-reevaluateStateLocked' class='name expandable'>reevaluateStateLocked</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Called when something with the UID has changed. ...</div><div class='long'><p>Called when something with the UID has changed. The controller should re-evaluate any\n internal state tracking dependent on this UID.</p>\n</div></div></div><div id='method-rescheduleForFailureLocked' class='member  inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><a href='#!/api/com.android.server.job.controllers.StateController' rel='com.android.server.job.controllers.StateController' class='defined-in docClass'>com.android.server.job.controllers.StateController</a><br/><a href='source/StateController.html#com-android-server-job-controllers-StateController-method-rescheduleForFailureLocked' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.job.controllers.StateController-method-rescheduleForFailureLocked' class='name expandable'>rescheduleForFailureLocked</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Called when a new job is being created to reschedule an old failed job. ...</div><div class='long'><p>Called when a new job is being created to reschedule an old failed job.</p>\n</div></div></div></div></div></div></div>","meta":{}});