Ext.data.JsonP.com_android_server_connectivity_DnsManager({"tagname":"class","name":"com.android.server.connectivity.DnsManager","autodetected":{},"files":[{"filename":"DnsManager.js","href":"DnsManager.html#com-android-server-connectivity-DnsManager"}],"extends":"java.lang.Object","hide":true,"members":[{"name":"getPrivateDnsConfig","tagname":"method","owner":"com.android.server.connectivity.DnsManager","id":"method-getPrivateDnsConfig","meta":{}},{"name":"getPrivateDnsSettingsUris","tagname":"method","owner":"com.android.server.connectivity.DnsManager","id":"method-getPrivateDnsSettingsUris","meta":{}},{"name":"removeNetwork","tagname":"method","owner":"com.android.server.connectivity.DnsManager","id":"method-removeNetwork","meta":{}},{"name":"setDefaultDnsSystemProperties","tagname":"method","owner":"com.android.server.connectivity.DnsManager","id":"method-setDefaultDnsSystemProperties","meta":{}},{"name":"setDnsConfigurationForNetwork","tagname":"method","owner":"com.android.server.connectivity.DnsManager","id":"method-setDnsConfigurationForNetwork","meta":{}},{"name":"updatePrivateDns","tagname":"method","owner":"com.android.server.connectivity.DnsManager","id":"method-updatePrivateDns","meta":{}},{"name":"updatePrivateDnsStatus","tagname":"method","owner":"com.android.server.connectivity.DnsManager","id":"method-updatePrivateDnsStatus","meta":{}},{"name":"updatePrivateDnsValidation","tagname":"method","owner":"com.android.server.connectivity.DnsManager","id":"method-updatePrivateDnsValidation","meta":{}}],"alternateClassNames":[],"aliases":{},"id":"class-com.android.server.connectivity.DnsManager","short_doc":"Encapsulate the management of DNS settings for networks. ...","classIcon":"icon-class","superclasses":["java.lang.Object"],"subclasses":[],"mixedInto":[],"mixins":[],"parentMixins":[],"requires":[],"uses":[],"html":"<div><pre class=\"hierarchy\"><h4>Hierarchy</h4><div class='subclass first-child'>java.lang.Object<div class='subclass '><strong>com.android.server.connectivity.DnsManager</strong></div></div><h4>Files</h4><div class='dependency'><a href='source/DnsManager.html#com-android-server-connectivity-DnsManager' target='_blank'>DnsManager.js</a></div></pre><div class='doc-contents'><p>Encapsulate the management of DNS settings for networks.</p>\n\n<p> This class it NOT designed for concurrent access. Furthermore, all non-static\n methods MUST be called from ConnectivityService's thread.</p>\n\n<p> [ Private DNS ]\n The code handling Private DNS is spread across several components, but this\n seems like the least bad place to collect all the observations.</p>\n\n<p> Private DNS handling and updating occurs in response to several different\n events. Each is described here with its corresponding intended handling.</p>\n\n<p> [A] Event: A new network comes up.\n Mechanics:\n     [1] ConnectivityService gets notifications from NetworkAgents.\n     [2] in updateNetworkInfo(), the first time the NetworkAgent goes into\n         into CONNECTED state, the Private DNS configuration is retrieved,\n         programmed, and strict mode hostname resolution (if applicable) is\n         enqueued in NetworkAgent's NetworkMonitor, via a call to\n         handlePerNetworkPrivateDnsConfig().\n     [3] Re-resolution of strict mode hostnames that fail to return any\n         IP addresses happens inside NetworkMonitor; it sends itself a\n         delayed CMD_EVALUATE_PRIVATE_DNS message in a simple backoff\n         schedule.\n     [4] Successfully resolved hostnames are sent to ConnectivityService\n         inside an EVENT_PRIVATE_DNS_CONFIG_RESOLVED message. The resolved\n         IP addresses are programmed into netd via:</p>\n\n<pre><code>         updatePrivateDns() -&gt; updateDnses()\n\n     both of which make calls into DnsManager.\n [5] Upon a successful hostname resolution NetworkMonitor initiates a\n     validation attempt in the form of a lookup for a one-time hostname\n     that uses Private DNS.\n</code></pre>\n\n<p> [B] Event: Private DNS settings are changed.\n Mechanics:\n     [1] ConnectivityService gets notifications from its SettingsObserver.\n     [2] handlePrivateDnsSettingsChanged() is called, which calls\n         handlePerNetworkPrivateDnsConfig() and the process proceeds\n         as if from A.3 above.</p>\n\n<p> [C] Event: An application calls ConnectivityManager#reportBadNetwork().\n Mechanics:\n     [1] NetworkMonitor is notified and initiates a reevaluation, which\n         always bypasses Private DNS.\n     [2] Once completed, NetworkMonitor checks if strict mode is in operation\n         and if so enqueues another evaluation of Private DNS, as if from\n         step A.5 above.</p>\n</div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div id='method-getPrivateDnsConfig' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.connectivity.DnsManager'>com.android.server.connectivity.DnsManager</span><br/><a href='source/DnsManager.html#com-android-server-connectivity-DnsManager-method-getPrivateDnsConfig' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.connectivity.DnsManager-method-getPrivateDnsConfig' class='name expandable'>getPrivateDnsConfig</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-getPrivateDnsSettingsUris' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.connectivity.DnsManager'>com.android.server.connectivity.DnsManager</span><br/><a href='source/DnsManager.html#com-android-server-connectivity-DnsManager-method-getPrivateDnsSettingsUris' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.connectivity.DnsManager-method-getPrivateDnsSettingsUris' class='name expandable'>getPrivateDnsSettingsUris</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-removeNetwork' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.connectivity.DnsManager'>com.android.server.connectivity.DnsManager</span><br/><a href='source/DnsManager.html#com-android-server-connectivity-DnsManager-method-removeNetwork' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.connectivity.DnsManager-method-removeNetwork' class='name expandable'>removeNetwork</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-setDefaultDnsSystemProperties' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.connectivity.DnsManager'>com.android.server.connectivity.DnsManager</span><br/><a href='source/DnsManager.html#com-android-server-connectivity-DnsManager-method-setDefaultDnsSystemProperties' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.connectivity.DnsManager-method-setDefaultDnsSystemProperties' class='name expandable'>setDefaultDnsSystemProperties</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-setDnsConfigurationForNetwork' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.connectivity.DnsManager'>com.android.server.connectivity.DnsManager</span><br/><a href='source/DnsManager.html#com-android-server-connectivity-DnsManager-method-setDnsConfigurationForNetwork' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.connectivity.DnsManager-method-setDnsConfigurationForNetwork' class='name expandable'>setDnsConfigurationForNetwork</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-updatePrivateDns' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.connectivity.DnsManager'>com.android.server.connectivity.DnsManager</span><br/><a href='source/DnsManager.html#com-android-server-connectivity-DnsManager-method-updatePrivateDns' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.connectivity.DnsManager-method-updatePrivateDns' class='name expandable'>updatePrivateDns</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-updatePrivateDnsStatus' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.connectivity.DnsManager'>com.android.server.connectivity.DnsManager</span><br/><a href='source/DnsManager.html#com-android-server-connectivity-DnsManager-method-updatePrivateDnsStatus' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.connectivity.DnsManager-method-updatePrivateDnsStatus' class='name expandable'>updatePrivateDnsStatus</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-updatePrivateDnsValidation' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.connectivity.DnsManager'>com.android.server.connectivity.DnsManager</span><br/><a href='source/DnsManager.html#com-android-server-connectivity-DnsManager-method-updatePrivateDnsValidation' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.connectivity.DnsManager-method-updatePrivateDnsValidation' class='name expandable'>updatePrivateDnsValidation</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div></div></div></div></div>","meta":{}});