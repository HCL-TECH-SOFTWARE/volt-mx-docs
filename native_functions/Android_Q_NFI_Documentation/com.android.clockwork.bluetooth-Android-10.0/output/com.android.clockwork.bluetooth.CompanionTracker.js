Ext.data.JsonP.com_android_clockwork_bluetooth_CompanionTracker({"tagname":"class","name":"com.android.clockwork.bluetooth.CompanionTracker","autodetected":{},"files":[{"filename":"CompanionTracker.js","href":"CompanionTracker.html#com-android-clockwork-bluetooth-CompanionTracker"}],"extends":"java.lang.Object","members":[{"name":"TAG","tagname":"property","owner":"com.android.clockwork.bluetooth.CompanionTracker","id":"property-TAG","meta":{}},{"name":"addListener","tagname":"method","owner":"com.android.clockwork.bluetooth.CompanionTracker","id":"method-addListener","meta":{}},{"name":"getCompanion","tagname":"method","owner":"com.android.clockwork.bluetooth.CompanionTracker","id":"method-getCompanion","meta":{}},{"name":"getCompanionName","tagname":"method","owner":"com.android.clockwork.bluetooth.CompanionTracker","id":"method-getCompanionName","meta":{}},{"name":"isCompanionBle","tagname":"method","owner":"com.android.clockwork.bluetooth.CompanionTracker","id":"method-isCompanionBle","meta":{}},{"name":"onBluetoothAdapterReady","tagname":"method","owner":"com.android.clockwork.bluetooth.CompanionTracker","id":"method-onBluetoothAdapterReady","meta":{}}],"alternateClassNames":[],"aliases":{},"id":"class-com.android.clockwork.bluetooth.CompanionTracker","short_doc":"This class monitors and maintains the mapping to the currently paired Companion device. ...","classIcon":"icon-class","superclasses":["java.lang.Object"],"subclasses":[],"mixedInto":[],"mixins":[],"parentMixins":[],"requires":[],"uses":[],"html":"<div><pre class=\"hierarchy\"><h4>Hierarchy</h4><div class='subclass first-child'>java.lang.Object<div class='subclass '><strong>com.android.clockwork.bluetooth.CompanionTracker</strong></div></div><h4>Files</h4><div class='dependency'><a href='source/CompanionTracker.html#com-android-clockwork-bluetooth-CompanionTracker' target='_blank'>CompanionTracker.js</a></div></pre><div class='doc-contents'><p>This class monitors and maintains the mapping to the currently paired Companion device.</p>\n\n<p> This class expects the PairingHandler in ClockworkHome to set the Companion address\n under Settings.BLUETOOTH_URI when the user initiates a successful pairing to the watch\n from the Companion app.</p>\n\n<p> For the legacy case of there being a previously-paired device with no Companion address\n written in Settings, CompanionTracker will infer the Companion device and store its address\n into the same Settings location.</p>\n\n<p> Design doc:\n https://docs.google.com/document/d/1E9-wBGZqHCB5Y7hJ-JI6ktb84tlG3e25AIazGOp7kEI/edit#</p>\n</div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-property'>Properties</h3><div class='subsection'><div id='property-TAG' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.clockwork.bluetooth.CompanionTracker'>com.android.clockwork.bluetooth.CompanionTracker</span><br/><a href='source/CompanionTracker.html#com-android-clockwork-bluetooth-CompanionTracker-property-TAG' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.clockwork.bluetooth.CompanionTracker-property-TAG' class='name expandable'>TAG</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Defaults to: <code>&quot;WearBluetooth&quot;</code></p></div></div></div></div></div><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div id='method-addListener' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.clockwork.bluetooth.CompanionTracker'>com.android.clockwork.bluetooth.CompanionTracker</span><br/><a href='source/CompanionTracker.html#com-android-clockwork-bluetooth-CompanionTracker-method-addListener' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.clockwork.bluetooth.CompanionTracker-method-addListener' class='name expandable'>addListener</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-getCompanion' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.clockwork.bluetooth.CompanionTracker'>com.android.clockwork.bluetooth.CompanionTracker</span><br/><a href='source/CompanionTracker.html#com-android-clockwork-bluetooth-CompanionTracker-method-getCompanion' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.clockwork.bluetooth.CompanionTracker-method-getCompanion' class='name expandable'>getCompanion</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Returns the BluetoothDevice object associated with the Companion device,\n or null if no Companion device is paired. ...</div><div class='long'><p>Returns the BluetoothDevice object associated with the Companion device,\n or null if no Companion device is paired.</p>\n</div></div></div><div id='method-getCompanionName' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.clockwork.bluetooth.CompanionTracker'>com.android.clockwork.bluetooth.CompanionTracker</span><br/><a href='source/CompanionTracker.html#com-android-clockwork-bluetooth-CompanionTracker-method-getCompanionName' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.clockwork.bluetooth.CompanionTracker-method-getCompanionName' class='name expandable'>getCompanionName</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Returns the BluetoothDevice name associated with the Companion device,\n or null if no Companion device is paired. ...</div><div class='long'><p>Returns the BluetoothDevice name associated with the Companion device,\n or null if no Companion device is paired.</p>\n</div></div></div><div id='method-isCompanionBle' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.clockwork.bluetooth.CompanionTracker'>com.android.clockwork.bluetooth.CompanionTracker</span><br/><a href='source/CompanionTracker.html#com-android-clockwork-bluetooth-CompanionTracker-method-isCompanionBle' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.clockwork.bluetooth.CompanionTracker-method-isCompanionBle' class='name expandable'>isCompanionBle</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Returns true iff the currently paired Companion device is an LE or DUAL device. ...</div><div class='long'><p>Returns true iff the currently paired Companion device is an LE or DUAL device.</p>\n\n<p> Normally, we should just check the device type of mCompanion. But b/62355127 revealed that\n BluetoothDevice.getType() can return LE/DUAL even for an Android device (particularly\n when bonding is unexpectedly lost and re-established).  To workaround this, we rely on the\n KEY_BLUETOOTH_MODE setting written by ConnectionSetupHelper in Setup, which during the\n initial pairing process correctly identifies the device type.</p>\n\n<p> BluetoothDevice.getType() is used as a fallback only if for some reason the\n KEY_BLUETOOTH_MODE setting has not been populated.</p>\n</div></div></div><div id='method-onBluetoothAdapterReady' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.clockwork.bluetooth.CompanionTracker'>com.android.clockwork.bluetooth.CompanionTracker</span><br/><a href='source/CompanionTracker.html#com-android-clockwork-bluetooth-CompanionTracker-method-onBluetoothAdapterReady' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.clockwork.bluetooth.CompanionTracker-method-onBluetoothAdapterReady' class='name expandable'>onBluetoothAdapterReady</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>This needs to be called once per reboot in order to guarantee that CompanionTracker\n will have the correct Companion ...</div><div class='long'><p>This needs to be called once per reboot in order to guarantee that CompanionTracker\n will have the correct Companion Device retrieved from persistent storage and the Bluetooth\n adapter.</p>\n</div></div></div></div></div></div></div>","meta":{}});