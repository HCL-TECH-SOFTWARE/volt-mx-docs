Ext.data.JsonP.com_android_server_backup_transport_TransportClient({"tagname":"class","name":"com.android.server.backup.transport.TransportClient","autodetected":{},"files":[{"filename":"TransportClient.js","href":"TransportClient.html#com-android-server-backup-transport-TransportClient"}],"extends":"java.lang.Object","members":[{"name":"connect","tagname":"method","owner":"com.android.server.backup.transport.TransportClient","id":"method-connect","meta":{}},{"name":"connectAsync","tagname":"method","owner":"com.android.server.backup.transport.TransportClient","id":"method-connectAsync","meta":{}},{"name":"connectOrThrow","tagname":"method","owner":"com.android.server.backup.transport.TransportClient","id":"method-connectOrThrow","meta":{}},{"name":"getConnectedTransport","tagname":"method","owner":"com.android.server.backup.transport.TransportClient","id":"method-getConnectedTransport","meta":{}},{"name":"getTransportComponent","tagname":"method","owner":"com.android.server.backup.transport.TransportClient","id":"method-getTransportComponent","meta":{}},{"name":"markAsDisposed","tagname":"method","owner":"com.android.server.backup.transport.TransportClient","id":"method-markAsDisposed","meta":{}},{"name":"toString","tagname":"method","owner":"com.android.server.backup.transport.TransportClient","id":"method-toString","meta":{}},{"name":"unbind","tagname":"method","owner":"com.android.server.backup.transport.TransportClient","id":"method-unbind","meta":{}}],"alternateClassNames":[],"aliases":{},"id":"class-com.android.server.backup.transport.TransportClient","short_doc":"A com.android.server.backup.transport.TransportClient manages the connection to an IBackupTransport service, obtained...","classIcon":"icon-class","superclasses":["java.lang.Object"],"subclasses":[],"mixedInto":[],"mixins":[],"parentMixins":[],"requires":[],"uses":[],"html":"<div><pre class=\"hierarchy\"><h4>Hierarchy</h4><div class='subclass first-child'>java.lang.Object<div class='subclass '><strong>com.android.server.backup.transport.TransportClient</strong></div></div><h4>Files</h4><div class='dependency'><a href='source/TransportClient.html#com-android-server-backup-transport-TransportClient' target='_blank'>TransportClient.js</a></div></pre><div class='doc-contents'><p>A <a href=\"#!/api/com.android.server.backup.transport.TransportClient\" rel=\"com.android.server.backup.transport.TransportClient\" class=\"docClass\">com.android.server.backup.transport.TransportClient</a> manages the connection to an IBackupTransport service, obtained\n via the {@param bindIntent} parameter provided in the constructor. A <a href=\"#!/api/com.android.server.backup.transport.TransportClient\" rel=\"com.android.server.backup.transport.TransportClient\" class=\"docClass\">com.android.server.backup.transport.TransportClient</a> is\n responsible for only one connection to the transport service, not more.</p>\n\n<p> <p>After retrieved using String), you can\n call either <a href=\"#!/api/com.android.server.backup.transport.TransportClient-method-connect\" rel=\"com.android.server.backup.transport.TransportClient-method-connect\" class=\"docClass\">connect</a>(String), if you can block your thread, or String), otherwise, to obtain a IBackupTransport instance. It's meant to be passed around as a token to a connected transport.\n When the connection is not needed anymore you should call <a href=\"#!/api/com.android.server.backup.transport.TransportClient-method-unbind\" rel=\"com.android.server.backup.transport.TransportClient-method-unbind\" class=\"docClass\">unbind</a>(String) or indirectly\n via String).</p>\n\n<p> <p>DO NOT forget to unbind otherwise there will be dangling connections floating around.</p>\n\n<p> <p>This class is thread-safe.</p>\n\n<p> @see TransportManager</p>\n</div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div id='method-connect' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.backup.transport.TransportClient'>com.android.server.backup.transport.TransportClient</span><br/><a href='source/TransportClient.html#com-android-server-backup-transport-TransportClient-method-connect' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.backup.transport.TransportClient-method-connect' class='name expandable'>connect</a>( <span class='pre'>caller</span> ) : Object {IBackupTransport}<span class=\"signature\"></span></div><div class='description'><div class='short'>Attempts to connect to the transport (if needed) and returns it. ...</div><div class='long'><p>Attempts to connect to the transport (if needed) and returns it.</p>\n\n<p> <p>Synchronous version of String). The\n same observations about state are valid here. Also, what was said about the IBackupTransport parameter of <a href=\"#!/api/com.android.server.backup.transport.TransportConnectionListener\" rel=\"com.android.server.backup.transport.TransportConnectionListener\" class=\"docClass\">com.android.server.backup.transport.TransportConnectionListener</a> now apply to the return\n value of this method.</p>\n\n<p> <p>This is a potentially blocking operation, so be sure to call this carefully on the correct\n threads. You can't call this from the process main-thread (it throws an exception if you do\n so).</p>\n\n<p> <p>In most cases only the first call to this method will block, the following calls should\n return instantly. However, this is not guaranteed.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>caller</span> : String<div class='sub-desc'><p>A String identifying the caller for logging/debugging purposes. Check\n     String) for more details.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object {IBackupTransport}</span><div class='sub-desc'><p>A IBackupTransport transport binder instance or null. If it's non-null it can\n     still be unusable - throws DeadObjectException on method calls</p>\n</div></li></ul></div></div></div><div id='method-connectAsync' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.backup.transport.TransportClient'>com.android.server.backup.transport.TransportClient</span><br/><a href='source/TransportClient.html#com-android-server-backup-transport-TransportClient-method-connectAsync' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.backup.transport.TransportClient-method-connectAsync' class='name expandable'>connectAsync</a>( <span class='pre'>listener, caller</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Attempts to connect to the transport (if needed). ...</div><div class='long'><p>Attempts to connect to the transport (if needed).</p>\n\n<p> <p>Note that being bound is not the same as connected. To be connected you also need to be\n bound. You go from nothing to bound, then to bound and connected. To have a usable transport\n binder instance you need to be connected. This method will attempt to connect and return an\n usable transport binder regardless of the state of the object, it may already be connected,\n or bound but not connected, not bound at all or even unusable.</p>\n\n<p> <p>So, a ServiceConnection, int, UserHandle) (or\n one of its variants) can be called or not depending on the inner state. However, it won't be\n called again if we're already bound. For example, if one was already requested but the\n framework has not yet returned (meaning we're bound but still trying to connect) it won't\n trigger another one, just piggyback on the original request.</p>\n\n<p> <p>It's guaranteed that you are going to get a call back to {@param listener} after this\n call. However, the {@param IBackupTransport} parameter, the transport binder, is not\n guaranteed to be non-null, or if it's non-null it's not guaranteed to be usable - i.e. it can\n throw DeadObjectExceptions on method calls. You should check for both in your code.\n The reasons for a null transport binder are:</p>\n\n<p> <ul>\n   <li>Some code called <a href=\"#!/api/com.android.server.backup.transport.TransportClient-method-unbind\" rel=\"com.android.server.backup.transport.TransportClient-method-unbind\" class=\"docClass\">unbind</a>(String) before you got a callback.\n   <li>The framework had already called ServiceConnection.onServiceDisconnected(ComponentName) or ServiceConnection.onBindingDied(ComponentName) on this object's connection before.\n       Check the documentation of those methods for when that happens.\n   <li>The framework returns false for ServiceConnection, int, UserHandle) (or one of its variants). Check documentation for\n       when this happens.\n </li></li></li></ul></p>\n\n<p> For unusable transport binders check DeadObjectException.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>listener</span> : Object {TransportConnectionListener}<div class='sub-desc'><p>The listener that will be called with the (possibly null or unusable) IBackupTransport instance and this TransportClient object.</p>\n</div></li><li><span class='pre'>caller</span> : String<div class='sub-desc'><p>A String identifying the caller for logging/debugging purposes. This\n     should be a human-readable short string that is easily identifiable in the logs. Ideally\n     TAG.methodName(), where TAG is the one used in logcat. In cases where this is is not very\n     descriptive like MyHandler.handleMessage() you should put something that someone reading\n     the code would understand, like MyHandler/MSG_FOO.\n@see <a href=\"#!/api/com.android.server.backup.transport.TransportClient-method-connect\" rel=\"com.android.server.backup.transport.TransportClient-method-connect\" class=\"docClass\">connect</a>(String)\n@see DeadObjectException\n@see ServiceConnection#onServiceConnected(ComponentName, IBinder)\n@see ServiceConnection#onServiceDisconnected(ComponentName)\n@see Context#bindServiceAsUser(Intent, ServiceConnection, int, UserHandle)</p>\n</div></li></ul></div></div></div><div id='method-connectOrThrow' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.backup.transport.TransportClient'>com.android.server.backup.transport.TransportClient</span><br/><a href='source/TransportClient.html#com-android-server-backup-transport-TransportClient-method-connectOrThrow' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.backup.transport.TransportClient-method-connectOrThrow' class='name expandable'>connectOrThrow</a>( <span class='pre'>caller</span> ) : Object {IBackupTransport}<span class=\"signature\"></span></div><div class='description'><div class='short'>Tries to connect to the transport, if it fails throws com.android.server.backup.transport.TransportNotAvailableExcept...</div><div class='long'><p>Tries to connect to the transport, if it fails throws <a href=\"#!/api/com.android.server.backup.transport.TransportNotAvailableException\" rel=\"com.android.server.backup.transport.TransportNotAvailableException\" class=\"docClass\">com.android.server.backup.transport.TransportNotAvailableException</a>.</p>\n\n<p> <p>Same as <a href=\"#!/api/com.android.server.backup.transport.TransportClient-method-connect\" rel=\"com.android.server.backup.transport.TransportClient-method-connect\" class=\"docClass\">connect</a>(String) except it throws instead of returning null.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>caller</span> : String<div class='sub-desc'><p>A String identifying the caller for logging/debugging purposes. Check\n     String) for more details.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object {IBackupTransport}</span><div class='sub-desc'><p>A IBackupTransport transport binder instance.\n@see <a href=\"#!/api/com.android.server.backup.transport.TransportClient-method-connect\" rel=\"com.android.server.backup.transport.TransportClient-method-connect\" class=\"docClass\">connect</a>(String)</p>\n</div></li></ul><h3 class='pa'>Throws</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>TransportNotAvailableException if connection attempt fails.</p>\n</div></li></ul></div></div></div><div id='method-getConnectedTransport' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.backup.transport.TransportClient'>com.android.server.backup.transport.TransportClient</span><br/><a href='source/TransportClient.html#com-android-server-backup-transport-TransportClient-method-getConnectedTransport' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.backup.transport.TransportClient-method-getConnectedTransport' class='name expandable'>getConnectedTransport</a>( <span class='pre'>caller</span> ) : Object {IBackupTransport}<span class=\"signature\"></span></div><div class='description'><div class='short'>If the com.android.server.backup.transport.TransportClient is already connected to the transport, returns the transpo...</div><div class='long'><p>If the <a href=\"#!/api/com.android.server.backup.transport.TransportClient\" rel=\"com.android.server.backup.transport.TransportClient\" class=\"docClass\">com.android.server.backup.transport.TransportClient</a> is already connected to the transport, returns the transport,\n otherwise throws <a href=\"#!/api/com.android.server.backup.transport.TransportNotAvailableException\" rel=\"com.android.server.backup.transport.TransportNotAvailableException\" class=\"docClass\">com.android.server.backup.transport.TransportNotAvailableException</a>.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>caller</span> : String<div class='sub-desc'><p>A String identifying the caller for logging/debugging purposes. Check\n     String) for more details.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object {IBackupTransport}</span><div class='sub-desc'><p>A IBackupTransport transport binder instance.</p>\n</div></li></ul><h3 class='pa'>Throws</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>TransportNotAvailableException if not connected.</p>\n</div></li></ul></div></div></div><div id='method-getTransportComponent' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.backup.transport.TransportClient'>com.android.server.backup.transport.TransportClient</span><br/><a href='source/TransportClient.html#com-android-server-backup-transport-TransportClient-method-getTransportComponent' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.backup.transport.TransportClient-method-getTransportComponent' class='name expandable'>getTransportComponent</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-markAsDisposed' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.backup.transport.TransportClient'>com.android.server.backup.transport.TransportClient</span><br/><a href='source/TransportClient.html#com-android-server-backup-transport-TransportClient-method-markAsDisposed' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.backup.transport.TransportClient-method-markAsDisposed' class='name expandable'>markAsDisposed</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Marks this TransportClient as disposed, allowing it to be GC'ed without warnings. ...</div><div class='long'><p>Marks this TransportClient as disposed, allowing it to be GC'ed without warnings.</p>\n</div></div></div><div id='method-toString' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.backup.transport.TransportClient'>com.android.server.backup.transport.TransportClient</span><br/><a href='source/TransportClient.html#com-android-server-backup-transport-TransportClient-method-toString' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.backup.transport.TransportClient-method-toString' class='name expandable'>toString</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-unbind' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.backup.transport.TransportClient'>com.android.server.backup.transport.TransportClient</span><br/><a href='source/TransportClient.html#com-android-server-backup-transport-TransportClient-method-unbind' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.backup.transport.TransportClient-method-unbind' class='name expandable'>unbind</a>( <span class='pre'>caller</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Removes the transport binding. ...</div><div class='long'><p>Removes the transport binding.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>caller</span> : String<div class='sub-desc'><p>A String identifying the caller for logging/debugging purposes. Check\n     String) for more details.</p>\n</div></li></ul></div></div></div></div></div></div></div>","meta":{}});