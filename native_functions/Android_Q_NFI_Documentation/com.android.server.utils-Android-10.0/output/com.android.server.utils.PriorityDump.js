Ext.data.JsonP.com_android_server_utils_PriorityDump({"tagname":"class","name":"com.android.server.utils.PriorityDump","autodetected":{},"files":[{"filename":"PriorityDump.js","href":"PriorityDump.html#com-android-server-utils-PriorityDump"}],"extends":"java.lang.Object","hide":true,"members":[{"name":"PRIORITY_ARG","tagname":"property","owner":"com.android.server.utils.PriorityDump","id":"property-PRIORITY_ARG","meta":{}},{"name":"PRIORITY_ARG_CRITICAL","tagname":"property","owner":"com.android.server.utils.PriorityDump","id":"property-PRIORITY_ARG_CRITICAL","meta":{}},{"name":"PRIORITY_ARG_HIGH","tagname":"property","owner":"com.android.server.utils.PriorityDump","id":"property-PRIORITY_ARG_HIGH","meta":{}},{"name":"PRIORITY_ARG_NORMAL","tagname":"property","owner":"com.android.server.utils.PriorityDump","id":"property-PRIORITY_ARG_NORMAL","meta":{}},{"name":"PROTO_ARG","tagname":"property","owner":"com.android.server.utils.PriorityDump","id":"property-PROTO_ARG","meta":{}},{"name":"dump","tagname":"method","owner":"com.android.server.utils.PriorityDump","id":"method-dump","meta":{}}],"alternateClassNames":[],"aliases":{},"id":"class-com.android.server.utils.PriorityDump","short_doc":"Helper for String[]) that supports the\n PRIORITY_ARG and PROTO_ARG arguments. ...","classIcon":"icon-class","superclasses":["java.lang.Object"],"subclasses":[],"mixedInto":[],"mixins":[],"parentMixins":[],"requires":[],"uses":[],"html":"<div><pre class=\"hierarchy\"><h4>Hierarchy</h4><div class='subclass first-child'>java.lang.Object<div class='subclass '><strong>com.android.server.utils.PriorityDump</strong></div></div><h4>Files</h4><div class='dependency'><a href='source/PriorityDump.html#com-android-server-utils-PriorityDump' target='_blank'>PriorityDump.js</a></div></pre><div class='doc-contents'><p>Helper for String[]) that supports the\n <a href=\"#!/api/com.android.server.utils.PriorityDump-property-PRIORITY_ARG\" rel=\"com.android.server.utils.PriorityDump-property-PRIORITY_ARG\" class=\"docClass\">PRIORITY_ARG</a> and <a href=\"#!/api/com.android.server.utils.PriorityDump-property-PROTO_ARG\" rel=\"com.android.server.utils.PriorityDump-property-PROTO_ARG\" class=\"docClass\">PROTO_ARG</a> arguments.\n <p>\n Typical usage:</p>\n\n<pre><code>public class SpringfieldNuclearPowerPlant extends Binder {\n\n private final PriorityDump.PriorityDumper mPriorityDumper = new PriorityDump.PriorityDumper() {\n\n     @Override\n     public void dumpCritical(FileDescriptor fd, PrintWriter pw, String[] args, boolean asProto) {\n       if (asProto) {\n         ProtoOutputStream proto = new ProtoOutputStream(fd);\n         proto.write(SpringfieldProto.DONUTS, 1);\n         proto.flush();\n       } else {\n         pw.println(\"Donuts in the box: 1\");\n       }\n     }\n\n     @Override\n     public void dumpNormal(FileDescriptor fd, PrintWriter pw, String[] args) {\n        if (asProto) {\n          ProtoOutputStream proto = new ProtoOutputStream(fd);\n          proto.write(SpringfieldProto.REACTOR_STATUS, DANGER_MELTDOWN_IMMINENT);\n          proto.flush();\n        } else {\n          pw.println(\"Nuclear reactor status: DANGER - MELTDOWN IMMINENT\");\n        }\n     }\n  };\n\n  @Override\n  protected void dump(FileDescriptor fd, PrintWriter pw, String[] args) {\n      PriorityDump.dump(mPriorityDumper, fd, pw, args);\n  }\n}\n\n </code></pre>\n\n\n<p> <strong>Disclaimer</strong>: a real-life service should prioritize core status over donuts :-)</p>\n\n<p> <p>Then to invoke it:</p>\n\n<pre><code>\n    $ adb shell dumpsys snpp\n    Donuts in the box: 1\n    Nuclear reactor status: DANGER - MELTDOWN IMMINENT\n\n    $ adb shell dumpsys snpp --dump-priority CRITICAL\n    Donuts in the box: 1\n\n    $ adb shell dumpsys snpp --dump-priority NORMAL\n    Nuclear reactor status: DANGER - MELTDOWN IMMINENT\n\n    $ adb shell dumpsys snpp --dump-priority CRITICAL --proto\n    //binary output\n\n </code></pre>\n\n\n<p> <p>To run the unit tests:</p>\n\n<pre><code>\n atest FrameworksServicesTests:PriorityDumpTest\n </code></pre>\n\n</div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-property'>Properties</h3><div class='subsection'><div id='property-PRIORITY_ARG' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.utils.PriorityDump'>com.android.server.utils.PriorityDump</span><br/><a href='source/PriorityDump.html#com-android-server-utils-PriorityDump-property-PRIORITY_ARG' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.utils.PriorityDump-property-PRIORITY_ARG' class='name expandable'>PRIORITY_ARG</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Defaults to: <code>&quot;--dump-priority&quot;</code></p></div></div></div><div id='property-PRIORITY_ARG_CRITICAL' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.utils.PriorityDump'>com.android.server.utils.PriorityDump</span><br/><a href='source/PriorityDump.html#com-android-server-utils-PriorityDump-property-PRIORITY_ARG_CRITICAL' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.utils.PriorityDump-property-PRIORITY_ARG_CRITICAL' class='name expandable'>PRIORITY_ARG_CRITICAL</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Defaults to: <code>&quot;CRITICAL&quot;</code></p></div></div></div><div id='property-PRIORITY_ARG_HIGH' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.utils.PriorityDump'>com.android.server.utils.PriorityDump</span><br/><a href='source/PriorityDump.html#com-android-server-utils-PriorityDump-property-PRIORITY_ARG_HIGH' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.utils.PriorityDump-property-PRIORITY_ARG_HIGH' class='name expandable'>PRIORITY_ARG_HIGH</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Defaults to: <code>&quot;HIGH&quot;</code></p></div></div></div><div id='property-PRIORITY_ARG_NORMAL' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.utils.PriorityDump'>com.android.server.utils.PriorityDump</span><br/><a href='source/PriorityDump.html#com-android-server-utils-PriorityDump-property-PRIORITY_ARG_NORMAL' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.utils.PriorityDump-property-PRIORITY_ARG_NORMAL' class='name expandable'>PRIORITY_ARG_NORMAL</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Defaults to: <code>&quot;NORMAL&quot;</code></p></div></div></div><div id='property-PROTO_ARG' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.utils.PriorityDump'>com.android.server.utils.PriorityDump</span><br/><a href='source/PriorityDump.html#com-android-server-utils-PriorityDump-property-PROTO_ARG' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.utils.PriorityDump-property-PROTO_ARG' class='name expandable'>PROTO_ARG</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Defaults to: <code>&quot;--proto&quot;</code></p></div></div></div></div></div><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div id='method-dump' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.utils.PriorityDump'>com.android.server.utils.PriorityDump</span><br/><a href='source/PriorityDump.html#com-android-server-utils-PriorityDump-method-dump' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.utils.PriorityDump-method-dump' class='name expandable'>dump</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Parses {@code args} matching {@code --dump-priority} and/or {@code --proto}. ...</div><div class='long'><p>Parses {@code args} matching {@code --dump-priority} and/or {@code --proto}. The matching\n arguments are stripped.\n <p>\n If priority args are passed as an argument, it will call the appropriate method and if proto\n args are passed then the {@code asProto} flag is set.\n <p>\n For example, if called as {@code --dump-priority HIGH arg1 arg2 arg3}, it will call\n <code>dumper.dumpHigh(fd, pw, {\"arg1\", \"arg2\", \"arg3\"}, false) </code>\n <p>\n If the {@code --dump-priority} is not set, it calls\n PrintWriter, String[], boolean) passing the whole\n {@code args} instead.</p>\n</div></div></div></div></div></div></div>","meta":{}});