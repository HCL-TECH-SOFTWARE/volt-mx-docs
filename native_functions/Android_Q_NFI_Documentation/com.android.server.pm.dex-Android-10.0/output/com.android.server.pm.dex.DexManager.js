Ext.data.JsonP.com_android_server_pm_dex_DexManager({"tagname":"class","name":"com.android.server.pm.dex.DexManager","autodetected":{},"files":[{"filename":"DexManager.js","href":"DexManager.html#com-android-server-pm-dex-DexManager"}],"extends":"java.lang.Object","members":[{"name":"auditUncompressedDexInApk","tagname":"method","owner":"com.android.server.pm.dex.DexManager","id":"method-auditUncompressedDexInApk","meta":{}},{"name":"dexoptSecondaryDex","tagname":"method","owner":"com.android.server.pm.dex.DexManager","id":"method-dexoptSecondaryDex","meta":{}},{"name":"getAllPackagesWithSecondaryDexFiles","tagname":"method","owner":"com.android.server.pm.dex.DexManager","id":"method-getAllPackagesWithSecondaryDexFiles","meta":{}},{"name":"getDynamicCodeLogger","tagname":"method","owner":"com.android.server.pm.dex.DexManager","id":"method-getDynamicCodeLogger","meta":{}},{"name":"getPackageUseInfoOrDefault","tagname":"method","owner":"com.android.server.pm.dex.DexManager","id":"method-getPackageUseInfoOrDefault","meta":{}},{"name":"isPackageSelectedToRunOob","tagname":"method","owner":"com.android.server.pm.dex.DexManager","id":"method-isPackageSelectedToRunOob","meta":{}},{"name":"load","tagname":"method","owner":"com.android.server.pm.dex.DexManager","id":"method-load","meta":{}},{"name":"notifyDexLoad","tagname":"method","owner":"com.android.server.pm.dex.DexManager","id":"method-notifyDexLoad","meta":{}},{"name":"notifyPackageDataDestroyed","tagname":"method","owner":"com.android.server.pm.dex.DexManager","id":"method-notifyPackageDataDestroyed","meta":{}},{"name":"notifyPackageInstalled","tagname":"method","owner":"com.android.server.pm.dex.DexManager","id":"method-notifyPackageInstalled","meta":{}},{"name":"notifyPackageUpdated","tagname":"method","owner":"com.android.server.pm.dex.DexManager","id":"method-notifyPackageUpdated","meta":{}},{"name":"reconcileSecondaryDexFiles","tagname":"method","owner":"com.android.server.pm.dex.DexManager","id":"method-reconcileSecondaryDexFiles","meta":{}},{"name":"registerDexModule","tagname":"method","owner":"com.android.server.pm.dex.DexManager","id":"method-registerDexModule","meta":{}},{"name":"writePackageDexUsageNow","tagname":"method","owner":"com.android.server.pm.dex.DexManager","id":"method-writePackageDexUsageNow","meta":{}}],"alternateClassNames":[],"aliases":{},"id":"class-com.android.server.pm.dex.DexManager","short_doc":"This class keeps track of how dex files are used. ...","classIcon":"icon-class","superclasses":["java.lang.Object"],"subclasses":[],"mixedInto":[],"mixins":[],"parentMixins":[],"requires":[],"uses":[],"html":"<div><pre class=\"hierarchy\"><h4>Hierarchy</h4><div class='subclass first-child'>java.lang.Object<div class='subclass '><strong>com.android.server.pm.dex.DexManager</strong></div></div><h4>Files</h4><div class='dependency'><a href='source/DexManager.html#com-android-server-pm-dex-DexManager' target='_blank'>DexManager.js</a></div></pre><div class='doc-contents'><p>This class keeps track of how dex files are used.\n Every time it gets a notification about a dex file being loaded it tracks\n its owning package and records it in PackageDexUsage (package-dex-usage.list).</p>\n\n<p> TODO(calin): Extract related dexopt functionality from PackageManagerService\n into this class.</p>\n</div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div id='method-auditUncompressedDexInApk' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.pm.dex.DexManager'>com.android.server.pm.dex.DexManager</span><br/><a href='source/DexManager.html#com-android-server-pm-dex-DexManager-method-auditUncompressedDexInApk' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.pm.dex.DexManager-method-auditUncompressedDexInApk' class='name expandable'>auditUncompressedDexInApk</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Generates log if the archive located at {@code fileName} has uncompressed dex file that can\n be direclty mapped. ...</div><div class='long'><p>Generates log if the archive located at {@code fileName} has uncompressed dex file that can\n be direclty mapped.</p>\n</div></div></div><div id='method-dexoptSecondaryDex' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.pm.dex.DexManager'>com.android.server.pm.dex.DexManager</span><br/><a href='source/DexManager.html#com-android-server-pm-dex-DexManager-method-dexoptSecondaryDex' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.pm.dex.DexManager-method-dexoptSecondaryDex' class='name expandable'>dexoptSecondaryDex</a>( <span class='pre'></span> ) : Boolean<span class=\"signature\"></span></div><div class='description'><div class='short'>Perform dexopt on with the given {@code options} on the secondary dex files. ...</div><div class='long'><p>Perform dexopt on with the given {@code options} on the secondary dex files.</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Boolean</span><div class='sub-desc'><p>true if all secondary dex files were processed successfully (compiled or skipped\n         because they don't need to be compiled)..</p>\n</div></li></ul></div></div></div><div id='method-getAllPackagesWithSecondaryDexFiles' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.pm.dex.DexManager'>com.android.server.pm.dex.DexManager</span><br/><a href='source/DexManager.html#com-android-server-pm-dex-DexManager-method-getAllPackagesWithSecondaryDexFiles' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.pm.dex.DexManager-method-getAllPackagesWithSecondaryDexFiles' class='name expandable'>getAllPackagesWithSecondaryDexFiles</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Return all packages that contain records of secondary dex files. ...</div><div class='long'><p>Return all packages that contain records of secondary dex files.</p>\n</div></div></div><div id='method-getDynamicCodeLogger' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.pm.dex.DexManager'>com.android.server.pm.dex.DexManager</span><br/><a href='source/DexManager.html#com-android-server-pm-dex-DexManager-method-getDynamicCodeLogger' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.pm.dex.DexManager-method-getDynamicCodeLogger' class='name expandable'>getDynamicCodeLogger</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-getPackageUseInfoOrDefault' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.pm.dex.DexManager'>com.android.server.pm.dex.DexManager</span><br/><a href='source/DexManager.html#com-android-server-pm-dex-DexManager-method-getPackageUseInfoOrDefault' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.pm.dex.DexManager-method-getPackageUseInfoOrDefault' class='name expandable'>getPackageUseInfoOrDefault</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Get the package dex usage for the given package name. ...</div><div class='long'><p>Get the package dex usage for the given package name.\n If there is no usage info the method will return a default {@code PackageUseInfo} with\n no data about secondary dex files and marked as not being used by other apps.</p>\n\n<p> Note that no use info means the package was not used or it was used but not by other apps.\n Also, note that right now we might prune packages which are not used by other apps.\n TODO(calin): maybe we should not (prune) so we can have an accurate view when we try\n to access the package use.</p>\n</div></div></div><div id='method-isPackageSelectedToRunOob' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.pm.dex.DexManager'>com.android.server.pm.dex.DexManager</span><br/><a href='source/DexManager.html#com-android-server-pm-dex-DexManager-method-isPackageSelectedToRunOob' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.pm.dex.DexManager-method-isPackageSelectedToRunOob' class='name expandable'>isPackageSelectedToRunOob</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Returns whether any of the given packages are in the list of privilaged apps that should run\n out of box. ...</div><div class='long'><p>Returns whether any of the given packages are in the list of privilaged apps that should run\n out of box. This only makes sense if the feature is enabled. Note that when the the OOB list\n is empty, all priv apps will run in OOB mode.</p>\n</div></div></div><div id='method-load' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.pm.dex.DexManager'>com.android.server.pm.dex.DexManager</span><br/><a href='source/DexManager.html#com-android-server-pm-dex-DexManager-method-load' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.pm.dex.DexManager-method-load' class='name expandable'>load</a>( <span class='pre'>existingPackages</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Read the dex usage from disk and populate the code cache locations. ...</div><div class='long'><p>Read the dex usage from disk and populate the code cache locations.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>existingPackages</span> : Object {java.util.Map}<div class='sub-desc'><p>a map containing information about what packages\n          are available to what users. Only packages in this list will be\n          recognized during notifyDexLoad().</p>\n</div></li></ul></div></div></div><div id='method-notifyDexLoad' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.pm.dex.DexManager'>com.android.server.pm.dex.DexManager</span><br/><a href='source/DexManager.html#com-android-server-pm-dex-DexManager-method-notifyDexLoad' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.pm.dex.DexManager-method-notifyDexLoad' class='name expandable'>notifyDexLoad</a>( <span class='pre'>loadingAppInfo, classLoadersNames, classPaths, loaderIsa, loaderUserId</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Notify about dex files loads. ...</div><div class='long'><p>Notify about dex files loads.\n Note that this method is invoked when apps load dex files and it should\n return as fast as possible.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>loadingAppInfo</span> : Object {ApplicationInfo}<div class='sub-desc'><p>the package performing the load</p>\n</div></li><li><span class='pre'>classLoadersNames</span> : Object {java.util.List}<div class='sub-desc'><p>the names of the class loaders present in the loading chain. The\n    list encodes the class loader chain in the natural order. The first class loader has\n    the second one as its parent and so on. The dex files present in the class path of the\n    first class loader will be recorded in the usage file.</p>\n</div></li><li><span class='pre'>classPaths</span> : Object {java.util.List}<div class='sub-desc'><p>the class paths corresponding to the class loaders names from\n     {@param classLoadersNames}. The the first element corresponds to the first class loader\n     and so on. A classpath is represented as a list of dex files separated by\n     {@code File.pathSeparator}, or null if the class loader's classpath is not known.\n     The dex files found in the first class path will be recorded in the usage file.</p>\n</div></li><li><span class='pre'>loaderIsa</span> : String<div class='sub-desc'><p>the ISA of the app loading the dex files</p>\n</div></li><li><span class='pre'>loaderUserId</span> : Number<div class='sub-desc'><p>the user id which runs the code loading the dex files</p>\n</div></li></ul></div></div></div><div id='method-notifyPackageDataDestroyed' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.pm.dex.DexManager'>com.android.server.pm.dex.DexManager</span><br/><a href='source/DexManager.html#com-android-server-pm-dex-DexManager-method-notifyPackageDataDestroyed' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.pm.dex.DexManager-method-notifyPackageDataDestroyed' class='name expandable'>notifyPackageDataDestroyed</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Notifies that the user {@code userId} data for package {@code packageName}\n was destroyed. ...</div><div class='long'><p>Notifies that the user {@code userId} data for package {@code packageName}\n was destroyed. This will remove all usage info associated with the package\n for the given user.\n {@code userId} is allowed to be {@code UserHandle.USER_ALL} in which case\n all usage information for the package will be removed.</p>\n</div></div></div><div id='method-notifyPackageInstalled' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.pm.dex.DexManager'>com.android.server.pm.dex.DexManager</span><br/><a href='source/DexManager.html#com-android-server-pm-dex-DexManager-method-notifyPackageInstalled' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.pm.dex.DexManager-method-notifyPackageInstalled' class='name expandable'>notifyPackageInstalled</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Notifies that a new package was installed for {@code userId}. ...</div><div class='long'><p>Notifies that a new package was installed for {@code userId}.\n {@code userId} must not be {@code UserHandle.USER_ALL}.</p>\n<h3 class='pa'>Throws</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>IllegalArgumentException if {@code userId} is {@code UserHandle.USER_ALL}.</p>\n</div></li></ul></div></div></div><div id='method-notifyPackageUpdated' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.pm.dex.DexManager'>com.android.server.pm.dex.DexManager</span><br/><a href='source/DexManager.html#com-android-server-pm-dex-DexManager-method-notifyPackageUpdated' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.pm.dex.DexManager-method-notifyPackageUpdated' class='name expandable'>notifyPackageUpdated</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Notifies that package {@code packageName} was updated. ...</div><div class='long'><p>Notifies that package {@code packageName} was updated.\n This will clear the UsedByOtherApps mark if it exists.</p>\n</div></div></div><div id='method-reconcileSecondaryDexFiles' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.pm.dex.DexManager'>com.android.server.pm.dex.DexManager</span><br/><a href='source/DexManager.html#com-android-server-pm-dex-DexManager-method-reconcileSecondaryDexFiles' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.pm.dex.DexManager-method-reconcileSecondaryDexFiles' class='name expandable'>reconcileSecondaryDexFiles</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Reconcile the information we have about the secondary dex files belonging to\n {@code packagName} and the actual dex f...</div><div class='long'><p>Reconcile the information we have about the secondary dex files belonging to\n {@code packagName} and the actual dex files. For all dex files that were\n deleted, update the internal records and delete any generated oat files.</p>\n</div></div></div><div id='method-registerDexModule' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.pm.dex.DexManager'>com.android.server.pm.dex.DexManager</span><br/><a href='source/DexManager.html#com-android-server-pm-dex-DexManager-method-registerDexModule' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.pm.dex.DexManager-method-registerDexModule' class='name expandable'>registerDexModule</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-writePackageDexUsageNow' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.pm.dex.DexManager'>com.android.server.pm.dex.DexManager</span><br/><a href='source/DexManager.html#com-android-server-pm-dex-DexManager-method-writePackageDexUsageNow' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.pm.dex.DexManager-method-writePackageDexUsageNow' class='name expandable'>writePackageDexUsageNow</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Writes the in-memory package dex usage to disk right away. ...</div><div class='long'><p>Writes the in-memory package dex usage to disk right away.</p>\n</div></div></div></div></div></div></div>","meta":{}});