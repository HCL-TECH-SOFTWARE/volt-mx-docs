Ext.data.JsonP.android_security_keystore_KeyProtection({"tagname":"class","name":"android.security.keystore.KeyProtection","autodetected":{},"files":[{"filename":"KeyProtection.js","href":"KeyProtection.html#android-security-keystore-KeyProtection"}],"extends":"java.lang.Object","members":[{"name":"getBlockModes","tagname":"method","owner":"android.security.keystore.KeyProtection","id":"method-getBlockModes","meta":{}},{"name":"getDigests","tagname":"method","owner":"android.security.keystore.KeyProtection","id":"method-getDigests","meta":{}},{"name":"getEncryptionPaddings","tagname":"method","owner":"android.security.keystore.KeyProtection","id":"method-getEncryptionPaddings","meta":{}},{"name":"getKeyValidityForConsumptionEnd","tagname":"method","owner":"android.security.keystore.KeyProtection","id":"method-getKeyValidityForConsumptionEnd","meta":{}},{"name":"getKeyValidityForOriginationEnd","tagname":"method","owner":"android.security.keystore.KeyProtection","id":"method-getKeyValidityForOriginationEnd","meta":{}},{"name":"getKeyValidityStart","tagname":"method","owner":"android.security.keystore.KeyProtection","id":"method-getKeyValidityStart","meta":{}},{"name":"getPurposes","tagname":"method","owner":"android.security.keystore.KeyProtection","id":"method-getPurposes","meta":{}},{"name":"getSignaturePaddings","tagname":"method","owner":"android.security.keystore.KeyProtection","id":"method-getSignaturePaddings","meta":{}},{"name":"getUserAuthenticationValidityDurationSeconds","tagname":"method","owner":"android.security.keystore.KeyProtection","id":"method-getUserAuthenticationValidityDurationSeconds","meta":{}},{"name":"isDigestsSpecified","tagname":"method","owner":"android.security.keystore.KeyProtection","id":"method-isDigestsSpecified","meta":{}},{"name":"isInvalidatedByBiometricEnrollment","tagname":"method","owner":"android.security.keystore.KeyProtection","id":"method-isInvalidatedByBiometricEnrollment","meta":{}},{"name":"isRandomizedEncryptionRequired","tagname":"method","owner":"android.security.keystore.KeyProtection","id":"method-isRandomizedEncryptionRequired","meta":{}},{"name":"isUnlockedDeviceRequired","tagname":"method","owner":"android.security.keystore.KeyProtection","id":"method-isUnlockedDeviceRequired","meta":{}},{"name":"isUserAuthenticationRequired","tagname":"method","owner":"android.security.keystore.KeyProtection","id":"method-isUserAuthenticationRequired","meta":{}},{"name":"isUserAuthenticationValidWhileOnBody","tagname":"method","owner":"android.security.keystore.KeyProtection","id":"method-isUserAuthenticationValidWhileOnBody","meta":{}},{"name":"isUserConfirmationRequired","tagname":"method","owner":"android.security.keystore.KeyProtection","id":"method-isUserConfirmationRequired","meta":{}},{"name":"isUserPresenceRequired","tagname":"method","owner":"android.security.keystore.KeyProtection","id":"method-isUserPresenceRequired","meta":{}}],"alternateClassNames":[],"aliases":{},"id":"class-android.security.keystore.KeyProtection","short_doc":"implements java.security.KeyStore.ProtectionParameter\n\n implements android.security.keystore.UserAuthArgs\n\nSpecificat...","classIcon":"icon-class","superclasses":["java.lang.Object"],"subclasses":[],"mixedInto":[],"mixins":[],"parentMixins":[],"requires":[],"uses":[],"html":"<div><pre class=\"hierarchy\"><h4>Hierarchy</h4><div class='subclass first-child'>java.lang.Object<div class='subclass '><strong>android.security.keystore.KeyProtection</strong></div></div><h4>Files</h4><div class='dependency'><a href='source/KeyProtection.html#android-security-keystore-KeyProtection' target='_blank'>KeyProtection.js</a></div></pre><div class='doc-contents'><p>implements java.security.KeyStore.ProtectionParameter</p>\n\n<p> implements <a href=\"#!/api/android.security.keystore.UserAuthArgs\" rel=\"android.security.keystore.UserAuthArgs\" class=\"docClass\">android.security.keystore.UserAuthArgs</a></p>\n\n<p>Specification of how a key or key pair is secured when imported into the\n <a href=\"{@docRoot}training/articles/keystore.html\">Android Keystore system</a>. This class\n specifies authorized uses of the imported key, such as whether user authentication is required\n for using the key, what operations the key is authorized for (e.g., decryption, but not signing)\n with what parameters (e.g., only with a particular padding scheme or digest), and the key's\n validity start and end dates. Key use authorizations expressed in this class apply only to secret\n keys and private keys -- public keys can be used for any supported operations.</p>\n\n<p> <p>To import a key or key pair into the Android Keystore, create an instance of this class using\n the android.security.keystore.KeyGenParameterSpec.Builder and pass the instance into java.security.KeyStore.Entry, ProtectionParameter) KeyStore.setEntry\n with the key or key pair being imported.</p>\n\n<p> <p>To obtain the secret/symmetric or private key from the Android Keystore use\n char[]) KeyStore.getKey(String, null) or\n java.security.KeyStore.ProtectionParameter) KeyStore.getEntry(String, null).\n To obtain the public key from the Android Keystore use\n java.security.KeyStore.getCertificate(String) and then\n Certificate.getPublicKey().</p>\n\n<p> <p>To help obtain algorithm-specific public parameters of key pairs stored in the Android\n Keystore, its private keys implement java.security.interfaces.ECKey or\n java.security.interfaces.RSAKey interfaces whereas its public keys implement\n java.security.interfaces.ECPublicKey or java.security.interfaces.RSAPublicKey\n interfaces.</p>\n\n<p> <p>NOTE: The key material of keys stored in the Android Keystore is not accessible.</p>\n\n<p> <p>Instances of this class are immutable.</p>\n\n<p> <p><h3>Known issues</h3>\n A known bug in Android 6.0 (API Level 23) causes user authentication-related authorizations to be\n enforced even for public keys. To work around this issue extract the public key material to use\n outside of Android Keystore. For example:\n <pre> {@code\n PublicKey unrestrictedPublicKey =\n         KeyFactory.getInstance(publicKey.getAlgorithm()).generatePublic(\n                 new X509EncodedKeySpec(publicKey.getEncoded()));\n }</pre></p>\n\n<p> <p><h3>Example: AES key for encryption/decryption in GCM mode</h3>\n This example illustrates how to import an AES key into the Android KeyStore under alias\n {@code key1} authorized to be used only for encryption/decryption in GCM mode with no padding.\n The key must export its key material via Key.getEncoded() in {@code RAW} format.\n <pre> {@code\n SecretKey key = ...; // AES key</pre></p>\n\n<p> KeyStore keyStore = KeyStore.getInstance(\"AndroidKeyStore\");\n keyStore.load(null);\n keyStore.setEntry(\n         \"key1\",\n         new KeyStore.SecretKeyEntry(key),\n         new KeyProtection.Builder(KeyProperties.PURPOSE_ENCRYPT | KeyProperties.PURPOSE_DECRYPT)\n                 .setBlockMode(KeyProperties.BLOCK_MODE_GCM)\n                 .setEncryptionPaddings(KeyProperties.ENCRYPTION_PADDING_NONE)\n                 .build());\n // Key imported, obtain a reference to it.\n SecretKey keyStoreKey = (SecretKey) keyStore.getKey(\"key1\", null);\n // The original key can now be discarded.</p>\n\n<p> Cipher cipher = Cipher.getInstance(\"AES/GCM/NoPadding\");\n cipher.init(Cipher.ENCRYPT_MODE, keyStoreKey);\n ...\n }</p>\n\n<p> <p><h3>Example: HMAC key for generating MACs using SHA-512</h3>\n This example illustrates how to import an HMAC key into the Android KeyStore under alias\n {@code key1} authorized to be used only for generating MACs using SHA-512 digest. The key must\n export its key material via Key.getEncoded() in {@code RAW} format.\n <pre> {@code\n SecretKey key = ...; // HMAC key of algorithm \"HmacSHA512\".</pre></p>\n\n<p> KeyStore keyStore = KeyStore.getInstance(\"AndroidKeyStore\");\n keyStore.load(null);\n keyStore.setEntry(\n         \"key1\",\n         new KeyStore.SecretKeyEntry(key),\n         new KeyProtection.Builder(KeyProperties.PURPOSE_SIGN).build());\n // Key imported, obtain a reference to it.\n SecretKey keyStoreKey = (SecretKey) keyStore.getKey(\"key1\", null);\n // The original key can now be discarded.</p>\n\n<p> Mac mac = Mac.getInstance(\"HmacSHA512\");\n mac.init(keyStoreKey);\n ...\n }</p>\n\n<p> <p><h3>Example: EC key pair for signing/verification using ECDSA</h3>\n This example illustrates how to import an EC key pair into the Android KeyStore under alias\n {@code key2} with the private key authorized to be used only for signing with SHA-256 or SHA-512\n digests. The use of the public key is unrestricted. Both the private and the public key must\n export their key material via Key.getEncoded() in {@code PKCS#8} and {@code X.509} format\n respectively.\n <pre> {@code\n PrivateKey privateKey = ...;   // EC private key\n Certificate[] certChain = ...; // Certificate chain with the first certificate\n                                // containing the corresponding EC public key.</pre></p>\n\n<p> KeyStore keyStore = KeyStore.getInstance(\"AndroidKeyStore\");\n keyStore.load(null);\n keyStore.setEntry(\n         \"key2\",\n         new KeyStore.PrivateKeyEntry(privateKey, certChain),\n         new KeyProtection.Builder(KeyProperties.PURPOSE_SIGN)\n                 .setDigests(KeyProperties.DIGEST_SHA256, KeyProperties.DIGEST_SHA512)\n                 .build());\n // Key pair imported, obtain a reference to it.\n PrivateKey keyStorePrivateKey = (PrivateKey) keyStore.getKey(\"key2\", null);\n PublicKey publicKey = keyStore.getCertificate(\"key2\").getPublicKey();\n // The original private key can now be discarded.</p>\n\n<p> Signature signature = Signature.getInstance(\"SHA256withECDSA\");\n signature.initSign(keyStorePrivateKey);\n ...\n }</p>\n\n<p> <p><h3>Example: RSA key pair for signing/verification using PKCS#1 padding</h3>\n This example illustrates how to import an RSA key pair into the Android KeyStore under alias\n {@code key2} with the private key authorized to be used only for signing using the PKCS#1\n signature padding scheme with SHA-256 digest and only if the user has been authenticated within\n the last ten minutes. The use of the public key is unrestricted (see Known Issues). Both the\n private and the public key must export their key material via Key.getEncoded() in\n {@code PKCS#8} and {@code X.509} format respectively.\n <pre> {@code\n PrivateKey privateKey = ...;   // RSA private key\n Certificate[] certChain = ...; // Certificate chain with the first certificate\n                                // containing the corresponding RSA public key.</pre></p>\n\n<p> KeyStore keyStore = KeyStore.getInstance(\"AndroidKeyStore\");\n keyStore.load(null);\n keyStore.setEntry(\n         \"key2\",\n         new KeyStore.PrivateKeyEntry(privateKey, certChain),\n         new KeyProtection.Builder(KeyProperties.PURPOSE_SIGN)\n                 .setDigests(KeyProperties.DIGEST_SHA256)\n                 .setSignaturePaddings(KeyProperties.SIGNATURE_PADDING_RSA_PKCS1)\n                 // Only permit this key to be used if the user\n                 // authenticated within the last ten minutes.\n                 .setUserAuthenticationRequired(true)\n                 .setUserAuthenticationValidityDurationSeconds(10 * 60)\n                 .build());\n // Key pair imported, obtain a reference to it.\n PrivateKey keyStorePrivateKey = (PrivateKey) keyStore.getKey(\"key2\", null);\n PublicKey publicKey = keyStore.getCertificate(\"key2\").getPublicKey();\n // The original private key can now be discarded.</p>\n\n<p> Signature signature = Signature.getInstance(\"SHA256withRSA\");\n signature.initSign(keyStorePrivateKey);\n ...\n }</p>\n\n<p> <p><h3>Example: RSA key pair for encryption/decryption using PKCS#1 padding</h3>\n This example illustrates how to import an RSA key pair into the Android KeyStore under alias\n {@code key2} with the private key authorized to be used only for decryption using the PKCS#1\n encryption padding scheme. The use of public key is unrestricted, thus permitting encryption\n using any padding schemes and digests. Both the private and the public key must export their key\n material via Key.getEncoded() in {@code PKCS#8} and {@code X.509} format respectively.\n <pre> {@code\n PrivateKey privateKey = ...;   // RSA private key\n Certificate[] certChain = ...; // Certificate chain with the first certificate\n                                // containing the corresponding RSA public key.</pre></p>\n\n<p> KeyStore keyStore = KeyStore.getInstance(\"AndroidKeyStore\");\n keyStore.load(null);\n keyStore.setEntry(\n         \"key2\",\n         new KeyStore.PrivateKeyEntry(privateKey, certChain),\n         new KeyProtection.Builder(KeyProperties.PURPOSE_DECRYPT)\n                 .setEncryptionPaddings(KeyProperties.ENCRYPTION_PADDING_RSA_PKCS1)\n                 .build());\n // Key pair imported, obtain a reference to it.\n PrivateKey keyStorePrivateKey = (PrivateKey) keyStore.getKey(\"key2\", null);\n PublicKey publicKey = keyStore.getCertificate(\"key2\").getPublicKey();\n // The original private key can now be discarded.</p>\n\n<p> Cipher cipher = Cipher.getInstance(\"RSA/ECB/PKCS1Padding\");\n cipher.init(Cipher.DECRYPT_MODE, keyStorePrivateKey);\n ...\n }</p>\n</div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div id='method-getBlockModes' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.security.keystore.KeyProtection'>android.security.keystore.KeyProtection</span><br/><a href='source/KeyProtection.html#android-security-keystore-KeyProtection-method-getBlockModes' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.security.keystore.KeyProtection-method-getBlockModes' class='name expandable'>getBlockModes</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Gets the set of block modes (e.g., {@code GCM}, {@code CBC}) with which the key can be used\n when encrypting/decrypting. ...</div><div class='long'><p>Gets the set of block modes (e.g., {@code GCM}, {@code CBC}) with which the key can be used\n when encrypting/decrypting. Attempts to use the key with any other block modes will be\n rejected.</p>\n\n<p> <p>See <a href=\"#!/api/android.security.keystore.KeyProperties\" rel=\"android.security.keystore.KeyProperties\" class=\"docClass\">android.security.keystore.KeyProperties</a>.{@code BLOCK_MODE} constants.</p>\n</div></div></div><div id='method-getDigests' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.security.keystore.KeyProtection'>android.security.keystore.KeyProtection</span><br/><a href='source/KeyProtection.html#android-security-keystore-KeyProtection-method-getDigests' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.security.keystore.KeyProtection-method-getDigests' class='name expandable'>getDigests</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Gets the set of digest algorithms (e.g., {@code SHA-256}, {@code SHA-384}) with which the key\n can be used. ...</div><div class='long'><p>Gets the set of digest algorithms (e.g., {@code SHA-256}, {@code SHA-384}) with which the key\n can be used.</p>\n\n<p> <p>See <a href=\"#!/api/android.security.keystore.KeyProperties\" rel=\"android.security.keystore.KeyProperties\" class=\"docClass\">android.security.keystore.KeyProperties</a>.{@code DIGEST} constants.</p>\n<h3 class='pa'>Throws</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>IllegalStateException if this set has not been specified.\n@see <a href=\"#!/api/android.security.keystore.KeyProtection-method-isDigestsSpecified\" rel=\"android.security.keystore.KeyProtection-method-isDigestsSpecified\" class=\"docClass\">isDigestsSpecified</a>()</p>\n</div></li></ul></div></div></div><div id='method-getEncryptionPaddings' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.security.keystore.KeyProtection'>android.security.keystore.KeyProtection</span><br/><a href='source/KeyProtection.html#android-security-keystore-KeyProtection-method-getEncryptionPaddings' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.security.keystore.KeyProtection-method-getEncryptionPaddings' class='name expandable'>getEncryptionPaddings</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Gets the set of padding schemes (e.g., {@code PKCS7Padding}, {@code PKCS1Padding},\n {@code NoPadding}) with which the...</div><div class='long'><p>Gets the set of padding schemes (e.g., {@code PKCS7Padding}, {@code PKCS1Padding},\n {@code NoPadding}) with which the key can be used when encrypting/decrypting. Attempts to use\n the key with any other padding scheme will be rejected.</p>\n\n<p> <p>See <a href=\"#!/api/android.security.keystore.KeyProperties\" rel=\"android.security.keystore.KeyProperties\" class=\"docClass\">android.security.keystore.KeyProperties</a>.{@code ENCRYPTION_PADDING} constants.</p>\n</div></div></div><div id='method-getKeyValidityForConsumptionEnd' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.security.keystore.KeyProtection'>android.security.keystore.KeyProtection</span><br/><a href='source/KeyProtection.html#android-security-keystore-KeyProtection-method-getKeyValidityForConsumptionEnd' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.security.keystore.KeyProtection-method-getKeyValidityForConsumptionEnd' class='name expandable'>getKeyValidityForConsumptionEnd</a>( <span class='pre'></span> ) : Object {java.util.Date}<span class=\"signature\"></span></div><div class='description'><div class='short'>Gets the time instant after which the key is no long valid for decryption and verification. ...</div><div class='long'><p>Gets the time instant after which the key is no long valid for decryption and verification.</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object {java.util.Date}</span><div class='sub-desc'><p>instant or {@code null} if not restricted.</p>\n</div></li></ul></div></div></div><div id='method-getKeyValidityForOriginationEnd' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.security.keystore.KeyProtection'>android.security.keystore.KeyProtection</span><br/><a href='source/KeyProtection.html#android-security-keystore-KeyProtection-method-getKeyValidityForOriginationEnd' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.security.keystore.KeyProtection-method-getKeyValidityForOriginationEnd' class='name expandable'>getKeyValidityForOriginationEnd</a>( <span class='pre'></span> ) : Object {java.util.Date}<span class=\"signature\"></span></div><div class='description'><div class='short'>Gets the time instant after which the key is no long valid for encryption and signing. ...</div><div class='long'><p>Gets the time instant after which the key is no long valid for encryption and signing.</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object {java.util.Date}</span><div class='sub-desc'><p>instant or {@code null} if not restricted.</p>\n</div></li></ul></div></div></div><div id='method-getKeyValidityStart' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.security.keystore.KeyProtection'>android.security.keystore.KeyProtection</span><br/><a href='source/KeyProtection.html#android-security-keystore-KeyProtection-method-getKeyValidityStart' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.security.keystore.KeyProtection-method-getKeyValidityStart' class='name expandable'>getKeyValidityStart</a>( <span class='pre'></span> ) : Object {java.util.Date}<span class=\"signature\"></span></div><div class='description'><div class='short'>Gets the time instant before which the key is not yet valid. ...</div><div class='long'><p>Gets the time instant before which the key is not yet valid.</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object {java.util.Date}</span><div class='sub-desc'><p>instant or {@code null} if not restricted.</p>\n</div></li></ul></div></div></div><div id='method-getPurposes' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.security.keystore.KeyProtection'>android.security.keystore.KeyProtection</span><br/><a href='source/KeyProtection.html#android-security-keystore-KeyProtection-method-getPurposes' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.security.keystore.KeyProtection-method-getPurposes' class='name expandable'>getPurposes</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Gets the set of purposes (e.g., encrypt, decrypt, sign) for which the key can be used. ...</div><div class='long'><p>Gets the set of purposes (e.g., encrypt, decrypt, sign) for which the key can be used.\n Attempts to use the key for any other purpose will be rejected.</p>\n\n<p> <p>See <a href=\"#!/api/android.security.keystore.KeyProperties\" rel=\"android.security.keystore.KeyProperties\" class=\"docClass\">android.security.keystore.KeyProperties</a>.{@code PURPOSE} flags.</p>\n</div></div></div><div id='method-getSignaturePaddings' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.security.keystore.KeyProtection'>android.security.keystore.KeyProtection</span><br/><a href='source/KeyProtection.html#android-security-keystore-KeyProtection-method-getSignaturePaddings' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.security.keystore.KeyProtection-method-getSignaturePaddings' class='name expandable'>getSignaturePaddings</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Gets the set of padding schemes (e.g., {@code PSS}, {@code PKCS#1}) with which the key\n can be used when signing/veri...</div><div class='long'><p>Gets the set of padding schemes (e.g., {@code PSS}, {@code PKCS#1}) with which the key\n can be used when signing/verifying. Attempts to use the key with any other padding scheme\n will be rejected.</p>\n\n<p> <p>See <a href=\"#!/api/android.security.keystore.KeyProperties\" rel=\"android.security.keystore.KeyProperties\" class=\"docClass\">android.security.keystore.KeyProperties</a>.{@code SIGNATURE_PADDING} constants.</p>\n</div></div></div><div id='method-getUserAuthenticationValidityDurationSeconds' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.security.keystore.KeyProtection'>android.security.keystore.KeyProtection</span><br/><a href='source/KeyProtection.html#android-security-keystore-KeyProtection-method-getUserAuthenticationValidityDurationSeconds' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.security.keystore.KeyProtection-method-getUserAuthenticationValidityDurationSeconds' class='name expandable'>getUserAuthenticationValidityDurationSeconds</a>( <span class='pre'></span> ) : Number<span class=\"signature\"></span></div><div class='description'><div class='short'>Gets the duration of time (seconds) for which this key is authorized to be used after the\n user is successfully authe...</div><div class='long'><p>Gets the duration of time (seconds) for which this key is authorized to be used after the\n user is successfully authenticated. This has effect only if user authentication is required\n (see <a href=\"#!/api/android.security.keystore.KeyProtection-method-isUserAuthenticationRequired\" rel=\"android.security.keystore.KeyProtection-method-isUserAuthenticationRequired\" class=\"docClass\">isUserAuthenticationRequired</a>()).</p>\n\n<p> <p>This authorization applies only to secret key and private key operations. Public key\n operations are not restricted.</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Number</span><div class='sub-desc'><p>duration in seconds or {@code -1} if authentication is required for every use of the\n         key.\n@see <a href=\"#!/api/android.security.keystore.KeyProtection-method-isUserAuthenticationRequired\" rel=\"android.security.keystore.KeyProtection-method-isUserAuthenticationRequired\" class=\"docClass\">isUserAuthenticationRequired</a>()\n@see Builder#setUserAuthenticationValidityDurationSeconds(int)</p>\n</div></li></ul></div></div></div><div id='method-isDigestsSpecified' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.security.keystore.KeyProtection'>android.security.keystore.KeyProtection</span><br/><a href='source/KeyProtection.html#android-security-keystore-KeyProtection-method-isDigestsSpecified' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.security.keystore.KeyProtection-method-isDigestsSpecified' class='name expandable'>isDigestsSpecified</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Returns {@code true} if the set of digest algorithms with which the key can be used has been\n specified. ...</div><div class='long'><p>Returns {@code true} if the set of digest algorithms with which the key can be used has been\n specified.\n@see <a href=\"#!/api/android.security.keystore.KeyProtection-method-getDigests\" rel=\"android.security.keystore.KeyProtection-method-getDigests\" class=\"docClass\">getDigests</a>()</p>\n</div></div></div><div id='method-isInvalidatedByBiometricEnrollment' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.security.keystore.KeyProtection'>android.security.keystore.KeyProtection</span><br/><a href='source/KeyProtection.html#android-security-keystore-KeyProtection-method-isInvalidatedByBiometricEnrollment' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.security.keystore.KeyProtection-method-isInvalidatedByBiometricEnrollment' class='name expandable'>isInvalidatedByBiometricEnrollment</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Returns {@code true} if the key is irreversibly invalidated when a new biometric is\n enrolled or all enrolled biometr...</div><div class='long'><p>Returns {@code true} if the key is irreversibly invalidated when a new biometric is\n enrolled or all enrolled biometrics are removed. This has effect only for keys that\n require biometric user authentication for every use.\n@see <a href=\"#!/api/android.security.keystore.KeyProtection-method-isUserAuthenticationRequired\" rel=\"android.security.keystore.KeyProtection-method-isUserAuthenticationRequired\" class=\"docClass\">isUserAuthenticationRequired</a>()\n@see <a href=\"#!/api/android.security.keystore.KeyProtection-method-getUserAuthenticationValidityDurationSeconds\" rel=\"android.security.keystore.KeyProtection-method-getUserAuthenticationValidityDurationSeconds\" class=\"docClass\">getUserAuthenticationValidityDurationSeconds</a>()\n@see Builder#setInvalidatedByBiometricEnrollment(boolean)</p>\n</div></div></div><div id='method-isRandomizedEncryptionRequired' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.security.keystore.KeyProtection'>android.security.keystore.KeyProtection</span><br/><a href='source/KeyProtection.html#android-security-keystore-KeyProtection-method-isRandomizedEncryptionRequired' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.security.keystore.KeyProtection-method-isRandomizedEncryptionRequired' class='name expandable'>isRandomizedEncryptionRequired</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Returns {@code true} if encryption using this key must be sufficiently randomized to produce\n different ciphertexts f...</div><div class='long'><p>Returns {@code true} if encryption using this key must be sufficiently randomized to produce\n different ciphertexts for the same plaintext every time. The formal cryptographic property\n being required is <em>indistinguishability under chosen-plaintext attack ({@code\n IND-CPA})</em>. This property is important because it mitigates several classes of\n weaknesses due to which ciphertext may leak information about plaintext. For example, if a\n given plaintext always produces the same ciphertext, an attacker may see the repeated\n ciphertexts and be able to deduce something about the plaintext.</p>\n</div></div></div><div id='method-isUnlockedDeviceRequired' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.security.keystore.KeyProtection'>android.security.keystore.KeyProtection</span><br/><a href='source/KeyProtection.html#android-security-keystore-KeyProtection-method-isUnlockedDeviceRequired' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.security.keystore.KeyProtection-method-isUnlockedDeviceRequired' class='name expandable'>isUnlockedDeviceRequired</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Returns {@code true} if the screen must be unlocked for this key to be used for decryption or\n signing. ...</div><div class='long'><p>Returns {@code true} if the screen must be unlocked for this key to be used for decryption or\n signing. Encryption and signature verification will still be available when the screen is\n locked.\n@see Builder#setUnlockedDeviceRequired(boolean)</p>\n</div></div></div><div id='method-isUserAuthenticationRequired' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.security.keystore.KeyProtection'>android.security.keystore.KeyProtection</span><br/><a href='source/KeyProtection.html#android-security-keystore-KeyProtection-method-isUserAuthenticationRequired' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.security.keystore.KeyProtection-method-isUserAuthenticationRequired' class='name expandable'>isUserAuthenticationRequired</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Returns {@code true} if the key is authorized to be used only if the user has been\n authenticated. ...</div><div class='long'><p>Returns {@code true} if the key is authorized to be used only if the user has been\n authenticated.</p>\n\n<p> <p>This authorization applies only to secret key and private key operations. Public key\n operations are not restricted.\n@see <a href=\"#!/api/android.security.keystore.KeyProtection-method-getUserAuthenticationValidityDurationSeconds\" rel=\"android.security.keystore.KeyProtection-method-getUserAuthenticationValidityDurationSeconds\" class=\"docClass\">getUserAuthenticationValidityDurationSeconds</a>()\n@see Builder#setUserAuthenticationRequired(boolean)</p>\n</div></div></div><div id='method-isUserAuthenticationValidWhileOnBody' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.security.keystore.KeyProtection'>android.security.keystore.KeyProtection</span><br/><a href='source/KeyProtection.html#android-security-keystore-KeyProtection-method-isUserAuthenticationValidWhileOnBody' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.security.keystore.KeyProtection-method-isUserAuthenticationValidWhileOnBody' class='name expandable'>isUserAuthenticationValidWhileOnBody</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Returns {@code true} if the key will be de-authorized when the device is removed from the\n user's body. ...</div><div class='long'><p>Returns {@code true} if the key will be de-authorized when the device is removed from the\n user's body.  This option has no effect on keys that don't have an authentication validity\n duration, and has no effect if the device lacks an on-body sensor.</p>\n\n<p> <p>Authorization applies only to secret key and private key operations. Public key operations\n are not restricted.\n@see <a href=\"#!/api/android.security.keystore.KeyProtection-method-isUserAuthenticationRequired\" rel=\"android.security.keystore.KeyProtection-method-isUserAuthenticationRequired\" class=\"docClass\">isUserAuthenticationRequired</a>()\n@see <a href=\"#!/api/android.security.keystore.KeyProtection-method-getUserAuthenticationValidityDurationSeconds\" rel=\"android.security.keystore.KeyProtection-method-getUserAuthenticationValidityDurationSeconds\" class=\"docClass\">getUserAuthenticationValidityDurationSeconds</a>()\n@see Builder#setUserAuthenticationValidWhileOnBody(boolean)</p>\n</div></div></div><div id='method-isUserConfirmationRequired' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.security.keystore.KeyProtection'>android.security.keystore.KeyProtection</span><br/><a href='source/KeyProtection.html#android-security-keystore-KeyProtection-method-isUserConfirmationRequired' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.security.keystore.KeyProtection-method-isUserConfirmationRequired' class='name expandable'>isUserConfirmationRequired</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Returns {@code true} if the key is authorized to be used only for messages confirmed by the\n user. ...</div><div class='long'><p>Returns {@code true} if the key is authorized to be used only for messages confirmed by the\n user.</p>\n\n<p> Confirmation is separate from user authentication (see\n <a href=\"#!/api/android.security.keystore.KeyProtection-method-isUserAuthenticationRequired\" rel=\"android.security.keystore.KeyProtection-method-isUserAuthenticationRequired\" class=\"docClass\">isUserAuthenticationRequired</a>()). Keys can be created that require confirmation but\n not user authentication, or user authentication but not confirmation, or both. Confirmation\n verifies that some user with physical possession of the device has approved a displayed\n message. User authentication verifies that the correct user is present and has\n authenticated.</p>\n\n<p> <p>This authorization applies only to secret key and private key operations. Public key\n operations are not restricted.\n@see Builder#setUserConfirmationRequired(boolean)</p>\n</div></div></div><div id='method-isUserPresenceRequired' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.security.keystore.KeyProtection'>android.security.keystore.KeyProtection</span><br/><a href='source/KeyProtection.html#android-security-keystore-KeyProtection-method-isUserPresenceRequired' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.security.keystore.KeyProtection-method-isUserPresenceRequired' class='name expandable'>isUserPresenceRequired</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Returns {@code true} if the key is authorized to be used only if a test of user presence has\n been performed between ...</div><div class='long'><p>Returns {@code true} if the key is authorized to be used only if a test of user presence has\n been performed between the {@code Signature.initSign()} and {@code Signature.sign()} calls.\n It requires that the KeyStore implementation have a direct way to validate the user presence\n for example a KeyStore hardware backed strongbox can use a button press that is observable\n in hardware. A test for user presence is tangential to authentication. The test can be part\n of an authentication step as long as this step can be validated by the hardware protecting\n the key and cannot be spoofed. For example, a physical button press can be used as a test of\n user presence if the other pins connected to the button are not able to simulate a button\n press. There must be no way for the primary processor to fake a button press, or that\n button must not be used as a test of user presence.</p>\n</div></div></div></div></div></div></div>","meta":{}});