Ext.data.JsonP.com_android_server_backup_fullbackup_PerformFullTransportBackupTask({"tagname":"class","name":"com.android.server.backup.fullbackup.PerformFullTransportBackupTask","autodetected":{},"files":[{"filename":"PerformFullTransportBackupTask.js","href":"PerformFullTransportBackupTask.html#com-android-server-backup-fullbackup-PerformFullTransportBackupTask"}],"extends":"com.android.server.backup.fullbackup.FullBackupTask","members":[{"name":"execute","tagname":"method","owner":"com.android.server.backup.fullbackup.PerformFullTransportBackupTask","id":"method-execute","meta":{}},{"name":"handleCancel","tagname":"method","owner":"com.android.server.backup.fullbackup.PerformFullTransportBackupTask","id":"method-handleCancel","meta":{}},{"name":"newWithCurrentTransport","tagname":"method","owner":"com.android.server.backup.fullbackup.PerformFullTransportBackupTask","id":"method-newWithCurrentTransport","meta":{}},{"name":"operationComplete","tagname":"method","owner":"com.android.server.backup.fullbackup.PerformFullTransportBackupTask","id":"method-operationComplete","meta":{}},{"name":"run","tagname":"method","owner":"com.android.server.backup.fullbackup.PerformFullTransportBackupTask","id":"method-run","meta":{}},{"name":"unregisterTask","tagname":"method","owner":"com.android.server.backup.fullbackup.PerformFullTransportBackupTask","id":"method-unregisterTask","meta":{}}],"alternateClassNames":[],"aliases":{},"id":"class-com.android.server.backup.fullbackup.PerformFullTransportBackupTask","short_doc":"implements com.android.server.backup.BackupRestoreTask\n\nFull backup task extension used for transport-oriented operat...","classIcon":"icon-class","superclasses":["java.lang.Object","com.android.server.backup.fullbackup.FullBackupTask"],"subclasses":[],"mixedInto":[],"mixins":[],"parentMixins":[],"requires":[],"uses":[],"html":"<div><pre class=\"hierarchy\"><h4>Hierarchy</h4><div class='subclass first-child'>java.lang.Object<div class='subclass '><a href='#!/api/com.android.server.backup.fullbackup.FullBackupTask' rel='com.android.server.backup.fullbackup.FullBackupTask' class='docClass'>com.android.server.backup.fullbackup.FullBackupTask</a><div class='subclass '><strong>com.android.server.backup.fullbackup.PerformFullTransportBackupTask</strong></div></div></div><h4>Files</h4><div class='dependency'><a href='source/PerformFullTransportBackupTask.html#com-android-server-backup-fullbackup-PerformFullTransportBackupTask' target='_blank'>PerformFullTransportBackupTask.js</a></div></pre><div class='doc-contents'><p>implements com.android.server.backup.BackupRestoreTask</p>\n\n<p>Full backup task extension used for transport-oriented operation.</p>\n\n<p> Flow:\n For each requested package:\n     - Spin off a new SinglePackageBackupRunner (mBackupRunner) for the current package.\n     - Wait until preflight is complete. (mBackupRunner.getPreflightResultBlocking())\n     - If preflight data size is within limit, start reading data from agent pipe and writing\n       to transport pipe. While there is data to send, call transport.sendBackupData(int) to\n       tell the transport how many bytes to expect on its pipe.\n     - After sending all data, call transport.finishBackup() if things went well. And\n       transport.cancelFullBackup() otherwise.</p>\n\n<p> Interactions with mCurrentOperations:\n     - An entry for this object is added to mCurrentOperations for the entire lifetime of this\n       object. Used to cancel the operation.\n     - SinglePackageBackupRunner and SinglePackageBackupPreflight will put ephemeral entries\n       to get timeouts or operation complete callbacks.</p>\n\n<p> Handling cancels:\n     - The contract we provide is that the task won't interact with the transport after\n       handleCancel() is done executing.\n     - This task blocks at 3 points: 1. Preflight result check 2. Reading on agent side pipe\n       and 3. Get backup result from mBackupRunner.\n     - Bubbling up handleCancel to mBackupRunner handles all 3: 1. Calls handleCancel on the\n       preflight operation which counts down on the preflight latch. 2. Tears down the agent,\n       so read() returns -1. 3. Notifies mCurrentOpLock which unblocks\n       mBackupRunner.getBackupResultBlocking().</p>\n</div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div id='method-execute' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.backup.fullbackup.PerformFullTransportBackupTask'>com.android.server.backup.fullbackup.PerformFullTransportBackupTask</span><br/><a href='source/PerformFullTransportBackupTask.html#com-android-server-backup-fullbackup-PerformFullTransportBackupTask-method-execute' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.backup.fullbackup.PerformFullTransportBackupTask-method-execute' class='name expandable'>execute</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-handleCancel' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.backup.fullbackup.PerformFullTransportBackupTask'>com.android.server.backup.fullbackup.PerformFullTransportBackupTask</span><br/><a href='source/PerformFullTransportBackupTask.html#com-android-server-backup-fullbackup-PerformFullTransportBackupTask-method-handleCancel' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.backup.fullbackup.PerformFullTransportBackupTask-method-handleCancel' class='name expandable'>handleCancel</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-newWithCurrentTransport' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.backup.fullbackup.PerformFullTransportBackupTask'>com.android.server.backup.fullbackup.PerformFullTransportBackupTask</span><br/><a href='source/PerformFullTransportBackupTask.html#com-android-server-backup-fullbackup-PerformFullTransportBackupTask-method-newWithCurrentTransport' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.backup.fullbackup.PerformFullTransportBackupTask-method-newWithCurrentTransport' class='name expandable'>newWithCurrentTransport</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-operationComplete' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.backup.fullbackup.PerformFullTransportBackupTask'>com.android.server.backup.fullbackup.PerformFullTransportBackupTask</span><br/><a href='source/PerformFullTransportBackupTask.html#com-android-server-backup-fullbackup-PerformFullTransportBackupTask-method-operationComplete' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.backup.fullbackup.PerformFullTransportBackupTask-method-operationComplete' class='name expandable'>operationComplete</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-run' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.backup.fullbackup.PerformFullTransportBackupTask'>com.android.server.backup.fullbackup.PerformFullTransportBackupTask</span><br/><a href='source/PerformFullTransportBackupTask.html#com-android-server-backup-fullbackup-PerformFullTransportBackupTask-method-run' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.backup.fullbackup.PerformFullTransportBackupTask-method-run' class='name expandable'>run</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-unregisterTask' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.backup.fullbackup.PerformFullTransportBackupTask'>com.android.server.backup.fullbackup.PerformFullTransportBackupTask</span><br/><a href='source/PerformFullTransportBackupTask.html#com-android-server-backup-fullbackup-PerformFullTransportBackupTask-method-unregisterTask' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.backup.fullbackup.PerformFullTransportBackupTask-method-unregisterTask' class='name expandable'>unregisterTask</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div></div></div></div></div>","meta":{}});