Ext.data.JsonP.com_android_internal_os_BatteryStatsHistory({"tagname":"class","name":"com.android.internal.os.BatteryStatsHistory","autodetected":{},"files":[{"filename":"BatteryStatsHistory.js","href":"BatteryStatsHistory.html#com-android-internal-os-BatteryStatsHistory"}],"extends":"java.lang.Object","members":[{"name":"FILE_SUFFIX","tagname":"property","owner":"com.android.internal.os.BatteryStatsHistory","id":"property-FILE_SUFFIX","meta":{}},{"name":"HISTORY_DIR","tagname":"property","owner":"com.android.internal.os.BatteryStatsHistory","id":"property-HISTORY_DIR","meta":{}},{"name":"finishIteratingHistory","tagname":"method","owner":"com.android.internal.os.BatteryStatsHistory","id":"method-finishIteratingHistory","meta":{}},{"name":"getActiveFile","tagname":"method","owner":"com.android.internal.os.BatteryStatsHistory","id":"method-getActiveFile","meta":{}},{"name":"getFilesNumbers","tagname":"method","owner":"com.android.internal.os.BatteryStatsHistory","id":"method-getFilesNumbers","meta":{}},{"name":"getHistoryUsedSize","tagname":"method","owner":"com.android.internal.os.BatteryStatsHistory","id":"method-getHistoryUsedSize","meta":{}},{"name":"getNextParcel","tagname":"method","owner":"com.android.internal.os.BatteryStatsHistory","id":"method-getNextParcel","meta":{}},{"name":"readFileToParcel","tagname":"method","owner":"com.android.internal.os.BatteryStatsHistory","id":"method-readFileToParcel","meta":{}},{"name":"readFromParcel","tagname":"method","owner":"com.android.internal.os.BatteryStatsHistory","id":"method-readFromParcel","meta":{}},{"name":"resetAllFiles","tagname":"method","owner":"com.android.internal.os.BatteryStatsHistory","id":"method-resetAllFiles","meta":{}},{"name":"startIteratingHistory","tagname":"method","owner":"com.android.internal.os.BatteryStatsHistory","id":"method-startIteratingHistory","meta":{}},{"name":"startNextFile","tagname":"method","owner":"com.android.internal.os.BatteryStatsHistory","id":"method-startNextFile","meta":{}},{"name":"writeToParcel","tagname":"method","owner":"com.android.internal.os.BatteryStatsHistory","id":"method-writeToParcel","meta":{}}],"alternateClassNames":[],"aliases":{},"id":"class-com.android.internal.os.BatteryStatsHistory","short_doc":"BatteryStatsHistory encapsulates battery history files. ...","classIcon":"icon-class","superclasses":["java.lang.Object"],"subclasses":[],"mixedInto":[],"mixins":[],"parentMixins":[],"requires":[],"uses":[],"html":"<div><pre class=\"hierarchy\"><h4>Hierarchy</h4><div class='subclass first-child'>java.lang.Object<div class='subclass '><strong>com.android.internal.os.BatteryStatsHistory</strong></div></div><h4>Files</h4><div class='dependency'><a href='source/BatteryStatsHistory.html#com-android-internal-os-BatteryStatsHistory' target='_blank'>BatteryStatsHistory.js</a></div></pre><div class='doc-contents'><p>BatteryStatsHistory encapsulates battery history files.\n Battery history record is appended into buffer mHistoryBuffer and backed up into\n mActiveFile.\n When mHistoryBuffer size reaches <a href=\"#!/api/com.android.internal.os.BatteryStatsImpl.Constants-property-MAX_HISTORY_BUFFER\" rel=\"com.android.internal.os.BatteryStatsImpl.Constants-property-MAX_HISTORY_BUFFER\" class=\"docClass\">com.android.internal.os.BatteryStatsImpl.Constants.MAX_HISTORY_BUFFER</a>,\n current mActiveFile is closed and a new mActiveFile is open.\n History files are under directory /data/system/battery-history/.\n History files have name battery-history-<num>.bin. The file number <num> starts from zero and\n grows sequentially.\n The mActiveFile is always the highest numbered history file.\n The lowest number file is always the oldest file.\n The highest number file is always the newest file.\n The file number grows sequentially and we never skip number.\n When count of history files exceeds <a href=\"#!/api/com.android.internal.os.BatteryStatsImpl.Constants-property-MAX_HISTORY_FILES\" rel=\"com.android.internal.os.BatteryStatsImpl.Constants-property-MAX_HISTORY_FILES\" class=\"docClass\">com.android.internal.os.BatteryStatsImpl.Constants.MAX_HISTORY_FILES</a>,\n the lowest numbered file is deleted and a new file is open.</num></num></p>\n\n<p> All interfaces in BatteryStatsHistory should only be called by BatteryStatsImpl and protected by\n locks on BatteryStatsImpl object.</p>\n</div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-property'>Properties</h3><div class='subsection'><div id='property-FILE_SUFFIX' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.internal.os.BatteryStatsHistory'>com.android.internal.os.BatteryStatsHistory</span><br/><a href='source/BatteryStatsHistory.html#com-android-internal-os-BatteryStatsHistory-property-FILE_SUFFIX' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.internal.os.BatteryStatsHistory-property-FILE_SUFFIX' class='name expandable'>FILE_SUFFIX</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Defaults to: <code>&quot;.bin&quot;</code></p></div></div></div><div id='property-HISTORY_DIR' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.internal.os.BatteryStatsHistory'>com.android.internal.os.BatteryStatsHistory</span><br/><a href='source/BatteryStatsHistory.html#com-android-internal-os-BatteryStatsHistory-property-HISTORY_DIR' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.internal.os.BatteryStatsHistory-property-HISTORY_DIR' class='name expandable'>HISTORY_DIR</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Defaults to: <code>&quot;battery-history&quot;</code></p></div></div></div></div></div><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div id='method-finishIteratingHistory' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.internal.os.BatteryStatsHistory'>com.android.internal.os.BatteryStatsHistory</span><br/><a href='source/BatteryStatsHistory.html#com-android-internal-os-BatteryStatsHistory-method-finishIteratingHistory' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.internal.os.BatteryStatsHistory-method-finishIteratingHistory' class='name expandable'>finishIteratingHistory</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Finish iterating history files and history buffer. ...</div><div class='long'><p>Finish iterating history files and history buffer.</p>\n</div></div></div><div id='method-getActiveFile' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.internal.os.BatteryStatsHistory'>com.android.internal.os.BatteryStatsHistory</span><br/><a href='source/BatteryStatsHistory.html#com-android-internal-os-BatteryStatsHistory-method-getActiveFile' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.internal.os.BatteryStatsHistory-method-getActiveFile' class='name expandable'>getActiveFile</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-getFilesNumbers' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.internal.os.BatteryStatsHistory'>com.android.internal.os.BatteryStatsHistory</span><br/><a href='source/BatteryStatsHistory.html#com-android-internal-os-BatteryStatsHistory-method-getFilesNumbers' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.internal.os.BatteryStatsHistory-method-getFilesNumbers' class='name expandable'>getFilesNumbers</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-getHistoryUsedSize' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.internal.os.BatteryStatsHistory'>com.android.internal.os.BatteryStatsHistory</span><br/><a href='source/BatteryStatsHistory.html#com-android-internal-os-BatteryStatsHistory-method-getHistoryUsedSize' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.internal.os.BatteryStatsHistory-method-getHistoryUsedSize' class='name expandable'>getHistoryUsedSize</a>( <span class='pre'></span> ) : Number<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Number</span><div class='sub-desc'><p>the total size of all history files and history buffer.</p>\n</div></li></ul></div></div></div><div id='method-getNextParcel' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.internal.os.BatteryStatsHistory'>com.android.internal.os.BatteryStatsHistory</span><br/><a href='source/BatteryStatsHistory.html#com-android-internal-os-BatteryStatsHistory-method-getNextParcel' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.internal.os.BatteryStatsHistory-method-getNextParcel' class='name expandable'>getNextParcel</a>( <span class='pre'>out</span> ) : Object {android.os.Parcel}<span class=\"signature\"></span></div><div class='description'><div class='short'>When iterating history files and history buffer, always start from the lowest numbered\n history file, when reached th...</div><div class='long'><p>When iterating history files and history buffer, always start from the lowest numbered\n history file, when reached the mActiveFile (highest numbered history file), do not read from\n mActiveFile, read from history buffer instead because the buffer has more updated data.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>out</span> : Object {BatteryStats.HistoryItem}<div class='sub-desc'><p>a history item.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object {android.os.Parcel}</span><div class='sub-desc'><p>The parcel that has next record. null if finished all history files and history\n         buffer</p>\n</div></li></ul></div></div></div><div id='method-readFileToParcel' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.internal.os.BatteryStatsHistory'>com.android.internal.os.BatteryStatsHistory</span><br/><a href='source/BatteryStatsHistory.html#com-android-internal-os-BatteryStatsHistory-method-readFileToParcel' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.internal.os.BatteryStatsHistory-method-readFileToParcel' class='name expandable'>readFileToParcel</a>( <span class='pre'>out, file</span> ) : Boolean<span class=\"signature\"></span></div><div class='description'><div class='short'>Read history file into a parcel. ...</div><div class='long'><p>Read history file into a parcel.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>out</span> : Object {Parcel}<div class='sub-desc'><p>the Parcel read into.</p>\n</div></li><li><span class='pre'>file</span> : Object {AtomicFile}<div class='sub-desc'><p>the File to read from.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Boolean</span><div class='sub-desc'><p>true if success, false otherwise.</p>\n</div></li></ul></div></div></div><div id='method-readFromParcel' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.internal.os.BatteryStatsHistory'>com.android.internal.os.BatteryStatsHistory</span><br/><a href='source/BatteryStatsHistory.html#com-android-internal-os-BatteryStatsHistory-method-readFromParcel' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.internal.os.BatteryStatsHistory-method-readFromParcel' class='name expandable'>readFromParcel</a>( <span class='pre'>in</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>This is for Settings app, when Settings app receives big history parcel, it call\n this method to parse it into list o...</div><div class='long'><p>This is for Settings app, when Settings app receives big history parcel, it call\n this method to parse it into list of parcels.\n Checkin file also call this method.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>in</span> : Object {Parcel}<div class='sub-desc'><p>the input parcel.</p>\n</div></li></ul></div></div></div><div id='method-resetAllFiles' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.internal.os.BatteryStatsHistory'>com.android.internal.os.BatteryStatsHistory</span><br/><a href='source/BatteryStatsHistory.html#com-android-internal-os-BatteryStatsHistory-method-resetAllFiles' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.internal.os.BatteryStatsHistory-method-resetAllFiles' class='name expandable'>resetAllFiles</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Delete all existing history files. ...</div><div class='long'><p>Delete all existing history files. Active history file start from number 0 again.</p>\n</div></div></div><div id='method-startIteratingHistory' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.internal.os.BatteryStatsHistory'>com.android.internal.os.BatteryStatsHistory</span><br/><a href='source/BatteryStatsHistory.html#com-android-internal-os-BatteryStatsHistory-method-startIteratingHistory' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.internal.os.BatteryStatsHistory-method-startIteratingHistory' class='name expandable'>startIteratingHistory</a>( <span class='pre'></span> ) : Boolean<span class=\"signature\"></span></div><div class='description'><div class='short'>Start iterating history files and history buffer. ...</div><div class='long'><p>Start iterating history files and history buffer.</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Boolean</span><div class='sub-desc'><p>always return true.</p>\n</div></li></ul></div></div></div><div id='method-startNextFile' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.internal.os.BatteryStatsHistory'>com.android.internal.os.BatteryStatsHistory</span><br/><a href='source/BatteryStatsHistory.html#com-android-internal-os-BatteryStatsHistory-method-startNextFile' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.internal.os.BatteryStatsHistory-method-startNextFile' class='name expandable'>startNextFile</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>When mHistoryBuffer reaches com.android.internal.os.BatteryStatsImpl.Constants.MAX_HISTORY_BUFFER,\n create next histo...</div><div class='long'><p>When mHistoryBuffer reaches <a href=\"#!/api/com.android.internal.os.BatteryStatsImpl.Constants-property-MAX_HISTORY_BUFFER\" rel=\"com.android.internal.os.BatteryStatsImpl.Constants-property-MAX_HISTORY_BUFFER\" class=\"docClass\">com.android.internal.os.BatteryStatsImpl.Constants.MAX_HISTORY_BUFFER</a>,\n create next history file.</p>\n</div></div></div><div id='method-writeToParcel' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.internal.os.BatteryStatsHistory'>com.android.internal.os.BatteryStatsHistory</span><br/><a href='source/BatteryStatsHistory.html#com-android-internal-os-BatteryStatsHistory-method-writeToParcel' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.internal.os.BatteryStatsHistory-method-writeToParcel' class='name expandable'>writeToParcel</a>( <span class='pre'>out</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Read all history files and serialize into a big Parcel. ...</div><div class='long'><p>Read all history files and serialize into a big Parcel. This is to send history files to\n Settings app since Settings app can not access /data/system directory.\n Checkin file also call this method.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>out</span> : Object {Parcel}<div class='sub-desc'><p>the output parcel</p>\n</div></li></ul></div></div></div></div></div></div></div>","meta":{}});