Ext.data.JsonP.com_android_server_AppStateTracker({"tagname":"class","name":"com.android.server.AppStateTracker","autodetected":{},"files":[{"filename":"AppStateTracker.js","href":"AppStateTracker.html#com-android-server-AppStateTracker"}],"extends":"java.lang.Object","members":[{"name":"addListener","tagname":"method","owner":"com.android.server.AppStateTracker","id":"method-addListener","meta":{}},{"name":"areAlarmsRestricted","tagname":"method","owner":"com.android.server.AppStateTracker","id":"method-areAlarmsRestricted","meta":{}},{"name":"areForegroundServicesRestricted","tagname":"method","owner":"com.android.server.AppStateTracker","id":"method-areForegroundServicesRestricted","meta":{}},{"name":"areJobsRestricted","tagname":"method","owner":"com.android.server.AppStateTracker","id":"method-areJobsRestricted","meta":{}},{"name":"dump","tagname":"method","owner":"com.android.server.AppStateTracker","id":"method-dump","meta":{}},{"name":"dumpProto","tagname":"method","owner":"com.android.server.AppStateTracker","id":"method-dumpProto","meta":{}},{"name":"isRunAnyInBackgroundAppOpsAllowed","tagname":"method","owner":"com.android.server.AppStateTracker","id":"method-isRunAnyInBackgroundAppOpsAllowed","meta":{}},{"name":"isUidActive","tagname":"method","owner":"com.android.server.AppStateTracker","id":"method-isUidActive","meta":{}},{"name":"isUidActiveSynced","tagname":"method","owner":"com.android.server.AppStateTracker","id":"method-isUidActiveSynced","meta":{}},{"name":"isUidInForeground","tagname":"method","owner":"com.android.server.AppStateTracker","id":"method-isUidInForeground","meta":{}},{"name":"isUidPowerSaveUserWhitelisted","tagname":"method","owner":"com.android.server.AppStateTracker","id":"method-isUidPowerSaveUserWhitelisted","meta":{}},{"name":"isUidPowerSaveWhitelisted","tagname":"method","owner":"com.android.server.AppStateTracker","id":"method-isUidPowerSaveWhitelisted","meta":{}},{"name":"isUidTempPowerSaveWhitelisted","tagname":"method","owner":"com.android.server.AppStateTracker","id":"method-isUidTempPowerSaveWhitelisted","meta":{}},{"name":"onSystemServicesReady","tagname":"method","owner":"com.android.server.AppStateTracker","id":"method-onSystemServicesReady","meta":{}},{"name":"setPowerSaveWhitelistAppIds","tagname":"method","owner":"com.android.server.AppStateTracker","id":"method-setPowerSaveWhitelistAppIds","meta":{}}],"alternateClassNames":[],"aliases":{},"id":"class-com.android.server.AppStateTracker","short_doc":"Class to keep track of the information related to \"force app standby\", which includes:\n - OP_RUN_ANY_IN_BACKGROUND fo...","classIcon":"icon-class","superclasses":["java.lang.Object"],"subclasses":[],"mixedInto":[],"mixins":[],"parentMixins":[],"requires":[],"uses":[],"html":"<div><pre class=\"hierarchy\"><h4>Hierarchy</h4><div class='subclass first-child'>java.lang.Object<div class='subclass '><strong>com.android.server.AppStateTracker</strong></div></div><h4>Files</h4><div class='dependency'><a href='source/AppStateTracker.html#com-android-server-AppStateTracker' target='_blank'>AppStateTracker.js</a></div></pre><div class='doc-contents'><p>Class to keep track of the information related to \"force app standby\", which includes:\n - OP_RUN_ANY_IN_BACKGROUND for each package\n - UID foreground/active state\n - User+system power save whitelist\n - Temporary power save whitelist\n - Global \"force all apps standby\" mode enforced by battery saver.</p>\n\n<p> Test:\n  atest $ANDROID_BUILD_TOP/frameworks/base/services/tests/servicestests/src/com/android/server/AppStateTrackerTest.java</p>\n</div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div id='method-addListener' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.AppStateTracker'>com.android.server.AppStateTracker</span><br/><a href='source/AppStateTracker.html#com-android-server-AppStateTracker-method-addListener' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.AppStateTracker-method-addListener' class='name expandable'>addListener</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Register a new listener. ...</div><div class='long'><p>Register a new listener.</p>\n</div></div></div><div id='method-areAlarmsRestricted' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.AppStateTracker'>com.android.server.AppStateTracker</span><br/><a href='source/AppStateTracker.html#com-android-server-AppStateTracker-method-areAlarmsRestricted' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.AppStateTracker-method-areAlarmsRestricted' class='name expandable'>areAlarmsRestricted</a>( <span class='pre'></span> ) : Boolean<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Boolean</span><div class='sub-desc'><p>whether alarms should be restricted for a UID package-name.</p>\n</div></li></ul></div></div></div><div id='method-areForegroundServicesRestricted' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.AppStateTracker'>com.android.server.AppStateTracker</span><br/><a href='source/AppStateTracker.html#com-android-server-AppStateTracker-method-areForegroundServicesRestricted' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.AppStateTracker-method-areForegroundServicesRestricted' class='name expandable'>areForegroundServicesRestricted</a>( <span class='pre'></span> ) : Boolean<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Boolean</span><div class='sub-desc'><p>whether foreground services should be suppressed in the background\n due to forced app standby for the given app</p>\n</div></li></ul></div></div></div><div id='method-areJobsRestricted' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.AppStateTracker'>com.android.server.AppStateTracker</span><br/><a href='source/AppStateTracker.html#com-android-server-AppStateTracker-method-areJobsRestricted' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.AppStateTracker-method-areJobsRestricted' class='name expandable'>areJobsRestricted</a>( <span class='pre'></span> ) : Boolean<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Boolean</span><div class='sub-desc'><p>whether jobs should be restricted for a UID package-name.</p>\n</div></li></ul></div></div></div><div id='method-dump' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.AppStateTracker'>com.android.server.AppStateTracker</span><br/><a href='source/AppStateTracker.html#com-android-server-AppStateTracker-method-dump' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.AppStateTracker-method-dump' class='name expandable'>dump</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-dumpProto' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.AppStateTracker'>com.android.server.AppStateTracker</span><br/><a href='source/AppStateTracker.html#com-android-server-AppStateTracker-method-dumpProto' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.AppStateTracker-method-dumpProto' class='name expandable'>dumpProto</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-isRunAnyInBackgroundAppOpsAllowed' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.AppStateTracker'>com.android.server.AppStateTracker</span><br/><a href='source/AppStateTracker.html#com-android-server-AppStateTracker-method-isRunAnyInBackgroundAppOpsAllowed' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.AppStateTracker-method-isRunAnyInBackgroundAppOpsAllowed' class='name expandable'>isRunAnyInBackgroundAppOpsAllowed</a>( <span class='pre'></span> ) : Boolean<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Boolean</span><div class='sub-desc'><p>whether a UID/package has {@code OP_RUN_ANY_IN_BACKGROUND} allowed or not.</p>\n\n<p> Note clients normally shouldn't need to access it. It's only for dumpsys.</p>\n</div></li></ul></div></div></div><div id='method-isUidActive' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.AppStateTracker'>com.android.server.AppStateTracker</span><br/><a href='source/AppStateTracker.html#com-android-server-AppStateTracker-method-isUidActive' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.AppStateTracker-method-isUidActive' class='name expandable'>isUidActive</a>( <span class='pre'></span> ) : Boolean<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Boolean</span><div class='sub-desc'><p>whether a UID is in active or not <em>based on cached information.</em></p>\n\n<p> Note this information is based on the UID proc state callback, meaning it's updated\n asynchronously and may subtly be stale. If the fresh data is needed, use\n <a href=\"#!/api/com.android.server.AppStateTracker-method-isUidActiveSynced\" rel=\"com.android.server.AppStateTracker-method-isUidActiveSynced\" class=\"docClass\">isUidActiveSynced</a> instead.</p>\n</div></li></ul></div></div></div><div id='method-isUidActiveSynced' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.AppStateTracker'>com.android.server.AppStateTracker</span><br/><a href='source/AppStateTracker.html#com-android-server-AppStateTracker-method-isUidActiveSynced' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.AppStateTracker-method-isUidActiveSynced' class='name expandable'>isUidActiveSynced</a>( <span class='pre'></span> ) : Boolean<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Boolean</span><div class='sub-desc'><p>whether a UID is in active or not <em>right now.</em></p>\n\n<p> This gives the fresh information, but may access the activity manager so is slower.</p>\n</div></li></ul></div></div></div><div id='method-isUidInForeground' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.AppStateTracker'>com.android.server.AppStateTracker</span><br/><a href='source/AppStateTracker.html#com-android-server-AppStateTracker-method-isUidInForeground' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.AppStateTracker-method-isUidInForeground' class='name expandable'>isUidInForeground</a>( <span class='pre'></span> ) : Boolean<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Boolean</span><div class='sub-desc'><p>whether a UID is in the foreground or not.</p>\n\n<p> Note this information is based on the UID proc state callback, meaning it's updated\n asynchronously and may subtly be stale. If the fresh data is needed, use\n ActivityManagerInternal.getUidProcessState instead.</p>\n</div></li></ul></div></div></div><div id='method-isUidPowerSaveUserWhitelisted' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.AppStateTracker'>com.android.server.AppStateTracker</span><br/><a href='source/AppStateTracker.html#com-android-server-AppStateTracker-method-isUidPowerSaveUserWhitelisted' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.AppStateTracker-method-isUidPowerSaveUserWhitelisted' class='name expandable'>isUidPowerSaveUserWhitelisted</a>( <span class='pre'>uid</span> ) : Boolean<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>uid</span> : Number<div class='sub-desc'><p>the uid to check for</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Boolean</span><div class='sub-desc'><p>whether a UID is in the user defined power-save whitelist or not.</p>\n</div></li></ul></div></div></div><div id='method-isUidPowerSaveWhitelisted' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.AppStateTracker'>com.android.server.AppStateTracker</span><br/><a href='source/AppStateTracker.html#com-android-server-AppStateTracker-method-isUidPowerSaveWhitelisted' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.AppStateTracker-method-isUidPowerSaveWhitelisted' class='name expandable'>isUidPowerSaveWhitelisted</a>( <span class='pre'></span> ) : Boolean<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Boolean</span><div class='sub-desc'><p>whether a UID is in the user / system defined power-save whitelist or not.</p>\n\n<p> Note clients normally shouldn't need to access it. It's only for dumpsys.</p>\n</div></li></ul></div></div></div><div id='method-isUidTempPowerSaveWhitelisted' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.AppStateTracker'>com.android.server.AppStateTracker</span><br/><a href='source/AppStateTracker.html#com-android-server-AppStateTracker-method-isUidTempPowerSaveWhitelisted' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.AppStateTracker-method-isUidTempPowerSaveWhitelisted' class='name expandable'>isUidTempPowerSaveWhitelisted</a>( <span class='pre'></span> ) : Boolean<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Boolean</span><div class='sub-desc'><p>whether a UID is in the temp power-save whitelist or not.</p>\n\n<p> Note clients normally shouldn't need to access it. It's only for dumpsys.</p>\n</div></li></ul></div></div></div><div id='method-onSystemServicesReady' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.AppStateTracker'>com.android.server.AppStateTracker</span><br/><a href='source/AppStateTracker.html#com-android-server-AppStateTracker-method-onSystemServicesReady' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.AppStateTracker-method-onSystemServicesReady' class='name expandable'>onSystemServicesReady</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Call it when the system is ready. ...</div><div class='long'><p>Call it when the system is ready.</p>\n</div></div></div><div id='method-setPowerSaveWhitelistAppIds' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.AppStateTracker'>com.android.server.AppStateTracker</span><br/><a href='source/AppStateTracker.html#com-android-server-AppStateTracker-method-setPowerSaveWhitelistAppIds' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.AppStateTracker-method-setPowerSaveWhitelistAppIds' class='name expandable'>setPowerSaveWhitelistAppIds</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Called by device idle controller to update the power save whitelists. ...</div><div class='long'><p>Called by device idle controller to update the power save whitelists.</p>\n</div></div></div></div></div></div></div>","meta":{}});