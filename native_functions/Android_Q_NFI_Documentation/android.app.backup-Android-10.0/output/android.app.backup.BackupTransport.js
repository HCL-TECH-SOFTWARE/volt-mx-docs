Ext.data.JsonP.android_app_backup_BackupTransport({"tagname":"class","name":"android.app.backup.BackupTransport","autodetected":{},"files":[{"filename":"BackupTransport.js","href":"BackupTransport.html#android-app-backup-BackupTransport"}],"extends":"java.lang.Object","hide":true,"members":[{"name":"AGENT_ERROR","tagname":"property","owner":"android.app.backup.BackupTransport","id":"property-AGENT_ERROR","meta":{}},{"name":"AGENT_UNKNOWN","tagname":"property","owner":"android.app.backup.BackupTransport","id":"property-AGENT_UNKNOWN","meta":{}},{"name":"EXTRA_TRANSPORT_REGISTRATION","tagname":"property","owner":"android.app.backup.BackupTransport","id":"property-EXTRA_TRANSPORT_REGISTRATION","meta":{}},{"name":"FLAG_INCREMENTAL","tagname":"property","owner":"android.app.backup.BackupTransport","id":"property-FLAG_INCREMENTAL","meta":{}},{"name":"FLAG_NON_INCREMENTAL","tagname":"property","owner":"android.app.backup.BackupTransport","id":"property-FLAG_NON_INCREMENTAL","meta":{}},{"name":"FLAG_USER_INITIATED","tagname":"property","owner":"android.app.backup.BackupTransport","id":"property-FLAG_USER_INITIATED","meta":{}},{"name":"NO_MORE_DATA","tagname":"property","owner":"android.app.backup.BackupTransport","id":"property-NO_MORE_DATA","meta":{}},{"name":"TRANSPORT_ERROR","tagname":"property","owner":"android.app.backup.BackupTransport","id":"property-TRANSPORT_ERROR","meta":{}},{"name":"TRANSPORT_NON_INCREMENTAL_BACKUP_REQUIRED","tagname":"property","owner":"android.app.backup.BackupTransport","id":"property-TRANSPORT_NON_INCREMENTAL_BACKUP_REQUIRED","meta":{}},{"name":"TRANSPORT_NOT_INITIALIZED","tagname":"property","owner":"android.app.backup.BackupTransport","id":"property-TRANSPORT_NOT_INITIALIZED","meta":{}},{"name":"TRANSPORT_OK","tagname":"property","owner":"android.app.backup.BackupTransport","id":"property-TRANSPORT_OK","meta":{}},{"name":"TRANSPORT_PACKAGE_REJECTED","tagname":"property","owner":"android.app.backup.BackupTransport","id":"property-TRANSPORT_PACKAGE_REJECTED","meta":{}},{"name":"TRANSPORT_QUOTA_EXCEEDED","tagname":"property","owner":"android.app.backup.BackupTransport","id":"property-TRANSPORT_QUOTA_EXCEEDED","meta":{}},{"name":"abortFullRestore","tagname":"method","owner":"android.app.backup.BackupTransport","id":"method-abortFullRestore","meta":{}},{"name":"cancelFullBackup","tagname":"method","owner":"android.app.backup.BackupTransport","id":"method-cancelFullBackup","meta":{}},{"name":"checkFullBackupSize","tagname":"method","owner":"android.app.backup.BackupTransport","id":"method-checkFullBackupSize","meta":{}},{"name":"clearBackupData","tagname":"method","owner":"android.app.backup.BackupTransport","id":"method-clearBackupData","meta":{}},{"name":"configurationIntent","tagname":"method","owner":"android.app.backup.BackupTransport","id":"method-configurationIntent","meta":{}},{"name":"currentDestinationString","tagname":"method","owner":"android.app.backup.BackupTransport","id":"method-currentDestinationString","meta":{}},{"name":"dataManagementIntent","tagname":"method","owner":"android.app.backup.BackupTransport","id":"method-dataManagementIntent","meta":{}},{"name":"dataManagementIntentLabel","tagname":"method","owner":"android.app.backup.BackupTransport","id":"method-dataManagementIntentLabel","meta":{}},{"name":"dataManagementLabel","tagname":"method","owner":"android.app.backup.BackupTransport","id":"method-dataManagementLabel","meta":{"deprecated":{"text":"<p>Since Android Q, please use the variant dataManagementIntentLabel()\n     instead.</p>\n"}}},{"name":"finishBackup","tagname":"method","owner":"android.app.backup.BackupTransport","id":"method-finishBackup","meta":{}},{"name":"finishRestore","tagname":"method","owner":"android.app.backup.BackupTransport","id":"method-finishRestore","meta":{}},{"name":"getAvailableRestoreSets","tagname":"method","owner":"android.app.backup.BackupTransport","id":"method-getAvailableRestoreSets","meta":{}},{"name":"getBackupQuota","tagname":"method","owner":"android.app.backup.BackupTransport","id":"method-getBackupQuota","meta":{}},{"name":"getBinder","tagname":"method","owner":"android.app.backup.BackupTransport","id":"method-getBinder","meta":{}},{"name":"getCurrentRestoreSet","tagname":"method","owner":"android.app.backup.BackupTransport","id":"method-getCurrentRestoreSet","meta":{}},{"name":"getNextFullRestoreDataChunk","tagname":"method","owner":"android.app.backup.BackupTransport","id":"method-getNextFullRestoreDataChunk","meta":{}},{"name":"getRestoreData","tagname":"method","owner":"android.app.backup.BackupTransport","id":"method-getRestoreData","meta":{}},{"name":"getTransportFlags","tagname":"method","owner":"android.app.backup.BackupTransport","id":"method-getTransportFlags","meta":{}},{"name":"initializeDevice","tagname":"method","owner":"android.app.backup.BackupTransport","id":"method-initializeDevice","meta":{}},{"name":"isAppEligibleForBackup","tagname":"method","owner":"android.app.backup.BackupTransport","id":"method-isAppEligibleForBackup","meta":{}},{"name":"name","tagname":"method","owner":"android.app.backup.BackupTransport","id":"method-name","meta":{}},{"name":"nextRestorePackage","tagname":"method","owner":"android.app.backup.BackupTransport","id":"method-nextRestorePackage","meta":{}},{"name":"performBackup","tagname":"method","owner":"android.app.backup.BackupTransport","id":"method-performBackup","meta":{}},{"name":"performFullBackup","tagname":"method","owner":"android.app.backup.BackupTransport","id":"method-performFullBackup","meta":{}},{"name":"requestBackupTime","tagname":"method","owner":"android.app.backup.BackupTransport","id":"method-requestBackupTime","meta":{}},{"name":"requestFullBackupTime","tagname":"method","owner":"android.app.backup.BackupTransport","id":"method-requestFullBackupTime","meta":{}},{"name":"sendBackupData","tagname":"method","owner":"android.app.backup.BackupTransport","id":"method-sendBackupData","meta":{}},{"name":"startRestore","tagname":"method","owner":"android.app.backup.BackupTransport","id":"method-startRestore","meta":{}},{"name":"transportDirName","tagname":"method","owner":"android.app.backup.BackupTransport","id":"method-transportDirName","meta":{}}],"alternateClassNames":[],"aliases":{},"id":"class-android.app.backup.BackupTransport","classIcon":"icon-class","superclasses":["java.lang.Object"],"subclasses":[],"mixedInto":[],"mixins":[],"parentMixins":[],"requires":[],"uses":[],"html":"<div><pre class=\"hierarchy\"><h4>Hierarchy</h4><div class='subclass first-child'>java.lang.Object<div class='subclass '><strong>android.app.backup.BackupTransport</strong></div></div><h4>Files</h4><div class='dependency'><a href='source/BackupTransport.html#android-app-backup-BackupTransport' target='_blank'>BackupTransport.js</a></div></pre><div class='doc-contents'><p>Concrete class that provides a stable-API bridge between IBackupTransport\n and its implementations.</p>\n</div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-property'>Properties</h3><div class='subsection'><div id='property-AGENT_ERROR' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-property-AGENT_ERROR' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-property-AGENT_ERROR' class='name expandable'>AGENT_ERROR</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Defaults to: <code>&quot;-1003&quot;</code></p></div></div></div><div id='property-AGENT_UNKNOWN' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-property-AGENT_UNKNOWN' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-property-AGENT_UNKNOWN' class='name expandable'>AGENT_UNKNOWN</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Defaults to: <code>&quot;-1004&quot;</code></p></div></div></div><div id='property-EXTRA_TRANSPORT_REGISTRATION' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-property-EXTRA_TRANSPORT_REGISTRATION' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-property-EXTRA_TRANSPORT_REGISTRATION' class='name expandable'>EXTRA_TRANSPORT_REGISTRATION</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'>Used as a boolean extra in the binding intent of transports. ...</div><div class='long'><p>Used as a boolean extra in the binding intent of transports. We pass {@code true} to\nnotify transports that the current connection is used for registering the transport.</p>\n<p>Defaults to: <code>&quot;android.app.backup.extra.TRANSPORT_REGISTRATION&quot;</code></p></div></div></div><div id='property-FLAG_INCREMENTAL' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-property-FLAG_INCREMENTAL' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-property-FLAG_INCREMENTAL' class='name expandable'>FLAG_INCREMENTAL</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'>For key value backup, indicates that the backup data is a diff from a previous backup. ...</div><div class='long'><p>For key value backup, indicates that the backup data is a diff from a previous backup. The\ntransport must apply this diff to an existing backup to build the new backup set.</p>\n\n<p>@see <a href=\"#!/api/android.app.backup.BackupTransport-method-performBackup\" rel=\"android.app.backup.BackupTransport-method-performBackup\" class=\"docClass\">performBackup</a>(PackageInfo, ParcelFileDescriptor, int)</p>\n<p>Defaults to: <code>&quot;2&quot;</code></p></div></div></div><div id='property-FLAG_NON_INCREMENTAL' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-property-FLAG_NON_INCREMENTAL' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-property-FLAG_NON_INCREMENTAL' class='name expandable'>FLAG_NON_INCREMENTAL</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'>For key value backup, indicates that the backup data is a complete set, not a diff from a\nprevious backup. ...</div><div class='long'><p>For key value backup, indicates that the backup data is a complete set, not a diff from a\nprevious backup. The transport should clear any previous backup when storing this backup.</p>\n\n<p>@see <a href=\"#!/api/android.app.backup.BackupTransport-method-performBackup\" rel=\"android.app.backup.BackupTransport-method-performBackup\" class=\"docClass\">performBackup</a>(PackageInfo, ParcelFileDescriptor, int)</p>\n<p>Defaults to: <code>&quot;4&quot;</code></p></div></div></div><div id='property-FLAG_USER_INITIATED' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-property-FLAG_USER_INITIATED' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-property-FLAG_USER_INITIATED' class='name expandable'>FLAG_USER_INITIATED</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Defaults to: <code>&quot;1&quot;</code></p></div></div></div><div id='property-NO_MORE_DATA' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-property-NO_MORE_DATA' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-property-NO_MORE_DATA' class='name expandable'>NO_MORE_DATA</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Defaults to: <code>&quot;-1&quot;</code></p></div></div></div><div id='property-TRANSPORT_ERROR' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-property-TRANSPORT_ERROR' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-property-TRANSPORT_ERROR' class='name expandable'>TRANSPORT_ERROR</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Defaults to: <code>&quot;-1000&quot;</code></p></div></div></div><div id='property-TRANSPORT_NON_INCREMENTAL_BACKUP_REQUIRED' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-property-TRANSPORT_NON_INCREMENTAL_BACKUP_REQUIRED' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-property-TRANSPORT_NON_INCREMENTAL_BACKUP_REQUIRED' class='name expandable'>TRANSPORT_NON_INCREMENTAL_BACKUP_REQUIRED</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'>Indicates that the transport cannot accept a diff backup for this package. ...</div><div class='long'><p>Indicates that the transport cannot accept a diff backup for this package.</p>\n\n<p><p>Backup manager should clear its state for this package and immediately retry a\nnon-incremental backup. This might be used if the transport no longer has data for this\npackage in its backing store.</p>\n\n<p><p>This is only valid when backup manager called ParcelFileDescriptor, int) with <a href=\"#!/api/android.app.backup.BackupTransport-property-FLAG_INCREMENTAL\" rel=\"android.app.backup.BackupTransport-property-FLAG_INCREMENTAL\" class=\"docClass\">FLAG_INCREMENTAL</a>.</p>\n<p>Defaults to: <code>&quot;-1006&quot;</code></p></div></div></div><div id='property-TRANSPORT_NOT_INITIALIZED' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-property-TRANSPORT_NOT_INITIALIZED' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-property-TRANSPORT_NOT_INITIALIZED' class='name expandable'>TRANSPORT_NOT_INITIALIZED</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Defaults to: <code>&quot;-1001&quot;</code></p></div></div></div><div id='property-TRANSPORT_OK' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-property-TRANSPORT_OK' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-property-TRANSPORT_OK' class='name expandable'>TRANSPORT_OK</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Defaults to: <code>&quot;0&quot;</code></p></div></div></div><div id='property-TRANSPORT_PACKAGE_REJECTED' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-property-TRANSPORT_PACKAGE_REJECTED' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-property-TRANSPORT_PACKAGE_REJECTED' class='name expandable'>TRANSPORT_PACKAGE_REJECTED</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Defaults to: <code>&quot;-1002&quot;</code></p></div></div></div><div id='property-TRANSPORT_QUOTA_EXCEEDED' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-property-TRANSPORT_QUOTA_EXCEEDED' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-property-TRANSPORT_QUOTA_EXCEEDED' class='name expandable'>TRANSPORT_QUOTA_EXCEEDED</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Defaults to: <code>&quot;-1005&quot;</code></p></div></div></div></div></div><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div id='method-abortFullRestore' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-method-abortFullRestore' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-method-abortFullRestore' class='name expandable'>abortFullRestore</a>( <span class='pre'></span> ) : Number<span class=\"signature\"></span></div><div class='description'><div class='short'>If the OS encounters an error while processing android.app.backup.RestoreDescription.TYPE_FULL_STREAM\n data for resto...</div><div class='long'><p>If the OS encounters an error while processing <a href=\"#!/api/android.app.backup.RestoreDescription-property-TYPE_FULL_STREAM\" rel=\"android.app.backup.RestoreDescription-property-TYPE_FULL_STREAM\" class=\"docClass\">android.app.backup.RestoreDescription.TYPE_FULL_STREAM</a>\n data for restore, it will invoke this method to tell the transport that it should\n abandon the data download for the current package.  The OS will then either call\n <a href=\"#!/api/android.app.backup.BackupTransport-method-nextRestorePackage\" rel=\"android.app.backup.BackupTransport-method-nextRestorePackage\" class=\"docClass\">nextRestorePackage</a>() again to move on to restoring the next package in the\n set being iterated over, or will call <a href=\"#!/api/android.app.backup.BackupTransport-method-finishRestore\" rel=\"android.app.backup.BackupTransport-method-finishRestore\" class=\"docClass\">finishRestore</a>() to shut down the restore\n operation.</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Number</span><div class='sub-desc'><p><a href=\"#!/api/android.app.backup.BackupTransport-property-TRANSPORT_OK\" rel=\"android.app.backup.BackupTransport-property-TRANSPORT_OK\" class=\"docClass\">TRANSPORT_OK</a> if the transport was successful in shutting down the\n    current stream cleanly, or <a href=\"#!/api/android.app.backup.BackupTransport-property-TRANSPORT_ERROR\" rel=\"android.app.backup.BackupTransport-property-TRANSPORT_ERROR\" class=\"docClass\">TRANSPORT_ERROR</a> to indicate a serious\n    transport-level failure.  If the transport reports an error here, the entire restore\n    operation will immediately be finished with no further attempts to restore app data.</p>\n</div></li></ul></div></div></div><div id='method-cancelFullBackup' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-method-cancelFullBackup' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-method-cancelFullBackup' class='name expandable'>cancelFullBackup</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Tells the transport to cancel the currently-ongoing full backup operation. ...</div><div class='long'><p>Tells the transport to cancel the currently-ongoing full backup operation.  This\n will happen between <a href=\"#!/api/android.app.backup.BackupTransport-method-performFullBackup\" rel=\"android.app.backup.BackupTransport-method-performFullBackup\" class=\"docClass\">performFullBackup</a>() and <a href=\"#!/api/android.app.backup.BackupTransport-method-finishBackup\" rel=\"android.app.backup.BackupTransport-method-finishBackup\" class=\"docClass\">finishBackup</a>()\n if the OS needs to abort the backup operation for any reason, such as a crash in\n the application undergoing backup.</p>\n\n<p> <p>When it receives this call, the transport should discard any partial archive\n that it has stored so far.  If possible it should also roll back to the previous\n known-good archive in its datastore.</p>\n\n<p> <p>If the transport receives this callback, it will <em>not</em> receive a\n call to <a href=\"#!/api/android.app.backup.BackupTransport-method-finishBackup\" rel=\"android.app.backup.BackupTransport-method-finishBackup\" class=\"docClass\">finishBackup</a>().  It needs to tear down any ongoing backup state\n here.</p>\n</div></div></div><div id='method-checkFullBackupSize' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-method-checkFullBackupSize' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-method-checkFullBackupSize' class='name expandable'>checkFullBackupSize</a>( <span class='pre'>size</span> ) : Number<span class=\"signature\"></span></div><div class='description'><div class='short'>Called after performFullBackup to make sure that the transport is willing to\n handle a full-data backup operation of ...</div><div class='long'><p>Called after <a href=\"#!/api/android.app.backup.BackupTransport-method-performFullBackup\" rel=\"android.app.backup.BackupTransport-method-performFullBackup\" class=\"docClass\">performFullBackup</a> to make sure that the transport is willing to\n handle a full-data backup operation of the specified size on the current package.\n If the transport returns anything other than TRANSPORT_OK, the package's backup\n operation will be skipped (and invoked with no data for that\n package being passed to <a href=\"#!/api/android.app.backup.BackupTransport-method-sendBackupData\" rel=\"android.app.backup.BackupTransport-method-sendBackupData\" class=\"docClass\">sendBackupData</a>.</p>\n\n<p> <p class=\"note\">The platform does no size-based rejection of full backup attempts on\n its own: it is always the responsibility of the transport to implement its own policy.\n In particular, even if the preflighted payload size is zero, the platform will still call\n this method and will proceed to back up an archive metadata header with no file content\n if this method returns TRANSPORT_OK.  To avoid storing such payloads the transport\n must recognize this case and return TRANSPORT_PACKAGE_REJECTED.</p>\n\n<p> Added in android.os.Build.VERSION_CODES.M.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>size</span> : Number<div class='sub-desc'><p>The estimated size of the full-data payload for this app.  This includes\n         manifest and archive format overhead, but is not guaranteed to be precise.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Number</span><div class='sub-desc'><p>TRANSPORT_OK if the platform is to proceed with the full-data backup,\n         TRANSPORT_PACKAGE_REJECTED if the proposed payload size is too large for\n         the transport to handle, or TRANSPORT_ERROR to indicate a fatal error\n         condition that means the platform cannot perform a backup at this time.</p>\n</div></li></ul></div></div></div><div id='method-clearBackupData' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-method-clearBackupData' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-method-clearBackupData' class='name expandable'>clearBackupData</a>( <span class='pre'></span> ) : Number<span class=\"signature\"></span></div><div class='description'><div class='short'>Erase the given application's data from the backup destination. ...</div><div class='long'><p>Erase the given application's data from the backup destination.  This clears\n out the given package's data from the current backup set, making it as though\n the app had never yet been backed up.  After this is called, finishBackup\n must be called to ensure that the operation is recorded successfully.</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Number</span><div class='sub-desc'><p>the same error codes as <a href=\"#!/api/android.app.backup.BackupTransport-method-performBackup\" rel=\"android.app.backup.BackupTransport-method-performBackup\" class=\"docClass\">performBackup</a>.</p>\n</div></li></ul></div></div></div><div id='method-configurationIntent' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-method-configurationIntent' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-method-configurationIntent' class='name expandable'>configurationIntent</a>( <span class='pre'></span> ) : Object {android.content.Intent}<span class=\"signature\"></span></div><div class='description'><div class='short'>Ask the transport for an Intent that can be used to launch any internal\n configuration Activity that it wishes to pre...</div><div class='long'><p>Ask the transport for an Intent that can be used to launch any internal\n configuration Activity that it wishes to present.  For example, the transport\n may offer a UI for allowing the user to supply login credentials for the\n transport's off-device backend.</p>\n\n<p> <p>If the transport does not supply any user-facing configuration UI, it should\n return {@code null} from this method.</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object {android.content.Intent}</span><div class='sub-desc'><p>An Intent that can be passed to Context.startActivity() in order to\n         launch the transport's configuration UI.  This method will return {@code null}\n         if the transport does not offer any user-facing configuration UI.</p>\n</div></li></ul></div></div></div><div id='method-currentDestinationString' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-method-currentDestinationString' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-method-currentDestinationString' class='name expandable'>currentDestinationString</a>( <span class='pre'></span> ) : String<span class=\"signature\"></span></div><div class='description'><div class='short'>On demand, supply a one-line string that can be shown to the user that\n describes the current backend destination. ...</div><div class='long'><p>On demand, supply a one-line string that can be shown to the user that\n describes the current backend destination.  For example, a transport that\n can potentially associate backup data with arbitrary user accounts should\n include the name of the currently-active account here.</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>String</span><div class='sub-desc'><p>A string describing the destination to which the transport is currently\n         sending data.  This method should not return null.</p>\n</div></li></ul></div></div></div><div id='method-dataManagementIntent' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-method-dataManagementIntent' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-method-dataManagementIntent' class='name expandable'>dataManagementIntent</a>( <span class='pre'></span> ) : Object {android.content.Intent}<span class=\"signature\"></span></div><div class='description'><div class='short'>Ask the transport for an Intent that can be used to launch a more detailed\n secondary data management activity. ...</div><div class='long'><p>Ask the transport for an Intent that can be used to launch a more detailed\n secondary data management activity.  For example, the configuration intent might\n be one for allowing the user to select which account they wish to associate\n their backups with, and the management intent might be one which presents a\n UI for managing the data on the backend.</p>\n\n<p> <p>In the Settings UI, the configuration intent will typically be invoked\n when the user taps on the preferences item labeled with the current\n destination string, and the management intent will be placed in an overflow\n menu labelled with the management label string.</p>\n\n<p> <p>If the transport does not supply any user-facing data management\n UI, then it should return {@code null} from this method.</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object {android.content.Intent}</span><div class='sub-desc'><p>An intent that can be passed to Context.startActivity() in order to\n         launch the transport's data-management UI.  This method will return\n         {@code null} if the transport does not offer any user-facing data\n         management UI.</p>\n</div></li></ul></div></div></div><div id='method-dataManagementIntentLabel' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-method-dataManagementIntentLabel' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-method-dataManagementIntentLabel' class='name expandable'>dataManagementIntentLabel</a>( <span class='pre'></span> ) : Object {java.lang.CharSequence}<span class=\"signature\"></span></div><div class='description'><div class='short'>On demand, supply a short CharSequence that can be shown to the user as the label on an\n overflow menu item used to i...</div><div class='long'><p>On demand, supply a short CharSequence that can be shown to the user as the label on an\n overflow menu item used to invoke the data management UI.</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object {java.lang.CharSequence}</span><div class='sub-desc'><p>A CharSequence to be used as the label for the transport's data management\n     affordance. If the transport supplies a data management intent, this method must not\n     return {@code null}.</p>\n</div></li></ul></div></div></div><div id='method-dataManagementLabel' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-method-dataManagementLabel' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-method-dataManagementLabel' class='name expandable'>dataManagementLabel</a>( <span class='pre'></span> ) : String<span class=\"signature\"><span class='deprecated' >deprecated</span></span></div><div class='description'><div class='short'>On demand, supply a short string that can be shown to the user as the label on an overflow\n menu item used to invoke ...</div><div class='long'><p>On demand, supply a short string that can be shown to the user as the label on an overflow\n menu item used to invoke the data management UI.</p>\n        <div class='rounded-box deprecated-box deprecated-tag-box'>\n        <p>This method has been <strong>deprecated</strong> </p>\n        <p>Since Android Q, please use the variant dataManagementIntentLabel()\n     instead.</p>\n\n        </div>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>String</span><div class='sub-desc'><p>A string to be used as the label for the transport's data management affordance. If\n     the transport supplies a data management intent, this method must not return {@code\n     null}.</p>\n</div></li></ul></div></div></div><div id='method-finishBackup' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-method-finishBackup' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-method-finishBackup' class='name expandable'>finishBackup</a>( <span class='pre'></span> ) : Number<span class=\"signature\"></span></div><div class='description'><div class='short'>Finish sending application data to the backup destination. ...</div><div class='long'><p>Finish sending application data to the backup destination.  This must be\n called after <a href=\"#!/api/android.app.backup.BackupTransport-method-performBackup\" rel=\"android.app.backup.BackupTransport-method-performBackup\" class=\"docClass\">performBackup</a>, <a href=\"#!/api/android.app.backup.BackupTransport-method-performFullBackup\" rel=\"android.app.backup.BackupTransport-method-performFullBackup\" class=\"docClass\">performFullBackup</a>, or clearBackupData\n to ensure that all data is sent and the operation properly finalized.  Only when this\n method returns true can a backup be assumed to have succeeded.</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Number</span><div class='sub-desc'><p>the same error codes as <a href=\"#!/api/android.app.backup.BackupTransport-method-performBackup\" rel=\"android.app.backup.BackupTransport-method-performBackup\" class=\"docClass\">performBackup</a> or <a href=\"#!/api/android.app.backup.BackupTransport-method-performFullBackup\" rel=\"android.app.backup.BackupTransport-method-performFullBackup\" class=\"docClass\">performFullBackup</a>.</p>\n</div></li></ul></div></div></div><div id='method-finishRestore' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-method-finishRestore' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-method-finishRestore' class='name expandable'>finishRestore</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>End a restore session (aborting any in-process data transfer as necessary),\n freeing any resources and connections us...</div><div class='long'><p>End a restore session (aborting any in-process data transfer as necessary),\n freeing any resources and connections used during the restore process.</p>\n</div></div></div><div id='method-getAvailableRestoreSets' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-method-getAvailableRestoreSets' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-method-getAvailableRestoreSets' class='name expandable'>getAvailableRestoreSets</a>( <span class='pre'></span> ) : Object {android.app.backup.RestoreSet}<span class=\"signature\"></span></div><div class='description'><div class='short'>Get the set of all backups currently available over this transport. ...</div><div class='long'><p>Get the set of all backups currently available over this transport.</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object {android.app.backup.RestoreSet}</span><div class='sub-desc'><p>Descriptions of the set of restore images available for this device,\n   or null if an error occurred (the attempt should be rescheduled).</p>\n</div></li></ul></div></div></div><div id='method-getBackupQuota' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-method-getBackupQuota' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-method-getBackupQuota' class='name expandable'>getBackupQuota</a>( <span class='pre'>packageName, isFullBackup</span> ) : Number<span class=\"signature\"></span></div><div class='description'><div class='short'>Ask the transport about current quota for backup size of the package. ...</div><div class='long'><p>Ask the transport about current quota for backup size of the package.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>packageName</span> : String<div class='sub-desc'><p>ID of package to provide the quota.</p>\n</div></li><li><span class='pre'>isFullBackup</span> : Boolean<div class='sub-desc'><p>If set, transport should return limit for full data backup, otherwise\n                     for key-value backup.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Number</span><div class='sub-desc'><p>Current limit on backup size in bytes.</p>\n</div></li></ul></div></div></div><div id='method-getBinder' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-method-getBinder' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-method-getBinder' class='name expandable'>getBinder</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-getCurrentRestoreSet' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-method-getCurrentRestoreSet' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-method-getCurrentRestoreSet' class='name expandable'>getCurrentRestoreSet</a>( <span class='pre'></span> ) : Number<span class=\"signature\"></span></div><div class='description'><div class='short'>Get the identifying token of the backup set currently being stored from\n this device. ...</div><div class='long'><p>Get the identifying token of the backup set currently being stored from\n this device.  This is used in the case of applications wishing to restore\n their last-known-good data.</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Number</span><div class='sub-desc'><p>A token that can be passed to <a href=\"#!/api/android.app.backup.BackupTransport-method-startRestore\" rel=\"android.app.backup.BackupTransport-method-startRestore\" class=\"docClass\">startRestore</a>, or 0 if there\n   is no backup set available corresponding to the current device state.</p>\n</div></li></ul></div></div></div><div id='method-getNextFullRestoreDataChunk' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-method-getNextFullRestoreDataChunk' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-method-getNextFullRestoreDataChunk' class='name expandable'>getNextFullRestoreDataChunk</a>( <span class='pre'>socket</span> ) : Number<span class=\"signature\"></span></div><div class='description'><div class='short'>Ask the transport to provide data for the \"current\" package being restored. ...</div><div class='long'><p>Ask the transport to provide data for the \"current\" package being restored.  This\n is the package that was just reported by <a href=\"#!/api/android.app.backup.BackupTransport-method-nextRestorePackage\" rel=\"android.app.backup.BackupTransport-method-nextRestorePackage\" class=\"docClass\">nextRestorePackage</a>() as having\n <a href=\"#!/api/android.app.backup.RestoreDescription-property-TYPE_FULL_STREAM\" rel=\"android.app.backup.RestoreDescription-property-TYPE_FULL_STREAM\" class=\"docClass\">android.app.backup.RestoreDescription.TYPE_FULL_STREAM</a> data.</p>\n\n<p> The transport writes some data to the socket supplied to this call, and returns\n the number of bytes written.  The system will then read that many bytes and\n stream them to the application's agent for restore, then will call this method again\n to receive the next chunk of the archive.  This sequence will be repeated until the\n transport returns zero indicating that all of the package's data has been delivered\n (or returns a negative value indicating some sort of hard error condition at the\n transport level).</p>\n\n<p> <p>After this method returns zero, the system will then call\n <a href=\"#!/api/android.app.backup.BackupTransport-method-nextRestorePackage\" rel=\"android.app.backup.BackupTransport-method-nextRestorePackage\" class=\"docClass\">nextRestorePackage</a>() to begin the restore process for the next\n application, and the sequence begins again.</p>\n\n<p> <p>The transport should always close this socket when returning from this method.\n Do not cache this socket across multiple calls or you may leak file descriptors.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>socket</span> : Object {ParcelFileDescriptor}<div class='sub-desc'><p>The file descriptor that the transport will use for delivering the\n    streamed archive.  The transport must close this socket in all cases when returning\n    from this method.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Number</span><div class='sub-desc'><p><a href=\"#!/api/android.app.backup.BackupTransport-property-NO_MORE_DATA\" rel=\"android.app.backup.BackupTransport-property-NO_MORE_DATA\" class=\"docClass\">NO_MORE_DATA</a> when no more data for the current package is available.\n    A positive value indicates the presence of that many bytes to be delivered to the app.\n    A value of zero indicates that no data was deliverable at this time, but the restore\n    is still running and the caller should retry.  <a href=\"#!/api/android.app.backup.BackupTransport-property-TRANSPORT_PACKAGE_REJECTED\" rel=\"android.app.backup.BackupTransport-property-TRANSPORT_PACKAGE_REJECTED\" class=\"docClass\">TRANSPORT_PACKAGE_REJECTED</a>\n    means that the current package's restore operation should be aborted, but that\n    the transport itself is still in a good state and so a multiple-package restore\n    sequence can still be continued.  Any other negative return value is treated as a\n    fatal error condition that aborts all further restore operations on the current dataset.</p>\n</div></li></ul></div></div></div><div id='method-getRestoreData' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-method-getRestoreData' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-method-getRestoreData' class='name expandable'>getRestoreData</a>( <span class='pre'>data</span> ) : Number<span class=\"signature\"></span></div><div class='description'><div class='short'>Get the data for the application returned by nextRestorePackage, if that\n method reported android.app.backup.RestoreD...</div><div class='long'><p>Get the data for the application returned by <a href=\"#!/api/android.app.backup.BackupTransport-method-nextRestorePackage\" rel=\"android.app.backup.BackupTransport-method-nextRestorePackage\" class=\"docClass\">nextRestorePackage</a>, if that\n method reported <a href=\"#!/api/android.app.backup.RestoreDescription-property-TYPE_KEY_VALUE\" rel=\"android.app.backup.RestoreDescription-property-TYPE_KEY_VALUE\" class=\"docClass\">android.app.backup.RestoreDescription.TYPE_KEY_VALUE</a> as its delivery type.\n If the package has only TYPE_FULL_STREAM data, then this method will return an\n error.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>data</span> : Object {ParcelFileDescriptor}<div class='sub-desc'><p>An open, writable file into which the key/value backup data should be stored.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Number</span><div class='sub-desc'><p>the same error codes as <a href=\"#!/api/android.app.backup.BackupTransport-method-startRestore\" rel=\"android.app.backup.BackupTransport-method-startRestore\" class=\"docClass\">startRestore</a>.</p>\n</div></li></ul></div></div></div><div id='method-getTransportFlags' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-method-getTransportFlags' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-method-getTransportFlags' class='name expandable'>getTransportFlags</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Returns flags with additional information about the transport, which is accessible to the\n android.app.backup.BackupA...</div><div class='long'><p>Returns flags with additional information about the transport, which is accessible to the\n <a href=\"#!/api/android.app.backup.BackupAgent\" rel=\"android.app.backup.BackupAgent\" class=\"docClass\">android.app.backup.BackupAgent</a>. This allows the agent to decide what to do based on\n properties of the transport.</p>\n</div></div></div><div id='method-initializeDevice' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-method-initializeDevice' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-method-initializeDevice' class='name expandable'>initializeDevice</a>( <span class='pre'></span> ) : Number<span class=\"signature\"></span></div><div class='description'><div class='short'>Initialize the server side storage for this device, erasing all stored data. ...</div><div class='long'><p>Initialize the server side storage for this device, erasing all stored data.\n The transport may send the request immediately, or may buffer it.  After\n this is called, <a href=\"#!/api/android.app.backup.BackupTransport-method-finishBackup\" rel=\"android.app.backup.BackupTransport-method-finishBackup\" class=\"docClass\">finishBackup</a> will be called to ensure the request\n is sent and received successfully.</p>\n\n<p> <p>If the transport returns anything other than TRANSPORT_OK from this method,\n the OS will halt the current initialize operation and schedule a retry in the\n near future.  Even if the transport is in a state such that attempting to\n \"initialize\" the backend storage is meaningless -- for example, if there is\n no current live dataset at all, or there is no authenticated account under which\n to store the data remotely -- the transport should return TRANSPORT_OK here\n and treat the initializeDevice() / finishBackup() pair as a graceful no-op.</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Number</span><div class='sub-desc'><p>One of BackupTransport.TRANSPORT_OK (OK so far) or\n   BackupTransport.TRANSPORT_ERROR (to retry following network error\n   or other failure).</p>\n</div></li></ul></div></div></div><div id='method-isAppEligibleForBackup' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-method-isAppEligibleForBackup' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-method-isAppEligibleForBackup' class='name expandable'>isAppEligibleForBackup</a>( <span class='pre'>targetPackage, isFullBackup</span> ) : Boolean<span class=\"signature\"></span></div><div class='description'><div class='short'>Ask the transport whether this app is eligible for backup. ...</div><div class='long'><p>Ask the transport whether this app is eligible for backup.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>targetPackage</span> : Object {PackageInfo}<div class='sub-desc'><p>The identity of the application.</p>\n</div></li><li><span class='pre'>isFullBackup</span> : Boolean<div class='sub-desc'><p>If set, transport should check if app is eligible for full data backup,\n   otherwise to check if eligible for key-value backup.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Boolean</span><div class='sub-desc'><p>Whether this app is eligible for backup.</p>\n</div></li></ul></div></div></div><div id='method-name' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-method-name' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-method-name' class='name expandable'>name</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Ask the transport for the name under which it should be registered. ...</div><div class='long'><p>Ask the transport for the name under which it should be registered.  This will\n typically be its host service's component name, but need not be.</p>\n</div></div></div><div id='method-nextRestorePackage' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-method-nextRestorePackage' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-method-nextRestorePackage' class='name expandable'>nextRestorePackage</a>( <span class='pre'></span> ) : Object {android.app.backup.RestoreDescription}<span class=\"signature\"></span></div><div class='description'><div class='short'>Get the package name of the next application with data in the backup store, plus\n a description of the structure of t...</div><div class='long'><p>Get the package name of the next application with data in the backup store, plus\n a description of the structure of the restored archive: either TYPE_KEY_VALUE for\n an original-API key/value dataset, or TYPE_FULL_STREAM for a tarball-type archive stream.</p>\n\n<p> <p>If the package name in the returned RestoreDescription object is the singleton\n <a href=\"#!/api/android.app.backup.RestoreDescription-property-NO_MORE_PACKAGES\" rel=\"android.app.backup.RestoreDescription-property-NO_MORE_PACKAGES\" class=\"docClass\">android.app.backup.RestoreDescription.NO_MORE_PACKAGES</a>, it indicates that no further data is available\n in the current restore session: all packages described in startRestore() have been\n processed.</p>\n\n<p> <p>If this method returns {@code null}, it means that a transport-level error has\n occurred and the entire restore operation should be abandoned.</p>\n\n<p> <p class=\"note\">The OS may call <a href=\"#!/api/android.app.backup.BackupTransport-method-nextRestorePackage\" rel=\"android.app.backup.BackupTransport-method-nextRestorePackage\" class=\"docClass\">nextRestorePackage</a>() multiple times\n before calling either getRestoreData()\n or getNextFullRestoreDataChunk().\n It does this when it has determined that it needs to skip restore of one or more\n packages.  The transport should not actually transfer any restore data for\n the given package in response to <a href=\"#!/api/android.app.backup.BackupTransport-method-nextRestorePackage\" rel=\"android.app.backup.BackupTransport-method-nextRestorePackage\" class=\"docClass\">nextRestorePackage</a>(), but rather wait\n for an explicit request before doing so.</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object {android.app.backup.RestoreDescription}</span><div class='sub-desc'><p>A RestoreDescription object containing the name of one of the packages\n   supplied to <a href=\"#!/api/android.app.backup.BackupTransport-method-startRestore\" rel=\"android.app.backup.BackupTransport-method-startRestore\" class=\"docClass\">startRestore</a> plus an indicator of the data type of that\n   restore data; or RestoreDescription.NO_MORE_PACKAGES to indicate that\n   no more packages can be restored in this session; or {@code null} to indicate\n   a transport-level error.</p>\n</div></li></ul></div></div></div><div id='method-performBackup' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-method-performBackup' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-method-performBackup' class='name expandable'>performBackup</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Legacy version of ParcelFileDescriptor, int) that\n doesn't use flags parameter. ...</div><div class='long'><p>Legacy version of ParcelFileDescriptor, int) that\n doesn't use flags parameter.</p>\n</div></div></div><div id='method-performFullBackup' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-method-performFullBackup' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-method-performFullBackup' class='name expandable'>performFullBackup</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Legacy version of ParcelFileDescriptor, int) that\n doesn't use flags parameter. ...</div><div class='long'><p>Legacy version of ParcelFileDescriptor, int) that\n doesn't use flags parameter.</p>\n</div></div></div><div id='method-requestBackupTime' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-method-requestBackupTime' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-method-requestBackupTime' class='name expandable'>requestBackupTime</a>( <span class='pre'></span> ) : Number<span class=\"signature\"></span></div><div class='description'><div class='short'>Verify that this is a suitable time for a key/value backup pass. ...</div><div class='long'><p>Verify that this is a suitable time for a key/value backup pass.  This should return zero\n if a backup is reasonable right now, some positive value otherwise.  This method\n will be called outside of the <a href=\"#!/api/android.app.backup.BackupTransport-method-performBackup\" rel=\"android.app.backup.BackupTransport-method-performBackup\" class=\"docClass\">performBackup</a>/<a href=\"#!/api/android.app.backup.BackupTransport-method-finishBackup\" rel=\"android.app.backup.BackupTransport-method-finishBackup\" class=\"docClass\">finishBackup</a> pair.</p>\n\n<p> <p>If this is not a suitable time for a backup, the transport should return a\n backoff delay, in milliseconds, after which the Backup Manager should try again.</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Number</span><div class='sub-desc'><p>Zero if this is a suitable time for a backup pass, or a positive time delay\n   in milliseconds to suggest deferring the backup pass for a while.</p>\n</div></li></ul></div></div></div><div id='method-requestFullBackupTime' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-method-requestFullBackupTime' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-method-requestFullBackupTime' class='name expandable'>requestFullBackupTime</a>( <span class='pre'></span> ) : Number<span class=\"signature\"></span></div><div class='description'><div class='short'>Verify that this is a suitable time for a full-data backup pass. ...</div><div class='long'><p>Verify that this is a suitable time for a full-data backup pass.  This should return zero\n if a backup is reasonable right now, some positive value otherwise.  This method\n will be called outside of the <a href=\"#!/api/android.app.backup.BackupTransport-method-performFullBackup\" rel=\"android.app.backup.BackupTransport-method-performFullBackup\" class=\"docClass\">performFullBackup</a>/<a href=\"#!/api/android.app.backup.BackupTransport-method-finishBackup\" rel=\"android.app.backup.BackupTransport-method-finishBackup\" class=\"docClass\">finishBackup</a> pair.</p>\n\n<p> <p>If this is not a suitable time for a backup, the transport should return a\n backoff delay, in milliseconds, after which the Backup Manager should try again.</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Number</span><div class='sub-desc'><p>Zero if this is a suitable time for a backup pass, or a positive time delay\n   in milliseconds to suggest deferring the backup pass for a while.\n@see <a href=\"#!/api/android.app.backup.BackupTransport-method-requestBackupTime\" rel=\"android.app.backup.BackupTransport-method-requestBackupTime\" class=\"docClass\">requestBackupTime</a>()</p>\n</div></li></ul></div></div></div><div id='method-sendBackupData' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-method-sendBackupData' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-method-sendBackupData' class='name expandable'>sendBackupData</a>( <span class='pre'>numBytes</span> ) : Number<span class=\"signature\"></span></div><div class='description'><div class='short'>Tells the transport to read {@code numBytes} bytes of data from the socket file\n descriptor provided in the ParcelFil...</div><div class='long'><p>Tells the transport to read {@code numBytes} bytes of data from the socket file\n descriptor provided in the ParcelFileDescriptor)\n call, and deliver those bytes to the datastore.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>numBytes</span> : Number<div class='sub-desc'><p>The number of bytes of tarball data available to be read from the\n    socket.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Number</span><div class='sub-desc'><p>TRANSPORT_OK on successful processing of the data; TRANSPORT_ERROR to\n    indicate a fatal error situation.  If an error is returned, the system will\n    call finishBackup() and stop attempting backups until after a backoff and retry\n    interval.</p>\n</div></li></ul></div></div></div><div id='method-startRestore' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-method-startRestore' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-method-startRestore' class='name expandable'>startRestore</a>( <span class='pre'>token, packages</span> ) : Number<span class=\"signature\"></span></div><div class='description'><div class='short'>Start restoring application data from backup. ...</div><div class='long'><p>Start restoring application data from backup.  After calling this function,\n alternate calls to <a href=\"#!/api/android.app.backup.BackupTransport-method-nextRestorePackage\" rel=\"android.app.backup.BackupTransport-method-nextRestorePackage\" class=\"docClass\">nextRestorePackage</a> and nextRestoreData\n to walk through the actual application data.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>token</span> : Number<div class='sub-desc'><p>A backup token as returned by <a href=\"#!/api/android.app.backup.BackupTransport-method-getAvailableRestoreSets\" rel=\"android.app.backup.BackupTransport-method-getAvailableRestoreSets\" class=\"docClass\">getAvailableRestoreSets</a>\n   or <a href=\"#!/api/android.app.backup.BackupTransport-method-getCurrentRestoreSet\" rel=\"android.app.backup.BackupTransport-method-getCurrentRestoreSet\" class=\"docClass\">getCurrentRestoreSet</a>.</p>\n</div></li><li><span class='pre'>packages</span> : Object {android.content.pm.PackageInfo[]}<div class='sub-desc'><p>List of applications to restore (if data is available).\n   Application data will be restored in the order given.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Number</span><div class='sub-desc'><p>One of BackupTransport.TRANSPORT_OK (OK so far, call\n   <a href=\"#!/api/android.app.backup.BackupTransport-method-nextRestorePackage\" rel=\"android.app.backup.BackupTransport-method-nextRestorePackage\" class=\"docClass\">nextRestorePackage</a>) or BackupTransport.TRANSPORT_ERROR\n   (an error occurred, the restore should be aborted and rescheduled).</p>\n</div></li></ul></div></div></div><div id='method-transportDirName' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupTransport'>android.app.backup.BackupTransport</span><br/><a href='source/BackupTransport.html#android-app-backup-BackupTransport-method-transportDirName' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupTransport-method-transportDirName' class='name expandable'>transportDirName</a>( <span class='pre'></span> ) : String<span class=\"signature\"></span></div><div class='description'><div class='short'>Ask the transport where, on local device storage, to keep backup state blobs. ...</div><div class='long'><p>Ask the transport where, on local device storage, to keep backup state blobs.\n This is per-transport so that mock transports used for testing can coexist with\n \"live\" backup services without interfering with the live bookkeeping.  The\n returned string should be a name that is expected to be unambiguous among all\n available backup transports; the name of the class implementing the transport\n is a good choice.</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>String</span><div class='sub-desc'><p>A unique name, suitable for use as a file or directory name, that the\n         Backup Manager could use to disambiguate state files associated with\n         different backup transports.</p>\n</div></li></ul></div></div></div></div></div></div></div>","meta":{}});