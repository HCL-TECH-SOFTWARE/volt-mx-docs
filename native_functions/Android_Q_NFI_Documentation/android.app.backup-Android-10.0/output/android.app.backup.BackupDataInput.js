Ext.data.JsonP.android_app_backup_BackupDataInput({"tagname":"class","name":"android.app.backup.BackupDataInput","autodetected":{},"files":[{"filename":"BackupDataInput.js","href":"BackupDataInput.html#android-app-backup-BackupDataInput"}],"extends":"java.lang.Object","members":[{"name":"getDataSize","tagname":"method","owner":"android.app.backup.BackupDataInput","id":"method-getDataSize","meta":{}},{"name":"getKey","tagname":"method","owner":"android.app.backup.BackupDataInput","id":"method-getKey","meta":{}},{"name":"readEntityData","tagname":"method","owner":"android.app.backup.BackupDataInput","id":"method-readEntityData","meta":{}},{"name":"readNextHeader","tagname":"method","owner":"android.app.backup.BackupDataInput","id":"method-readNextHeader","meta":{}},{"name":"skipEntityData","tagname":"method","owner":"android.app.backup.BackupDataInput","id":"method-skipEntityData","meta":{}}],"alternateClassNames":[],"aliases":{},"id":"class-android.app.backup.BackupDataInput","short_doc":"Provides the structured interface through which a android.app.backup.BackupAgent reads\n information from the backup d...","classIcon":"icon-class","superclasses":["java.lang.Object"],"subclasses":[],"mixedInto":[],"mixins":[],"parentMixins":[],"requires":[],"uses":[],"html":"<div><pre class=\"hierarchy\"><h4>Hierarchy</h4><div class='subclass first-child'>java.lang.Object<div class='subclass '><strong>android.app.backup.BackupDataInput</strong></div></div><h4>Files</h4><div class='dependency'><a href='source/BackupDataInput.html#android-app-backup-BackupDataInput' target='_blank'>BackupDataInput.js</a></div></pre><div class='doc-contents'><p>Provides the structured interface through which a <a href=\"#!/api/android.app.backup.BackupAgent\" rel=\"android.app.backup.BackupAgent\" class=\"docClass\">android.app.backup.BackupAgent</a> reads\n information from the backup data set, via its\n int, android.os.ParcelFileDescriptor) onRestore()\n method.  The data is presented as a set of \"entities,\" each\n representing one named record as previously stored by the agent's\n onBackup() implementation.  An entity is composed of a descriptive header plus a\n byte array that holds the raw data saved in the remote backup.\n <p>\n The agent must consume every entity in the data stream, otherwise the\n restored state of the application will be incomplete.\n <h3>Example</h3>\n <p>\n A typical\n onRestore() implementation might be structured something like this:</p>\n\n<pre> public void onRestore(BackupDataInput data, int appVersionCode,\n                       ParcelFileDescriptor newState) {\n     while (data.readNextHeader()) {\n         String key = data.getKey();\n         int dataSize = data.getDataSize();\n\n         if (key.equals(MY_BACKUP_KEY_ONE)) {\n             // process this kind of record here\n             byte[] buffer = new byte[dataSize];\n             data.readEntityData(buffer, 0, dataSize); // reads the entire entity at once\n\n             // now 'buffer' holds the raw data and can be processed however\n             // the agent wishes\n             processBackupKeyOne(buffer);\n         } else if (key.equals(MY_BACKUP_KEY_TO_IGNORE) {\n             // a key we recognize but wish to discard\n             data.skipEntityData();\n         } // ... etc.\n    }\n }</pre>\n\n</div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div id='method-getDataSize' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupDataInput'>android.app.backup.BackupDataInput</span><br/><a href='source/BackupDataInput.html#android-app-backup-BackupDataInput-method-getDataSize' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupDataInput-method-getDataSize' class='name expandable'>getDataSize</a>( <span class='pre'></span> ) : Number<span class=\"signature\"></span></div><div class='description'><div class='short'>Report the size in bytes of the data associated with the current entity in the\n restore stream. ...</div><div class='long'><p>Report the size in bytes of the data associated with the current entity in the\n restore stream.</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Number</span><div class='sub-desc'><p>The size of the record's raw data, in bytes</p>\n</div></li></ul><h3 class='pa'>Throws</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>IllegalStateException if the next record header has not yet been read</p>\n</div></li></ul></div></div></div><div id='method-getKey' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupDataInput'>android.app.backup.BackupDataInput</span><br/><a href='source/BackupDataInput.html#android-app-backup-BackupDataInput-method-getKey' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupDataInput-method-getKey' class='name expandable'>getKey</a>( <span class='pre'></span> ) : String<span class=\"signature\"></span></div><div class='description'><div class='short'>Report the key associated with the current entity in the restore stream ...</div><div class='long'><p>Report the key associated with the current entity in the restore stream</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>String</span><div class='sub-desc'><p>the current entity's key string</p>\n</div></li></ul><h3 class='pa'>Throws</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>IllegalStateException if the next record header has not yet been read</p>\n</div></li></ul></div></div></div><div id='method-readEntityData' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupDataInput'>android.app.backup.BackupDataInput</span><br/><a href='source/BackupDataInput.html#android-app-backup-BackupDataInput-method-readEntityData' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupDataInput-method-readEntityData' class='name expandable'>readEntityData</a>( <span class='pre'>data, offset, size</span> ) : Number<span class=\"signature\"></span></div><div class='description'><div class='short'>Read a record's raw data from the restore stream. ...</div><div class='long'><p>Read a record's raw data from the restore stream.  The record's header must first\n have been processed by the <a href=\"#!/api/android.app.backup.BackupDataInput-method-readNextHeader\" rel=\"android.app.backup.BackupDataInput-method-readNextHeader\" class=\"docClass\">readNextHeader</a>() method.  Multiple calls to\n this method may be made in order to process the data in chunks; not all of it\n must be read in a single call.  Once all of the raw data for the current entity\n has been read, further calls to this method will simply return zero.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>data</span> : Object {byte[]}<div class='sub-desc'><p>An allocated byte array of at least 'size' bytes</p>\n</div></li><li><span class='pre'>offset</span> : Number<div class='sub-desc'><p>Offset within the 'data' array at which the data will be placed\n    when read from the stream</p>\n</div></li><li><span class='pre'>size</span> : Number<div class='sub-desc'><p>The number of bytes to read in this pass</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Number</span><div class='sub-desc'><p>The number of bytes of data read.  Once all of the data for this entity\n    has been read, further calls to this method will return zero.</p>\n</div></li></ul><h3 class='pa'>Throws</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>IOException if an error occurred when trying to read the restore data stream</p>\n</div></li></ul></div></div></div><div id='method-readNextHeader' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupDataInput'>android.app.backup.BackupDataInput</span><br/><a href='source/BackupDataInput.html#android-app-backup-BackupDataInput-method-readNextHeader' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupDataInput-method-readNextHeader' class='name expandable'>readNextHeader</a>( <span class='pre'></span> ) : Boolean<span class=\"signature\"></span></div><div class='description'><div class='short'>Extract the next entity header from the restore stream. ...</div><div class='long'><p>Extract the next entity header from the restore stream.  After this method\n return success, the <a href=\"#!/api/android.app.backup.BackupDataInput-method-getKey\" rel=\"android.app.backup.BackupDataInput-method-getKey\" class=\"docClass\">getKey</a>() and <a href=\"#!/api/android.app.backup.BackupDataInput-method-getDataSize\" rel=\"android.app.backup.BackupDataInput-method-getDataSize\" class=\"docClass\">getDataSize</a>() methods can\n be used to inspect the entity that is now available for processing.</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Boolean</span><div class='sub-desc'><p><code>true</code> when there is an entity ready for consumption from the\n    restore stream, <code>false</code> if the restore stream has been fully consumed.</p>\n</div></li></ul><h3 class='pa'>Throws</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>IOException if an error occurred while reading the restore stream</p>\n</div></li></ul></div></div></div><div id='method-skipEntityData' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.backup.BackupDataInput'>android.app.backup.BackupDataInput</span><br/><a href='source/BackupDataInput.html#android-app-backup-BackupDataInput-method-skipEntityData' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.backup.BackupDataInput-method-skipEntityData' class='name expandable'>skipEntityData</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Consume the current entity's data without extracting it into a buffer\n for further processing. ...</div><div class='long'><p>Consume the current entity's data without extracting it into a buffer\n for further processing.  This allows a <a href=\"#!/api/android.app.backup.BackupAgent\" rel=\"android.app.backup.BackupAgent\" class=\"docClass\">android.app.backup.BackupAgent</a> to\n efficiently discard obsolete or otherwise uninteresting records during the\n restore operation.</p>\n<h3 class='pa'>Throws</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>IOException if an error occurred when trying to read the restore data stream</p>\n</div></li></ul></div></div></div></div></div></div></div>","meta":{}});