Ext.data.JsonP.com_android_server_infra_AbstractMasterSystemService({"tagname":"class","name":"com.android.server.infra.AbstractMasterSystemService","autodetected":{},"files":[{"filename":"AbstractMasterSystemService.js","href":"AbstractMasterSystemService.html#com-android-server-infra-AbstractMasterSystemService"}],"extends":"com.android.server.SystemService","params":[{"tagname":"params","doc":"<p><M> \"master\" service class.</M></p>\n"},{"tagname":"params","doc":"<p><S> \"real\" service class.</S></p>\n"}],"hide":true,"members":[{"name":"PACKAGE_UPDATE_POLICY_NO_REFRESH","tagname":"property","owner":"com.android.server.infra.AbstractMasterSystemService","id":"property-PACKAGE_UPDATE_POLICY_NO_REFRESH","meta":{}},{"name":"PACKAGE_UPDATE_POLICY_REFRESH_EAGER","tagname":"property","owner":"com.android.server.infra.AbstractMasterSystemService","id":"property-PACKAGE_UPDATE_POLICY_REFRESH_EAGER","meta":{}},{"name":"PACKAGE_UPDATE_POLICY_REFRESH_LAZY","tagname":"property","owner":"com.android.server.infra.AbstractMasterSystemService","id":"property-PACKAGE_UPDATE_POLICY_REFRESH_LAZY","meta":{}},{"name":"debug","tagname":"property","owner":"com.android.server.infra.AbstractMasterSystemService","id":"property-debug","meta":{}},{"name":"verbose","tagname":"property","owner":"com.android.server.infra.AbstractMasterSystemService","id":"property-verbose","meta":{}},{"name":"getAllowInstantService","tagname":"method","owner":"com.android.server.infra.AbstractMasterSystemService","id":"method-getAllowInstantService","meta":{}},{"name":"isBindInstantServiceAllowed","tagname":"method","owner":"com.android.server.infra.AbstractMasterSystemService","id":"method-isBindInstantServiceAllowed","meta":{}},{"name":"isDefaultServiceEnabled","tagname":"method","owner":"com.android.server.infra.AbstractMasterSystemService","id":"method-isDefaultServiceEnabled","meta":{}},{"name":"onBootPhase","tagname":"method","owner":"com.android.server.infra.AbstractMasterSystemService","id":"method-onBootPhase","meta":{}},{"name":"onCleanupUser","tagname":"method","owner":"com.android.server.infra.AbstractMasterSystemService","id":"method-onCleanupUser","meta":{}},{"name":"onUnlockUser","tagname":"method","owner":"com.android.server.infra.AbstractMasterSystemService","id":"method-onUnlockUser","meta":{}},{"name":"resetTemporaryService","tagname":"method","owner":"com.android.server.infra.AbstractMasterSystemService","id":"method-resetTemporaryService","meta":{}},{"name":"setAllowInstantService","tagname":"method","owner":"com.android.server.infra.AbstractMasterSystemService","id":"method-setAllowInstantService","meta":{}},{"name":"setDefaultServiceEnabled","tagname":"method","owner":"com.android.server.infra.AbstractMasterSystemService","id":"method-setDefaultServiceEnabled","meta":{}},{"name":"setTemporaryService","tagname":"method","owner":"com.android.server.infra.AbstractMasterSystemService","id":"method-setTemporaryService","meta":{}}],"alternateClassNames":[],"aliases":{},"id":"class-com.android.server.infra.AbstractMasterSystemService","short_doc":"Base class for SystemServices that support multi user. ...","classIcon":"icon-class","superclasses":["com.android.server.SystemService"],"subclasses":[],"mixedInto":[],"mixins":[],"parentMixins":[],"requires":[],"uses":[],"html":"<div><pre class=\"hierarchy\"><h4>Hierarchy</h4><div class='subclass first-child'>com.android.server.SystemService<div class='subclass '><strong>com.android.server.infra.AbstractMasterSystemService</strong></div></div><h4>Files</h4><div class='dependency'><a href='source/AbstractMasterSystemService.html#com-android-server-infra-AbstractMasterSystemService' target='_blank'>AbstractMasterSystemService.js</a></div></pre><div class='doc-contents'><p>Base class for SystemServices that support multi user.</p>\n\n<p> <p>Subclasses of this service are just a facade for the service binder calls - the \"real\" work\n is done by the <a href=\"#!/api/com.android.server.infra.AbstractPerUserSystemService\" rel=\"com.android.server.infra.AbstractPerUserSystemService\" class=\"docClass\">com.android.server.infra.AbstractPerUserSystemService</a> subclasses, which are automatically managed\n through an user -> service cache.</p>\n\n<p> <p>It also takes care of other plumbing tasks such as:</p>\n\n<p> <ul>\n   <li>Disabling the service when UserManager restrictions change.\n   <li>Refreshing the service when its underlying\n   Settings property changed.\n   <li>Calling the service when other Settings properties changed.\n </li></li></li></ul></p>\n\n<p> <p>See {@code com.android.server.autofill.AutofillManagerService} for a concrete\n (no pun intended) example of how to use it.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'></span> : <div class='sub-desc'><p><M> \"master\" service class.</M></p>\n</div></li><li><span class='pre'></span> : <div class='sub-desc'><p><S> \"real\" service class.</S></p>\n</div></li></ul></div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-property'>Properties</h3><div class='subsection'><div id='property-PACKAGE_UPDATE_POLICY_NO_REFRESH' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.infra.AbstractMasterSystemService'>com.android.server.infra.AbstractMasterSystemService</span><br/><a href='source/AbstractMasterSystemService.html#com-android-server-infra-AbstractMasterSystemService-property-PACKAGE_UPDATE_POLICY_NO_REFRESH' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.infra.AbstractMasterSystemService-property-PACKAGE_UPDATE_POLICY_NO_REFRESH' class='name expandable'>PACKAGE_UPDATE_POLICY_NO_REFRESH</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'>On a package update, does not refresh the per-user service in the cache. ...</div><div class='long'><p>On a package update, does not refresh the per-user service in the cache.</p>\n<p>Defaults to: <code>&quot;0&quot;</code></p></div></div></div><div id='property-PACKAGE_UPDATE_POLICY_REFRESH_EAGER' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.infra.AbstractMasterSystemService'>com.android.server.infra.AbstractMasterSystemService</span><br/><a href='source/AbstractMasterSystemService.html#com-android-server-infra-AbstractMasterSystemService-property-PACKAGE_UPDATE_POLICY_REFRESH_EAGER' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.infra.AbstractMasterSystemService-property-PACKAGE_UPDATE_POLICY_REFRESH_EAGER' class='name expandable'>PACKAGE_UPDATE_POLICY_REFRESH_EAGER</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'>On a package update, removes and recreates any existing per-user services in the cache. ...</div><div class='long'><p>On a package update, removes and recreates any existing per-user services in the cache.</p>\n<p>Defaults to: <code>&quot;2&quot;</code></p></div></div></div><div id='property-PACKAGE_UPDATE_POLICY_REFRESH_LAZY' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.infra.AbstractMasterSystemService'>com.android.server.infra.AbstractMasterSystemService</span><br/><a href='source/AbstractMasterSystemService.html#com-android-server-infra-AbstractMasterSystemService-property-PACKAGE_UPDATE_POLICY_REFRESH_LAZY' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.infra.AbstractMasterSystemService-property-PACKAGE_UPDATE_POLICY_REFRESH_LAZY' class='name expandable'>PACKAGE_UPDATE_POLICY_REFRESH_LAZY</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'>On a package update, removes any existing per-user services in the cache. ...</div><div class='long'><p>On a package update, removes any existing per-user services in the cache.</p>\n\n<p><p>This does not immediately recreate these services. It is assumed they will be recreated\nfor the next user request.</p>\n<p>Defaults to: <code>&quot;1&quot;</code></p></div></div></div><div id='property-debug' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.infra.AbstractMasterSystemService'>com.android.server.infra.AbstractMasterSystemService</span><br/><a href='source/AbstractMasterSystemService.html#com-android-server-infra-AbstractMasterSystemService-property-debug' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.infra.AbstractMasterSystemService-property-debug' class='name expandable'>debug</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'>Whether the service should log verbose statements. ...</div><div class='long'><p>Whether the service should log verbose statements.</p>\n<p>Defaults to: <code>&quot;null&quot;</code></p></div></div></div><div id='property-verbose' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.infra.AbstractMasterSystemService'>com.android.server.infra.AbstractMasterSystemService</span><br/><a href='source/AbstractMasterSystemService.html#com-android-server-infra-AbstractMasterSystemService-property-verbose' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.infra.AbstractMasterSystemService-property-verbose' class='name expandable'>verbose</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'>Whether the service should log debug statements. ...</div><div class='long'><p>Whether the service should log debug statements.</p>\n<p>Defaults to: <code>&quot;null&quot;</code></p></div></div></div></div></div><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div id='method-getAllowInstantService' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.infra.AbstractMasterSystemService'>com.android.server.infra.AbstractMasterSystemService</span><br/><a href='source/AbstractMasterSystemService.html#com-android-server-infra-AbstractMasterSystemService-method-getAllowInstantService' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.infra.AbstractMasterSystemService-method-getAllowInstantService' class='name expandable'>getAllowInstantService</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Gets whether the service is allowed to bind to an instant-app. ...</div><div class='long'><p>Gets whether the service is allowed to bind to an instant-app.</p>\n\n<p> <p>Typically called by {@code ShellCommand} during CTS tests.</p>\n<h3 class='pa'>Throws</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>SecurityException if caller is not allowed to manage this service's settings.</p>\n</div></li></ul></div></div></div><div id='method-isBindInstantServiceAllowed' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.infra.AbstractMasterSystemService'>com.android.server.infra.AbstractMasterSystemService</span><br/><a href='source/AbstractMasterSystemService.html#com-android-server-infra-AbstractMasterSystemService-method-isBindInstantServiceAllowed' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.infra.AbstractMasterSystemService-method-isBindInstantServiceAllowed' class='name expandable'>isBindInstantServiceAllowed</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Checks whether the service is allowed to bind to an instant-app. ...</div><div class='long'><p>Checks whether the service is allowed to bind to an instant-app.</p>\n\n<p> <p>Typically called by subclasses when creating AbstractRemoteService instances.</p>\n\n<p> <p><b>NOTE: </b>must not be called by {@code ShellCommand} as it does not check for\n permission.</p>\n</div></div></div><div id='method-isDefaultServiceEnabled' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.infra.AbstractMasterSystemService'>com.android.server.infra.AbstractMasterSystemService</span><br/><a href='source/AbstractMasterSystemService.html#com-android-server-infra-AbstractMasterSystemService-method-isDefaultServiceEnabled' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.infra.AbstractMasterSystemService-method-isDefaultServiceEnabled' class='name expandable'>isDefaultServiceEnabled</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Checks whether the default service should be used. ...</div><div class='long'><p>Checks whether the default service should be used.</p>\n\n<p> <p>Typically used during CTS tests to make sure only the default service doesn't interfere\n with the test results.</p>\n<h3 class='pa'>Throws</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>SecurityException if caller is not allowed to manage this service's settings.</p>\n</div></li></ul></div></div></div><div id='method-onBootPhase' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.infra.AbstractMasterSystemService'>com.android.server.infra.AbstractMasterSystemService</span><br/><a href='source/AbstractMasterSystemService.html#com-android-server-infra-AbstractMasterSystemService-method-onBootPhase' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.infra.AbstractMasterSystemService-method-onBootPhase' class='name expandable'>onBootPhase</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-onCleanupUser' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.infra.AbstractMasterSystemService'>com.android.server.infra.AbstractMasterSystemService</span><br/><a href='source/AbstractMasterSystemService.html#com-android-server-infra-AbstractMasterSystemService-method-onCleanupUser' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.infra.AbstractMasterSystemService-method-onCleanupUser' class='name expandable'>onCleanupUser</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-onUnlockUser' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.infra.AbstractMasterSystemService'>com.android.server.infra.AbstractMasterSystemService</span><br/><a href='source/AbstractMasterSystemService.html#com-android-server-infra-AbstractMasterSystemService-method-onUnlockUser' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.infra.AbstractMasterSystemService-method-onUnlockUser' class='name expandable'>onUnlockUser</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-resetTemporaryService' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.infra.AbstractMasterSystemService'>com.android.server.infra.AbstractMasterSystemService</span><br/><a href='source/AbstractMasterSystemService.html#com-android-server-infra-AbstractMasterSystemService-method-resetTemporaryService' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.infra.AbstractMasterSystemService-method-resetTemporaryService' class='name expandable'>resetTemporaryService</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Resets the temporary service implementation to the default component. ...</div><div class='long'><p>Resets the temporary service implementation to the default component.</p>\n\n<p> <p>Typically used by Shell command and/or CTS tests.</p>\n<h3 class='pa'>Throws</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>SecurityException if caller is not allowed to manage this service's settings.</p>\n</div></li></ul></div></div></div><div id='method-setAllowInstantService' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.infra.AbstractMasterSystemService'>com.android.server.infra.AbstractMasterSystemService</span><br/><a href='source/AbstractMasterSystemService.html#com-android-server-infra-AbstractMasterSystemService-method-setAllowInstantService' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.infra.AbstractMasterSystemService-method-setAllowInstantService' class='name expandable'>setAllowInstantService</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Sets whether the service is allowed to bind to an instant-app. ...</div><div class='long'><p>Sets whether the service is allowed to bind to an instant-app.</p>\n\n<p> <p>Typically called by {@code ShellCommand} during CTS tests.</p>\n<h3 class='pa'>Throws</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>SecurityException if caller is not allowed to manage this service's settings.</p>\n</div></li></ul></div></div></div><div id='method-setDefaultServiceEnabled' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.infra.AbstractMasterSystemService'>com.android.server.infra.AbstractMasterSystemService</span><br/><a href='source/AbstractMasterSystemService.html#com-android-server-infra-AbstractMasterSystemService-method-setDefaultServiceEnabled' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.infra.AbstractMasterSystemService-method-setDefaultServiceEnabled' class='name expandable'>setDefaultServiceEnabled</a>( <span class='pre'></span> ) : Boolean<span class=\"signature\"></span></div><div class='description'><div class='short'>Sets whether the default service should be used. ...</div><div class='long'><p>Sets whether the default service should be used.</p>\n\n<p> <p>Typically used during CTS tests to make sure only the default service doesn't interfere\n with the test results.</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>Boolean</span><div class='sub-desc'><p>whether the enabled state changed.</p>\n</div></li></ul><h3 class='pa'>Throws</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>SecurityException if caller is not allowed to manage this service's settings.</p>\n</div></li></ul></div></div></div><div id='method-setTemporaryService' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.server.infra.AbstractMasterSystemService'>com.android.server.infra.AbstractMasterSystemService</span><br/><a href='source/AbstractMasterSystemService.html#com-android-server-infra-AbstractMasterSystemService-method-setTemporaryService' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.server.infra.AbstractMasterSystemService-method-setTemporaryService' class='name expandable'>setTemporaryService</a>( <span class='pre'>componentName, durationMs</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Temporarily sets the service implementation. ...</div><div class='long'><p>Temporarily sets the service implementation.</p>\n\n<p> <p>Typically used by Shell command and/or CTS tests.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>componentName</span> : Number<div class='sub-desc'><p>name of the new component</p>\n</div></li><li><span class='pre'>durationMs</span> : String<div class='sub-desc'><p>how long the change will be valid (the service will be automatically reset\n            to the default component after this timeout expires).</p>\n</div></li></ul><h3 class='pa'>Throws</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>SecurityException if caller is not allowed to manage this service's settings.</p>\n</div></li><li><span class='pre'>Object</span><div class='sub-desc'><p>IllegalArgumentException if value of {@code durationMs} is higher than\n             getMaximumTemporaryServiceDurationMs().</p>\n</div></li></ul></div></div></div></div></div></div></div>","meta":{}});