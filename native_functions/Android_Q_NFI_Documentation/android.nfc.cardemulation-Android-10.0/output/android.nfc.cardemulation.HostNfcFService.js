Ext.data.JsonP.android_nfc_cardemulation_HostNfcFService({"tagname":"class","name":"android.nfc.cardemulation.HostNfcFService","autodetected":{},"files":[{"filename":"HostNfcFService.js","href":"HostNfcFService.html#android-nfc-cardemulation-HostNfcFService"}],"extends":"android.app.Service","members":[{"name":"DEACTIVATION_LINK_LOSS","tagname":"property","owner":"android.nfc.cardemulation.HostNfcFService","id":"property-DEACTIVATION_LINK_LOSS","meta":{}},{"name":"SERVICE_INTERFACE","tagname":"property","owner":"android.nfc.cardemulation.HostNfcFService","id":"property-SERVICE_INTERFACE","meta":{}},{"name":"SERVICE_META_DATA","tagname":"property","owner":"android.nfc.cardemulation.HostNfcFService","id":"property-SERVICE_META_DATA","meta":{}},{"name":"onBind","tagname":"method","owner":"android.nfc.cardemulation.HostNfcFService","id":"method-onBind","meta":{}},{"name":"onDeactivated","tagname":"method","owner":"android.nfc.cardemulation.HostNfcFService","id":"method-onDeactivated","meta":{}},{"name":"processNfcFPacket","tagname":"method","owner":"android.nfc.cardemulation.HostNfcFService","id":"method-processNfcFPacket","meta":{}},{"name":"sendResponsePacket","tagname":"method","owner":"android.nfc.cardemulation.HostNfcFService","id":"method-sendResponsePacket","meta":{}}],"alternateClassNames":[],"aliases":{},"id":"class-android.nfc.cardemulation.HostNfcFService","short_doc":"HostNfcFService is a convenience Service class that can be\n extended to emulate an NFC-F card inside an Android servi...","classIcon":"icon-class","superclasses":["android.app.Service"],"subclasses":[],"mixedInto":[],"mixins":[],"parentMixins":[],"requires":[],"uses":[],"html":"<div><pre class=\"hierarchy\"><h4>Hierarchy</h4><div class='subclass first-child'>android.app.Service<div class='subclass '><strong>android.nfc.cardemulation.HostNfcFService</strong></div></div><h4>Files</h4><div class='dependency'><a href='source/HostNfcFService.html#android-nfc-cardemulation-HostNfcFService' target='_blank'>HostNfcFService.js</a></div></pre><div class='doc-contents'><p><p>HostNfcFService is a convenience Service class that can be\n extended to emulate an NFC-F card inside an Android service component.</p>\n\n<p> <h3>NFC Protocols</h3>\n <p>Cards emulated by this class are based on the NFC-Forum NFC-F\n protocol (based on the JIS-X 6319-4 specification.)</p></p>\n\n<p> <h3>System Code and NFCID2 registration</h3>\n <p>A <a href=\"#!/api/android.nfc.cardemulation.HostNfcFService\" rel=\"android.nfc.cardemulation.HostNfcFService\" class=\"docClass\">android.nfc.cardemulation.HostNfcFService service</a> can register\n exactly one System Code and one NFCID2. For details about the use of\n System Code and NFCID2, see the NFC Forum Digital specification.</p>\n <p>To statically register a System Code and NFCID2 with the service, a <a href=\"#!/api/android.nfc.cardemulation.HostNfcFService-property-SERVICE_META_DATA\" rel=\"android.nfc.cardemulation.HostNfcFService-property-SERVICE_META_DATA\" class=\"docClass\">SERVICE_META_DATA</a>\n entry must be included in the declaration of the service.</p>\n\n<p> <p>All <a href=\"#!/api/android.nfc.cardemulation.HostNfcFService\" rel=\"android.nfc.cardemulation.HostNfcFService\" class=\"docClass\">android.nfc.cardemulation.HostNfcFService</a> declarations in the manifest must require the\n android.Manifest.permission.BIND_NFC_SERVICE permission\n in their &lt;service&gt; tag, to ensure that only the platform can bind to your service.</p></p>\n\n<p> <p>An example of a HostNfcFService manifest declaration is shown below:</p>\n\n<p> <pre> &lt;service android:name=\".MyHostNfcFService\" android:exported=\"true\" android:permission=\"android.permission.BIND_NFC_SERVICE\"&gt;\n     &lt;intent-filter&gt;\n         &lt;action android:name=\"android.nfc.cardemulation.action.HOST_NFCF_SERVICE\"/&gt;\n     &lt;/intent-filter&gt;\n     &lt;meta-data android:name=\"android.nfc.cardemulation.host_nfcf_service\" android:resource=\"@xml/nfcfservice\"/&gt;\n &lt;/service&gt;</pre></p>\n\n<p> This meta-data tag points to an nfcfservice.xml file.\n An example of this file with a System Code and NFCID2 declaration is shown below:</p>\n\n<p><pre> &lt;host-nfcf-service xmlns:android=\"http://schemas.android.com/apk/res/android\"\n           android:description=\"@string/servicedesc\"&gt;\n       &lt;system-code-filter android:name=\"4000\"/&gt;\n       &lt;nfcid2-filter android:name=\"02FE000000000000\"/&gt;\n         &lt;t3tPmm-filter android:name=\"FFFFFFFFFFFFFFFF\"/&gt;\n &lt;/host-nfcf-service&gt;\n </pre></p>\n\n<p> <p>The &lt;host-nfcf-service&gt; is required\n to contain a\n &lt;android:description&gt;\n attribute that contains a user-friendly description of the service that may be shown in UI.\n <p>The &lt;host-nfcf-service&gt; must\n contain:\n <ul>\n <li>Exactly one &lt;system-code-filter&gt; tag.</li>\n <li>Exactly one &lt;nfcid2-filter&gt; tag.</li>\n <li>Zero or one &lt;t3tPmm-filter&gt; tag.</li>\n </ul>\n </p></p>\n\n<p> <p>Alternatively, the System Code and NFCID2 can be dynamically registererd for a service\n by using the String) and\n String) methods.\n </p></p>\n\n<p> <h3>Service selection</h3>\n <p>When a remote NFC devices wants to communicate with your service, it\n sends a SENSF_REQ command to the NFC controller, requesting a System Code.\n If a <a href=\"#!/api/android.nfc.cardemulation.NfcFCardEmulation\" rel=\"android.nfc.cardemulation.NfcFCardEmulation\" class=\"docClass\">android.nfc.cardemulation.NfcFCardEmulation service</a> has registered\n this system code and has been enabled by the foreground application, the\n NFC controller will respond with the NFCID2 that is registered for this service.\n The reader can then continue data exchange with this service by using the NFCID2.</p></p>\n\n<p> <h3>Data exchange</h3>\n <p>After service selection, all frames addressed to the NFCID2 of this service will\n be sent through Bundle), until the NFC link is\n broken.<p></p>\n\n<p> <p>When the NFC link is broken, <a href=\"#!/api/android.nfc.cardemulation.HostNfcFService-method-onDeactivated\" rel=\"android.nfc.cardemulation.HostNfcFService-method-onDeactivated\" class=\"docClass\">onDeactivated</a>(int) will be called.</p></p>\n</div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-property'>Properties</h3><div class='subsection'><div id='property-DEACTIVATION_LINK_LOSS' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.nfc.cardemulation.HostNfcFService'>android.nfc.cardemulation.HostNfcFService</span><br/><a href='source/HostNfcFService.html#android-nfc-cardemulation-HostNfcFService-property-DEACTIVATION_LINK_LOSS' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.nfc.cardemulation.HostNfcFService-property-DEACTIVATION_LINK_LOSS' class='name expandable'>DEACTIVATION_LINK_LOSS</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'>Reason for onDeactivated(int). ...</div><div class='long'><p>Reason for <a href=\"#!/api/android.nfc.cardemulation.HostNfcFService-method-onDeactivated\" rel=\"android.nfc.cardemulation.HostNfcFService-method-onDeactivated\" class=\"docClass\">onDeactivated</a>(int).\nIndicates deactivation was due to the NFC link\nbeing lost.</p>\n<p>Defaults to: <code>&quot;0&quot;</code></p></div></div></div><div id='property-SERVICE_INTERFACE' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.nfc.cardemulation.HostNfcFService'>android.nfc.cardemulation.HostNfcFService</span><br/><a href='source/HostNfcFService.html#android-nfc-cardemulation-HostNfcFService-property-SERVICE_INTERFACE' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.nfc.cardemulation.HostNfcFService-property-SERVICE_INTERFACE' class='name expandable'>SERVICE_INTERFACE</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'>The Intent action that must be declared as handled by the service. ...</div><div class='long'><p>The Intent action that must be declared as handled by the service.</p>\n<p>Defaults to: <code>&quot;android.nfc.cardemulation.action.HOST_NFCF_SERVICE&quot;</code></p></div></div></div><div id='property-SERVICE_META_DATA' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.nfc.cardemulation.HostNfcFService'>android.nfc.cardemulation.HostNfcFService</span><br/><a href='source/HostNfcFService.html#android-nfc-cardemulation-HostNfcFService-property-SERVICE_META_DATA' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.nfc.cardemulation.HostNfcFService-property-SERVICE_META_DATA' class='name expandable'>SERVICE_META_DATA</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'>The name of the meta-data element that contains\nmore information about this service. ...</div><div class='long'><p>The name of the meta-data element that contains\nmore information about this service.</p>\n<p>Defaults to: <code>&quot;android.nfc.cardemulation.host_nfcf_service&quot;</code></p></div></div></div></div></div><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div id='method-onBind' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.nfc.cardemulation.HostNfcFService'>android.nfc.cardemulation.HostNfcFService</span><br/><a href='source/HostNfcFService.html#android-nfc-cardemulation-HostNfcFService-method-onBind' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.nfc.cardemulation.HostNfcFService-method-onBind' class='name expandable'>onBind</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-onDeactivated' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.nfc.cardemulation.HostNfcFService'>android.nfc.cardemulation.HostNfcFService</span><br/><a href='source/HostNfcFService.html#android-nfc-cardemulation-HostNfcFService-method-onDeactivated' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.nfc.cardemulation.HostNfcFService-method-onDeactivated' class='name expandable'>onDeactivated</a>( <span class='pre'>reason</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>This method will be called in following possible scenarios:\n The NFC link has been lost ...</div><div class='long'><p>This method will be called in following possible scenarios:\n <li>The NFC link has been lost</li></p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>reason</span> : Number<div class='sub-desc'><p><a href=\"#!/api/android.nfc.cardemulation.HostNfcFService-property-DEACTIVATION_LINK_LOSS\" rel=\"android.nfc.cardemulation.HostNfcFService-property-DEACTIVATION_LINK_LOSS\" class=\"docClass\">DEACTIVATION_LINK_LOSS</a></p>\n</div></li></ul></div></div></div><div id='method-processNfcFPacket' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.nfc.cardemulation.HostNfcFService'>android.nfc.cardemulation.HostNfcFService</span><br/><a href='source/HostNfcFService.html#android-nfc-cardemulation-HostNfcFService-method-processNfcFPacket' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.nfc.cardemulation.HostNfcFService-method-processNfcFPacket' class='name expandable'>processNfcFPacket</a>( <span class='pre'>commandPacket, extras</span> ) : Number<span class=\"signature\"></span></div><div class='description'><div class='short'>This method will be called when a NFC-F packet has been received\n from a remote device. ...</div><div class='long'><p><p>This method will be called when a NFC-F packet has been received\n from a remote device. A response packet can be provided directly\n by returning a byte-array in this method. Note that in general\n response packets must be sent as quickly as possible, given the fact\n that the user is likely holding his device over an NFC reader\n when this method is called.</p>\n\n<p> <p class=\"note\">This method is running on the main thread of your application.\n If you cannot return a response packet immediately, return null\n and use the sendResponsePacket(byte[]) method later.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>commandPacket</span> : Object {byte[]}<div class='sub-desc'><p>The NFC-F packet that was received from the remote device</p>\n</div></li><li><span class='pre'>extras</span> : Object {Bundle}<div class='sub-desc'><p>A bundle containing extra data. May be null.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Number</span><div class='sub-desc'><p>a byte-array containing the response packet, or null if no\n         response packet can be sent at this point.</p>\n</div></li></ul></div></div></div><div id='method-sendResponsePacket' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.nfc.cardemulation.HostNfcFService'>android.nfc.cardemulation.HostNfcFService</span><br/><a href='source/HostNfcFService.html#android-nfc-cardemulation-HostNfcFService-method-sendResponsePacket' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.nfc.cardemulation.HostNfcFService-method-sendResponsePacket' class='name expandable'>sendResponsePacket</a>( <span class='pre'>responsePacket</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Sends a response packet back to the remote device. ...</div><div class='long'><p>Sends a response packet back to the remote device.</p>\n\n<p> <p>Note: this method may be called from any thread and will not block.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>responsePacket</span> : Object {byte[]}<div class='sub-desc'><p>A byte-array containing the response packet.</p>\n</div></li></ul></div></div></div></div></div></div></div>","meta":{}});