<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js"><span id='android-security-keystore-recovery-RecoverySession'>/**@class android.security.keystore.recovery.RecoverySession
</span> implements java.lang.AutoCloseable

@extends java.lang.Object

 Session to recover a {@link android.security.keystore.recovery.KeyChainSnapshot} from the remote trusted hardware, initiated by a
 recovery agent.

 @hide
*/
var RecoverySession = {

<span id='android-security-keystore-recovery-RecoverySession-method-start'>/**Starts a recovery session and returns a blob with proof of recovery secret possession.
</span> The method generates a symmetric key for a session, which trusted remote device can use to
 return recovery key.
@param {String} rootCertificateAlias The alias of the root certificate that is already in the Android
     OS. The root certificate will be used for validating {@code verifierCertPath}.
@param {Object {CertPath}} verifierCertPath The certificate path used to create the recovery blob on the source
     device. Keystore will verify the certificate path by using the root of trust.
@param {Object {byte[]}} vaultParams Must match the parameters in the corresponding field in the recovery blob.
     Used to limit number of guesses.
@param {Object {byte[]}} vaultChallenge Data passed from server for this recovery session and used to prevent
     replay attacks.
@param {Object {java.util.List}} secrets Secrets provided by user, the method only uses type and secret fields.
@return {Number} The binary blob with recovery claim. It is encrypted with verifierPublicKey
 and contains a proof of user secrets possession, session symmetric
     key and parameters necessary to identify the counter with the number of failed recovery
     attempts.
@throws CertificateException if the {@code verifierCertPath} is invalid.
@throws InternalRecoveryServiceException if an unexpected error occurred in the recovery
     service.
*/
start : function(  ) {},

<span id='android-security-keystore-recovery-RecoverySession-method-recoverKeyChainSnapshot'>/**Imports key chain snapshot recovered from a remote vault.
</span>@param {Object {byte[]}} recoveryKeyBlob Recovery blob encrypted by symmetric key generated for this session.
@param {Object {java.util.List}} applicationKeys Application keys. Key material can be decrypted using recoveryKeyBlob
     and session key generated by {@link #start}.
@return {Object {java.util.Map}} {@code Map} from recovered keys aliases to their references.
@throws SessionExpiredException if {@code session} has since been closed.
@throws DecryptionFailedException if unable to decrypt the snapshot.
@throws InternalRecoveryServiceException if an error occurs internal to the recovery service.
*/
recoverKeyChainSnapshot : function(  ) {},

<span id='android-security-keystore-recovery-RecoverySession-method-close'>/**Deletes all data associated with {@code session}.
</span>*/
close : function(  ) {},


};</pre>
</body>
</html>
