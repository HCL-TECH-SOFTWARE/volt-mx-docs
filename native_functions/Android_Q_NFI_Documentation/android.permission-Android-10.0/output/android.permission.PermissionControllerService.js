Ext.data.JsonP.android_permission_PermissionControllerService({"tagname":"class","name":"android.permission.PermissionControllerService","autodetected":{},"files":[{"filename":"PermissionControllerService.js","href":"PermissionControllerService.html#android-permission-PermissionControllerService"}],"extends":"android.app.Service","hide":true,"members":[{"name":"SERVICE_INTERFACE","tagname":"property","owner":"android.permission.PermissionControllerService","id":"property-SERVICE_INTERFACE","meta":{}},{"name":"onBind","tagname":"method","owner":"android.permission.PermissionControllerService","id":"method-onBind","meta":{}},{"name":"onCountPermissionApps","tagname":"method","owner":"android.permission.PermissionControllerService","id":"method-onCountPermissionApps","meta":{}},{"name":"onGetAppPermissions","tagname":"method","owner":"android.permission.PermissionControllerService","id":"method-onGetAppPermissions","meta":{}},{"name":"onGetPermissionUsages","tagname":"method","owner":"android.permission.PermissionControllerService","id":"method-onGetPermissionUsages","meta":{}},{"name":"onGetRuntimePermissionsBackup","tagname":"method","owner":"android.permission.PermissionControllerService","id":"method-onGetRuntimePermissionsBackup","meta":{}},{"name":"onGrantOrUpgradeDefaultRuntimePermissions","tagname":"method","owner":"android.permission.PermissionControllerService","id":"method-onGrantOrUpgradeDefaultRuntimePermissions","meta":{}},{"name":"onRestoreDelayedRuntimePermissionsBackup","tagname":"method","owner":"android.permission.PermissionControllerService","id":"method-onRestoreDelayedRuntimePermissionsBackup","meta":{}},{"name":"onRestoreRuntimePermissionsBackup","tagname":"method","owner":"android.permission.PermissionControllerService","id":"method-onRestoreRuntimePermissionsBackup","meta":{}},{"name":"onRevokeRuntimePermission","tagname":"method","owner":"android.permission.PermissionControllerService","id":"method-onRevokeRuntimePermission","meta":{}},{"name":"onRevokeRuntimePermissions","tagname":"method","owner":"android.permission.PermissionControllerService","id":"method-onRevokeRuntimePermissions","meta":{}},{"name":"onSetRuntimePermissionGrantStateByDeviceAdmin","tagname":"method","owner":"android.permission.PermissionControllerService","id":"method-onSetRuntimePermissionGrantStateByDeviceAdmin","meta":{}}],"alternateClassNames":[],"aliases":{},"id":"class-android.permission.PermissionControllerService","short_doc":"This service is meant to be implemented by the app controlling permissions. ...","classIcon":"icon-class","superclasses":["android.app.Service"],"subclasses":[],"mixedInto":[],"mixins":[],"parentMixins":[],"requires":[],"uses":[],"html":"<div><pre class=\"hierarchy\"><h4>Hierarchy</h4><div class='subclass first-child'>android.app.Service<div class='subclass '><strong>android.permission.PermissionControllerService</strong></div></div><h4>Files</h4><div class='dependency'><a href='source/PermissionControllerService.html#android-permission-PermissionControllerService' target='_blank'>PermissionControllerService.js</a></div></pre><div class='doc-contents'><p>This service is meant to be implemented by the app controlling permissions.</p>\n\n<p> @see PermissionControllerManager</p>\n</div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-property'>Properties</h3><div class='subsection'><div id='property-SERVICE_INTERFACE' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.permission.PermissionControllerService'>android.permission.PermissionControllerService</span><br/><a href='source/PermissionControllerService.html#android-permission-PermissionControllerService-property-SERVICE_INTERFACE' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.permission.PermissionControllerService-property-SERVICE_INTERFACE' class='name expandable'>SERVICE_INTERFACE</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'>The Intent action that must be declared as handled by a service\nin its manifest for the system to recognize it as a r...</div><div class='long'><p>The Intent action that must be declared as handled by a service\nin its manifest for the system to recognize it as a runtime permission\npresenter service.</p>\n<p>Defaults to: <code>&quot;android.permission.PermissionControllerService&quot;</code></p></div></div></div></div></div><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div id='method-onBind' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.permission.PermissionControllerService'>android.permission.PermissionControllerService</span><br/><a href='source/PermissionControllerService.html#android-permission-PermissionControllerService-method-onBind' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.permission.PermissionControllerService-method-onBind' class='name expandable'>onBind</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-onCountPermissionApps' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.permission.PermissionControllerService'>android.permission.PermissionControllerService</span><br/><a href='source/PermissionControllerService.html#android-permission-PermissionControllerService-method-onCountPermissionApps' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.permission.PermissionControllerService-method-onCountPermissionApps' class='name expandable'>onCountPermissionApps</a>( <span class='pre'>permissionNames, flags, callback</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Count how many apps have one of a set of permissions. ...</div><div class='long'><p>Count how many apps have one of a set of permissions.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>permissionNames</span> : Object {java.util.List}<div class='sub-desc'><p>The permissions the app might have</p>\n</div></li><li><span class='pre'>flags</span> : Number<div class='sub-desc'><p>Modify which apps to count. By default all non-system apps that request a\n              permission are counted</p>\n</div></li><li><span class='pre'>callback</span> : Object {IntConsumer}<div class='sub-desc'><p>Callback waiting for the number of apps that have one of the permissions</p>\n</div></li></ul></div></div></div><div id='method-onGetAppPermissions' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.permission.PermissionControllerService'>android.permission.PermissionControllerService</span><br/><a href='source/PermissionControllerService.html#android-permission-PermissionControllerService-method-onGetAppPermissions' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.permission.PermissionControllerService-method-onGetAppPermissions' class='name expandable'>onGetAppPermissions</a>( <span class='pre'>packageName, callback</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Gets the runtime permissions for an app. ...</div><div class='long'><p>Gets the runtime permissions for an app.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>packageName</span> : String<div class='sub-desc'><p>The package for which to query.</p>\n</div></li><li><span class='pre'>callback</span> : Object {java.util.function.Consumer}<div class='sub-desc'><p>Callback waiting for the descriptions of the runtime permissions of the app</p>\n</div></li></ul></div></div></div><div id='method-onGetPermissionUsages' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.permission.PermissionControllerService'>android.permission.PermissionControllerService</span><br/><a href='source/PermissionControllerService.html#android-permission-PermissionControllerService-method-onGetPermissionUsages' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.permission.PermissionControllerService-method-onGetPermissionUsages' class='name expandable'>onGetPermissionUsages</a>( <span class='pre'>countSystem, numMillis, callback</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Count how many apps have used permissions. ...</div><div class='long'><p>Count how many apps have used permissions.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>countSystem</span> : Boolean<div class='sub-desc'><p>Also count system apps</p>\n</div></li><li><span class='pre'>numMillis</span> : Number<div class='sub-desc'><p>The number of milliseconds in the past to check for uses</p>\n</div></li><li><span class='pre'>callback</span> : Object {java.util.function.Consumer}<div class='sub-desc'><p>Callback waiting for the descriptions of the users of permissions</p>\n</div></li></ul></div></div></div><div id='method-onGetRuntimePermissionsBackup' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.permission.PermissionControllerService'>android.permission.PermissionControllerService</span><br/><a href='source/PermissionControllerService.html#android-permission-PermissionControllerService-method-onGetRuntimePermissionsBackup' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.permission.PermissionControllerService-method-onGetRuntimePermissionsBackup' class='name expandable'>onGetRuntimePermissionsBackup</a>( <span class='pre'>user, backup, callback</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Create a backup of the runtime permissions. ...</div><div class='long'><p>Create a backup of the runtime permissions.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>user</span> : Object {UserHandle}<div class='sub-desc'><p>The user to back up</p>\n</div></li><li><span class='pre'>backup</span> : Object {OutputStream}<div class='sub-desc'><p>The stream to write the backup to</p>\n</div></li><li><span class='pre'>callback</span> : Object {Runnable}<div class='sub-desc'><p>Callback waiting for operation to be complete</p>\n</div></li></ul></div></div></div><div id='method-onGrantOrUpgradeDefaultRuntimePermissions' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.permission.PermissionControllerService'>android.permission.PermissionControllerService</span><br/><a href='source/PermissionControllerService.html#android-permission-PermissionControllerService-method-onGrantOrUpgradeDefaultRuntimePermissions' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.permission.PermissionControllerService-method-onGrantOrUpgradeDefaultRuntimePermissions' class='name expandable'>onGrantOrUpgradeDefaultRuntimePermissions</a>( <span class='pre'>callback</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Grant or upgrade runtime permissions. ...</div><div class='long'><p>Grant or upgrade runtime permissions. The upgrade could be performed\n based on whether the device upgraded, whether the permission database\n version is old, or because the permission policy changed.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>callback</span> : Object {Runnable}<div class='sub-desc'><p>Callback waiting for operation to be complete\n@see PackageManager#isDeviceUpgrading()\n@see PermissionManager#getRuntimePermissionsVersion()\n@see PermissionManager#setRuntimePermissionsVersion(int)</p>\n</div></li></ul></div></div></div><div id='method-onRestoreDelayedRuntimePermissionsBackup' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.permission.PermissionControllerService'>android.permission.PermissionControllerService</span><br/><a href='source/PermissionControllerService.html#android-permission-PermissionControllerService-method-onRestoreDelayedRuntimePermissionsBackup' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.permission.PermissionControllerService-method-onRestoreDelayedRuntimePermissionsBackup' class='name expandable'>onRestoreDelayedRuntimePermissionsBackup</a>( <span class='pre'>packageName, user, callback</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Restore the permission state of an app that was provided in\n onRestoreRuntimePermissionsBackup but could not be resto...</div><div class='long'><p>Restore the permission state of an app that was provided in\n <a href=\"#!/api/android.permission.PermissionControllerService-method-onRestoreRuntimePermissionsBackup\" rel=\"android.permission.PermissionControllerService-method-onRestoreRuntimePermissionsBackup\" class=\"docClass\">onRestoreRuntimePermissionsBackup</a> but could not be restored back then.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>packageName</span> : String<div class='sub-desc'><p>The app to restore</p>\n</div></li><li><span class='pre'>user</span> : Object {UserHandle}<div class='sub-desc'><p>The user to restore</p>\n</div></li><li><span class='pre'>callback</span> : Object {java.util.function.Consumer}<div class='sub-desc'><p>Callback waiting for whether there is still delayed backup left</p>\n</div></li></ul></div></div></div><div id='method-onRestoreRuntimePermissionsBackup' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.permission.PermissionControllerService'>android.permission.PermissionControllerService</span><br/><a href='source/PermissionControllerService.html#android-permission-PermissionControllerService-method-onRestoreRuntimePermissionsBackup' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.permission.PermissionControllerService-method-onRestoreRuntimePermissionsBackup' class='name expandable'>onRestoreRuntimePermissionsBackup</a>( <span class='pre'>user, backup, callback</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Restore a backup of the runtime permissions. ...</div><div class='long'><p>Restore a backup of the runtime permissions.</p>\n\n<p> <p>If an app mentioned in the backup is not installed the state should be saved to later\n be restored via <a href=\"#!/api/android.permission.PermissionControllerService-method-onRestoreDelayedRuntimePermissionsBackup\" rel=\"android.permission.PermissionControllerService-method-onRestoreDelayedRuntimePermissionsBackup\" class=\"docClass\">onRestoreDelayedRuntimePermissionsBackup</a>.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>user</span> : Object {UserHandle}<div class='sub-desc'><p>The user to restore</p>\n</div></li><li><span class='pre'>backup</span> : Object {InputStream}<div class='sub-desc'><p>The stream to read the backup from</p>\n</div></li><li><span class='pre'>callback</span> : Object {Runnable}<div class='sub-desc'><p>Callback waiting for operation to be complete</p>\n</div></li></ul></div></div></div><div id='method-onRevokeRuntimePermission' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.permission.PermissionControllerService'>android.permission.PermissionControllerService</span><br/><a href='source/PermissionControllerService.html#android-permission-PermissionControllerService-method-onRevokeRuntimePermission' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.permission.PermissionControllerService-method-onRevokeRuntimePermission' class='name expandable'>onRevokeRuntimePermission</a>( <span class='pre'>packageName, permissionName, callback</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Revokes the permission {@code permissionName} for app {@code packageName} ...</div><div class='long'><p>Revokes the permission {@code permissionName} for app {@code packageName}</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>packageName</span> : String<div class='sub-desc'><p>The package for which to revoke</p>\n</div></li><li><span class='pre'>permissionName</span> : String<div class='sub-desc'><p>The permission to revoke</p>\n</div></li><li><span class='pre'>callback</span> : Object {Runnable}<div class='sub-desc'><p>Callback waiting for operation to be complete</p>\n</div></li></ul></div></div></div><div id='method-onRevokeRuntimePermissions' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.permission.PermissionControllerService'>android.permission.PermissionControllerService</span><br/><a href='source/PermissionControllerService.html#android-permission-PermissionControllerService-method-onRevokeRuntimePermissions' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.permission.PermissionControllerService-method-onRevokeRuntimePermissions' class='name expandable'>onRevokeRuntimePermissions</a>( <span class='pre'>requests, doDryRun, reason, callerPackageName, callback</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Revoke a set of runtime permissions for various apps. ...</div><div class='long'><p>Revoke a set of runtime permissions for various apps.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>requests</span> : Object {java.util.Map}<div class='sub-desc'><p>The permissions to revoke as {@code Map&lt;packageName, List<permission>>}</permission></p>\n</div></li><li><span class='pre'>doDryRun</span> : Boolean<div class='sub-desc'><p>Compute the permissions that would be revoked, but not actually revoke them</p>\n</div></li><li><span class='pre'>reason</span> : Number<div class='sub-desc'><p>Why the permission should be revoked</p>\n</div></li><li><span class='pre'>callerPackageName</span> : String<div class='sub-desc'><p>The package name of the calling app</p>\n</div></li><li><span class='pre'>callback</span> : Object {java.util.function.Consumer}<div class='sub-desc'><p>Callback waiting for the actually removed permissions as\n {@code Map&lt;packageName, List<permission>>}</permission></p>\n</div></li></ul></div></div></div><div id='method-onSetRuntimePermissionGrantStateByDeviceAdmin' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.permission.PermissionControllerService'>android.permission.PermissionControllerService</span><br/><a href='source/PermissionControllerService.html#android-permission-PermissionControllerService-method-onSetRuntimePermissionGrantStateByDeviceAdmin' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.permission.PermissionControllerService-method-onSetRuntimePermissionGrantStateByDeviceAdmin' class='name expandable'>onSetRuntimePermissionGrantStateByDeviceAdmin</a>( <span class='pre'>callerPackageName, packageName, permission, grantState, callback</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Set the runtime permission state from a device admin. ...</div><div class='long'><p>Set the runtime permission state from a device admin.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>callerPackageName</span> : String<div class='sub-desc'><p>The package name of the admin requesting the change</p>\n</div></li><li><span class='pre'>packageName</span> : String<div class='sub-desc'><p>Package the permission belongs to</p>\n</div></li><li><span class='pre'>permission</span> : String<div class='sub-desc'><p>Permission to change</p>\n</div></li><li><span class='pre'>grantState</span> : Number<div class='sub-desc'><p>State to set the permission into</p>\n</div></li><li><span class='pre'>callback</span> : Object {java.util.function.Consumer}<div class='sub-desc'><p>Callback waiting for whether the state could be set or not</p>\n</div></li></ul></div></div></div></div></div></div></div>","meta":{}});