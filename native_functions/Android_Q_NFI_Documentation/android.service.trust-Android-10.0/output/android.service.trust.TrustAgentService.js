Ext.data.JsonP.android_service_trust_TrustAgentService({"tagname":"class","name":"android.service.trust.TrustAgentService","autodetected":{},"files":[{"filename":"TrustAgentService.js","href":"TrustAgentService.html#android-service-trust-TrustAgentService"}],"extends":"android.app.Service","hide":true,"members":[{"name":"FLAG_GRANT_TRUST_DISMISS_KEYGUARD","tagname":"property","owner":"android.service.trust.TrustAgentService","id":"property-FLAG_GRANT_TRUST_DISMISS_KEYGUARD","meta":{}},{"name":"FLAG_GRANT_TRUST_INITIATED_BY_USER","tagname":"property","owner":"android.service.trust.TrustAgentService","id":"property-FLAG_GRANT_TRUST_INITIATED_BY_USER","meta":{}},{"name":"SERVICE_INTERFACE","tagname":"property","owner":"android.service.trust.TrustAgentService","id":"property-SERVICE_INTERFACE","meta":{}},{"name":"TOKEN_STATE_ACTIVE","tagname":"property","owner":"android.service.trust.TrustAgentService","id":"property-TOKEN_STATE_ACTIVE","meta":{}},{"name":"TOKEN_STATE_INACTIVE","tagname":"property","owner":"android.service.trust.TrustAgentService","id":"property-TOKEN_STATE_INACTIVE","meta":{}},{"name":"TRUST_AGENT_META_DATA","tagname":"property","owner":"android.service.trust.TrustAgentService","id":"property-TRUST_AGENT_META_DATA","meta":{}},{"name":"addEscrowToken","tagname":"method","owner":"android.service.trust.TrustAgentService","id":"method-addEscrowToken","meta":{}},{"name":"grantTrust","tagname":"method","owner":"android.service.trust.TrustAgentService","id":"method-grantTrust","meta":{}},{"name":"isEscrowTokenActive","tagname":"method","owner":"android.service.trust.TrustAgentService","id":"method-isEscrowTokenActive","meta":{}},{"name":"onBind","tagname":"method","owner":"android.service.trust.TrustAgentService","id":"method-onBind","meta":{}},{"name":"onConfigure","tagname":"method","owner":"android.service.trust.TrustAgentService","id":"method-onConfigure","meta":{}},{"name":"onCreate","tagname":"method","owner":"android.service.trust.TrustAgentService","id":"method-onCreate","meta":{}},{"name":"onDeviceLocked","tagname":"method","owner":"android.service.trust.TrustAgentService","id":"method-onDeviceLocked","meta":{}},{"name":"onDeviceUnlockLockout","tagname":"method","owner":"android.service.trust.TrustAgentService","id":"method-onDeviceUnlockLockout","meta":{}},{"name":"onDeviceUnlocked","tagname":"method","owner":"android.service.trust.TrustAgentService","id":"method-onDeviceUnlocked","meta":{}},{"name":"onEscrowTokenAdded","tagname":"method","owner":"android.service.trust.TrustAgentService","id":"method-onEscrowTokenAdded","meta":{}},{"name":"onEscrowTokenRemoved","tagname":"method","owner":"android.service.trust.TrustAgentService","id":"method-onEscrowTokenRemoved","meta":{}},{"name":"onEscrowTokenStateReceived","tagname":"method","owner":"android.service.trust.TrustAgentService","id":"method-onEscrowTokenStateReceived","meta":{}},{"name":"onTrustTimeout","tagname":"method","owner":"android.service.trust.TrustAgentService","id":"method-onTrustTimeout","meta":{}},{"name":"onUnlockAttempt","tagname":"method","owner":"android.service.trust.TrustAgentService","id":"method-onUnlockAttempt","meta":{}},{"name":"removeEscrowToken","tagname":"method","owner":"android.service.trust.TrustAgentService","id":"method-removeEscrowToken","meta":{}},{"name":"revokeTrust","tagname":"method","owner":"android.service.trust.TrustAgentService","id":"method-revokeTrust","meta":{}},{"name":"setManagingTrust","tagname":"method","owner":"android.service.trust.TrustAgentService","id":"method-setManagingTrust","meta":{}},{"name":"showKeyguardErrorMessage","tagname":"method","owner":"android.service.trust.TrustAgentService","id":"method-showKeyguardErrorMessage","meta":{}},{"name":"unlockUserWithToken","tagname":"method","owner":"android.service.trust.TrustAgentService","id":"method-unlockUserWithToken","meta":{}}],"alternateClassNames":[],"aliases":{},"id":"class-android.service.trust.TrustAgentService","short_doc":"A service that notifies the system about whether it believes the environment of the device\n to be trusted. ...","classIcon":"icon-class","superclasses":["android.app.Service"],"subclasses":[],"mixedInto":[],"mixins":[],"parentMixins":[],"requires":[],"uses":[],"html":"<div><pre class=\"hierarchy\"><h4>Hierarchy</h4><div class='subclass first-child'>android.app.Service<div class='subclass '><strong>android.service.trust.TrustAgentService</strong></div></div><h4>Files</h4><div class='dependency'><a href='source/TrustAgentService.html#android-service-trust-TrustAgentService' target='_blank'>TrustAgentService.js</a></div></pre><div class='doc-contents'><p>A service that notifies the system about whether it believes the environment of the device\n to be trusted.</p>\n\n<p> <p>Trust agents may only be provided by the platform. It is expected that there is only\n one trust agent installed on the platform. In the event there is more than one,\n either trust agent can enable trust.\n </p></p>\n\n<p> <p>To extend this class, you must declare the service in your manifest file with\n the android.Manifest.permission.BIND_TRUST_AGENT permission\n and include an intent filter with the <a href=\"#!/api/android.service.trust.TrustAgentService-property-SERVICE_INTERFACE\" rel=\"android.service.trust.TrustAgentService-property-SERVICE_INTERFACE\" class=\"docClass\">SERVICE_INTERFACE</a> action. For example:</p></p>\n\n<pre> &lt;service android:name=\".TrustAgent\"\n          android:label=\"&#64;string/service_name\"\n          android:permission=\"android.permission.BIND_TRUST_AGENT\">\n     &lt;intent-filter>\n         &lt;action android:name=\"<a href=\"#!/api/android.service.trust.TrustAgentService\" rel=\"android.service.trust.TrustAgentService\" class=\"docClass\">android.service.trust.TrustAgentService</a>\" />\n     &lt;/intent-filter>\n     &lt;meta-data android:name=\"android.service.trust.trustagent\"\n          android:value=\"&#64;xml/trust_agent\" />\n &lt;/service></pre>\n\n\n<p> <p>The associated meta-data file can specify an activity that is accessible through Settings\n and should allow configuring the trust agent, as defined in\n android.R.styleable.TrustAgent. For example:</p></p>\n\n<pre> &lt;trust-agent xmlns:android=\"http://schemas.android.com/apk/res/android\"\n          android:settingsActivity=\".TrustAgentSettings\" /></pre>\n\n</div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-property'>Properties</h3><div class='subsection'><div id='property-FLAG_GRANT_TRUST_DISMISS_KEYGUARD' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.service.trust.TrustAgentService'>android.service.trust.TrustAgentService</span><br/><a href='source/TrustAgentService.html#android-service-trust-TrustAgentService-property-FLAG_GRANT_TRUST_DISMISS_KEYGUARD' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.service.trust.TrustAgentService-property-FLAG_GRANT_TRUST_DISMISS_KEYGUARD' class='name expandable'>FLAG_GRANT_TRUST_DISMISS_KEYGUARD</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'>Flag for long, int) indicating that the agent would like\nto dismiss the keyguard. ...</div><div class='long'><p>Flag for long, int) indicating that the agent would like\nto dismiss the keyguard. When using this flag, the {@code TrustAgentService} must ensure\nit is only set in response to a direct user action with the expectation of dismissing the\nkeyguard.</p>\n<p>Defaults to: <code>&quot;2&quot;</code></p></div></div></div><div id='property-FLAG_GRANT_TRUST_INITIATED_BY_USER' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.service.trust.TrustAgentService'>android.service.trust.TrustAgentService</span><br/><a href='source/TrustAgentService.html#android-service-trust-TrustAgentService-property-FLAG_GRANT_TRUST_INITIATED_BY_USER' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.service.trust.TrustAgentService-property-FLAG_GRANT_TRUST_INITIATED_BY_USER' class='name expandable'>FLAG_GRANT_TRUST_INITIATED_BY_USER</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'>Flag for long, int) indicating that trust is being granted\nas the direct result of user action - such as solving a se...</div><div class='long'><p>Flag for long, int) indicating that trust is being granted\nas the direct result of user action - such as solving a security challenge. The hint is used\nby the system to optimize the experience. Behavior may vary by device and release, so\none should only set this parameter if it meets the above criteria rather than relying on\nthe behavior of any particular device or release.</p>\n<p>Defaults to: <code>&quot;1&quot;</code></p></div></div></div><div id='property-SERVICE_INTERFACE' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.service.trust.TrustAgentService'>android.service.trust.TrustAgentService</span><br/><a href='source/TrustAgentService.html#android-service-trust-TrustAgentService-property-SERVICE_INTERFACE' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.service.trust.TrustAgentService-property-SERVICE_INTERFACE' class='name expandable'>SERVICE_INTERFACE</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'>The Intent that must be declared as handled by the service. ...</div><div class='long'><p>The Intent that must be declared as handled by the service.</p>\n<p>Defaults to: <code>&quot;android.service.trust.TrustAgentService&quot;</code></p></div></div></div><div id='property-TOKEN_STATE_ACTIVE' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.service.trust.TrustAgentService'>android.service.trust.TrustAgentService</span><br/><a href='source/TrustAgentService.html#android-service-trust-TrustAgentService-property-TOKEN_STATE_ACTIVE' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.service.trust.TrustAgentService-property-TOKEN_STATE_ACTIVE' class='name expandable'>TOKEN_STATE_ACTIVE</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'>Int enum indicating that escrow token is active. ...</div><div class='long'><p>Int enum indicating that escrow token is active.\nSee int)</p>\n<p>Defaults to: <code>&quot;1&quot;</code></p></div></div></div><div id='property-TOKEN_STATE_INACTIVE' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.service.trust.TrustAgentService'>android.service.trust.TrustAgentService</span><br/><a href='source/TrustAgentService.html#android-service-trust-TrustAgentService-property-TOKEN_STATE_INACTIVE' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.service.trust.TrustAgentService-property-TOKEN_STATE_INACTIVE' class='name expandable'>TOKEN_STATE_INACTIVE</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'>Int enum indicating that escow token is inactive. ...</div><div class='long'><p>Int enum indicating that escow token is inactive.\nSee int)</p>\n<p>Defaults to: <code>&quot;0&quot;</code></p></div></div></div><div id='property-TRUST_AGENT_META_DATA' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.service.trust.TrustAgentService'>android.service.trust.TrustAgentService</span><br/><a href='source/TrustAgentService.html#android-service-trust-TrustAgentService-property-TRUST_AGENT_META_DATA' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.service.trust.TrustAgentService-property-TRUST_AGENT_META_DATA' class='name expandable'>TRUST_AGENT_META_DATA</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'>The name of the {@code meta-data} tag pointing to additional configuration of the trust\nagent. ...</div><div class='long'><p>The name of the {@code meta-data} tag pointing to additional configuration of the trust\nagent.</p>\n<p>Defaults to: <code>&quot;android.service.trust.trustagent&quot;</code></p></div></div></div></div></div><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div id='method-addEscrowToken' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.service.trust.TrustAgentService'>android.service.trust.TrustAgentService</span><br/><a href='source/TrustAgentService.html#android-service-trust-TrustAgentService-method-addEscrowToken' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.service.trust.TrustAgentService-method-addEscrowToken' class='name expandable'>addEscrowToken</a>( <span class='pre'>token, user</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Call to add an escrow token to derive a synthetic password. ...</div><div class='long'><p>Call to add an escrow token to derive a synthetic password. A synthetic password is an\n alternaive to the user-set password/pin/pattern in order to unlock encrypted disk. An escrow\n token can be taken and internally derive the synthetic password. The new added token will not\n be acivated until the user input the correct PIN/Passcode/Password once.</p>\n\n<p> Result will be return by callback int)</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>token</span> : Object {byte[]}<div class='sub-desc'><p>an escrow token of high entropy.</p>\n</div></li><li><span class='pre'>user</span> : Object {UserHandle}<div class='sub-desc'><p>the user which the escrow token will be added to.</p>\n</div></li></ul></div></div></div><div id='method-grantTrust' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.service.trust.TrustAgentService'>android.service.trust.TrustAgentService</span><br/><a href='source/TrustAgentService.html#android-service-trust-TrustAgentService-method-grantTrust' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.service.trust.TrustAgentService-method-grantTrust' class='name expandable'>grantTrust</a>( <span class='pre'>message, durationMs, flags</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Call to grant trust on the device. ...</div><div class='long'><p>Call to grant trust on the device.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>message</span> : Object {CharSequence}<div class='sub-desc'><p>describes why the device is trusted, e.g. \"Trusted by location\".</p>\n</div></li><li><span class='pre'>durationMs</span> : Number<div class='sub-desc'><p>amount of time in milliseconds to keep the device in a trusted state.\n    Trust for this agent will automatically be revoked when the timeout expires unless\n    extended by a subsequent call to this function. The timeout is measured from the\n    invocation of this function as dictated by SystemClock.elapsedRealtime()).\n    For security reasons, the value should be no larger than necessary.\n    The value may be adjusted by the system as necessary to comply with a policy controlled\n    by the system or DevicePolicyManager restrictions. See onTrustTimeout()\n    for determining when trust expires.</p>\n</div></li><li><span class='pre'>flags</span> : Number<div class='sub-desc'><p>TBDocumented</p>\n</div></li></ul><h3 class='pa'>Throws</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>IllegalStateException if the agent is not currently managing trust.</p>\n</div></li></ul></div></div></div><div id='method-isEscrowTokenActive' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.service.trust.TrustAgentService'>android.service.trust.TrustAgentService</span><br/><a href='source/TrustAgentService.html#android-service-trust-TrustAgentService-method-isEscrowTokenActive' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.service.trust.TrustAgentService-method-isEscrowTokenActive' class='name expandable'>isEscrowTokenActive</a>( <span class='pre'>handle, user</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Call to check the active state of an escrow token. ...</div><div class='long'><p>Call to check the active state of an escrow token.</p>\n\n<p> Result will be return in callback boolean)</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>handle</span> : Number<div class='sub-desc'><p>the handle of escrow token to the internal synthetic password.</p>\n</div></li><li><span class='pre'>user</span> : Object {UserHandle}<div class='sub-desc'><p>the user which the escrow token is added to.</p>\n</div></li></ul></div></div></div><div id='method-onBind' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.service.trust.TrustAgentService'>android.service.trust.TrustAgentService</span><br/><a href='source/TrustAgentService.html#android-service-trust-TrustAgentService-method-onBind' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.service.trust.TrustAgentService-method-onBind' class='name expandable'>onBind</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-onConfigure' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.service.trust.TrustAgentService'>android.service.trust.TrustAgentService</span><br/><a href='source/TrustAgentService.html#android-service-trust-TrustAgentService-method-onConfigure' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.service.trust.TrustAgentService-method-onConfigure' class='name expandable'>onConfigure</a>( <span class='pre'>options</span> ) : Boolean<span class=\"signature\"></span></div><div class='description'><div class='short'>Called when device policy admin wants to enable specific options for agent in response to\n int) and\n ComponentName,\n ...</div><div class='long'><p>Called when device policy admin wants to enable specific options for agent in response to\n int) and\n ComponentName,\n PersistableBundle).\n <p>Agents that support configuration options should overload this method and return 'true'.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>options</span> : Object {java.util.List}<div class='sub-desc'><p>The aggregated list of options or an empty list if no restrictions apply.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Boolean</span><div class='sub-desc'><p>true if it supports configuration options.</p>\n</div></li></ul></div></div></div><div id='method-onCreate' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.service.trust.TrustAgentService'>android.service.trust.TrustAgentService</span><br/><a href='source/TrustAgentService.html#android-service-trust-TrustAgentService-method-onCreate' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.service.trust.TrustAgentService-method-onCreate' class='name expandable'>onCreate</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-onDeviceLocked' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.service.trust.TrustAgentService'>android.service.trust.TrustAgentService</span><br/><a href='source/TrustAgentService.html#android-service-trust-TrustAgentService-method-onDeviceLocked' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.service.trust.TrustAgentService-method-onDeviceLocked' class='name expandable'>onDeviceLocked</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Called when the device enters a state where a PIN, pattern or\n password must be entered to unlock it. ...</div><div class='long'><p>Called when the device enters a state where a PIN, pattern or\n password must be entered to unlock it.</p>\n</div></div></div><div id='method-onDeviceUnlockLockout' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.service.trust.TrustAgentService'>android.service.trust.TrustAgentService</span><br/><a href='source/TrustAgentService.html#android-service-trust-TrustAgentService-method-onDeviceUnlockLockout' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.service.trust.TrustAgentService-method-onDeviceUnlockLockout' class='name expandable'>onDeviceUnlockLockout</a>( <span class='pre'>timeoutMs</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Called when the device enters a temporary unlock lockout. ...</div><div class='long'><p>Called when the device enters a temporary unlock lockout.</p>\n\n<p> <p>This occurs when the user has consecutively failed to unlock the device too many times,\n and must wait until a timeout has passed to perform another attempt. The user may then only\n use strong authentication mechanisms (PIN, pattern or password) to unlock the device.\n Calls to long, int) will be ignored until the user has\n unlocked the device and <a href=\"#!/api/android.service.trust.TrustAgentService-method-onDeviceUnlocked\" rel=\"android.service.trust.TrustAgentService-method-onDeviceUnlocked\" class=\"docClass\">onDeviceUnlocked</a>() is called.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>timeoutMs</span> : Number<div class='sub-desc'><p>The amount of time, in milliseconds, that needs to elapse before the user\n    can attempt to unlock the device again.</p>\n</div></li></ul></div></div></div><div id='method-onDeviceUnlocked' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.service.trust.TrustAgentService'>android.service.trust.TrustAgentService</span><br/><a href='source/TrustAgentService.html#android-service-trust-TrustAgentService-method-onDeviceUnlocked' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.service.trust.TrustAgentService-method-onDeviceUnlocked' class='name expandable'>onDeviceUnlocked</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Called when the device leaves a state where a PIN, pattern or\n password must be entered to unlock it. ...</div><div class='long'><p>Called when the device leaves a state where a PIN, pattern or\n password must be entered to unlock it.</p>\n</div></div></div><div id='method-onEscrowTokenAdded' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.service.trust.TrustAgentService'>android.service.trust.TrustAgentService</span><br/><a href='source/TrustAgentService.html#android-service-trust-TrustAgentService-method-onEscrowTokenAdded' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.service.trust.TrustAgentService-method-onEscrowTokenAdded' class='name expandable'>onEscrowTokenAdded</a>( <span class='pre'>token, handle, user</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Called when an escrow token is added for user userId. ...</div><div class='long'><p>Called when an escrow token is added for user userId.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>token</span> : Object {byte[]}<div class='sub-desc'><p>the added token</p>\n</div></li><li><span class='pre'>handle</span> : Number<div class='sub-desc'><p>the handle to the corresponding internal synthetic password. A user is unlocked\n by presenting both handle and escrow token.</p>\n</div></li><li><span class='pre'>user</span> : Object {UserHandle}<div class='sub-desc'><p>the user to which the escrow token is added.</p>\n</div></li></ul></div></div></div><div id='method-onEscrowTokenRemoved' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.service.trust.TrustAgentService'>android.service.trust.TrustAgentService</span><br/><a href='source/TrustAgentService.html#android-service-trust-TrustAgentService-method-onEscrowTokenRemoved' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.service.trust.TrustAgentService-method-onEscrowTokenRemoved' class='name expandable'>onEscrowTokenRemoved</a>( <span class='pre'>handle, successful</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Called when an escrow token is removed. ...</div><div class='long'><p>Called when an escrow token is removed.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>handle</span> : Number<div class='sub-desc'><p>the handle to the removed the synthetic password.</p>\n</div></li><li><span class='pre'>successful</span> : Boolean<div class='sub-desc'><p>whether the removing operaiton is achieved.</p>\n</div></li></ul></div></div></div><div id='method-onEscrowTokenStateReceived' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.service.trust.TrustAgentService'>android.service.trust.TrustAgentService</span><br/><a href='source/TrustAgentService.html#android-service-trust-TrustAgentService-method-onEscrowTokenStateReceived' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.service.trust.TrustAgentService-method-onEscrowTokenStateReceived' class='name expandable'>onEscrowTokenStateReceived</a>( <span class='pre'>handle, state</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Called when an escrow token state is received upon request. ...</div><div class='long'><p>Called when an escrow token state is received upon request.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>handle</span> : Number<div class='sub-desc'><p>the handle to the internal synthetic password.</p>\n</div></li><li><span class='pre'>state</span> : Number<div class='sub-desc'><p>the state of the requested escrow token, see TokenState.</p>\n</div></li></ul></div></div></div><div id='method-onTrustTimeout' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.service.trust.TrustAgentService'>android.service.trust.TrustAgentService</span><br/><a href='source/TrustAgentService.html#android-service-trust-TrustAgentService-method-onTrustTimeout' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.service.trust.TrustAgentService-method-onTrustTimeout' class='name expandable'>onTrustTimeout</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Called when the timeout provided by the agent expires. ...</div><div class='long'><p>Called when the timeout provided by the agent expires.  Note that this may be called earlier\n than requested by the agent if the trust timeout is adjusted by the system or\n DevicePolicyManager.  The agent is expected to re-evaluate the trust state and only\n call long, boolean) if the trust state should be\n continued.</p>\n</div></div></div><div id='method-onUnlockAttempt' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.service.trust.TrustAgentService'>android.service.trust.TrustAgentService</span><br/><a href='source/TrustAgentService.html#android-service-trust-TrustAgentService-method-onUnlockAttempt' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.service.trust.TrustAgentService-method-onUnlockAttempt' class='name expandable'>onUnlockAttempt</a>( <span class='pre'>successful</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Called after the user attempts to authenticate in keyguard with their device credentials,\n such as pin, pattern or pa...</div><div class='long'><p>Called after the user attempts to authenticate in keyguard with their device credentials,\n such as pin, pattern or password.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>successful</span> : Boolean<div class='sub-desc'><p>true if the user successfully completed the challenge.</p>\n</div></li></ul></div></div></div><div id='method-removeEscrowToken' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.service.trust.TrustAgentService'>android.service.trust.TrustAgentService</span><br/><a href='source/TrustAgentService.html#android-service-trust-TrustAgentService-method-removeEscrowToken' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.service.trust.TrustAgentService-method-removeEscrowToken' class='name expandable'>removeEscrowToken</a>( <span class='pre'>handle, user</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Call to remove the escrow token. ...</div><div class='long'><p>Call to remove the escrow token.</p>\n\n<p> Result will be return in callback boolean)</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>handle</span> : Number<div class='sub-desc'><p>the handle of escrow tokent to the internal synthetic password.</p>\n</div></li><li><span class='pre'>user</span> : Object {UserHandle}<div class='sub-desc'><p>the user id which the escrow token is added to.</p>\n</div></li></ul></div></div></div><div id='method-revokeTrust' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.service.trust.TrustAgentService'>android.service.trust.TrustAgentService</span><br/><a href='source/TrustAgentService.html#android-service-trust-TrustAgentService-method-revokeTrust' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.service.trust.TrustAgentService-method-revokeTrust' class='name expandable'>revokeTrust</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Call to revoke trust on the device. ...</div><div class='long'><p>Call to revoke trust on the device.</p>\n</div></div></div><div id='method-setManagingTrust' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.service.trust.TrustAgentService'>android.service.trust.TrustAgentService</span><br/><a href='source/TrustAgentService.html#android-service-trust-TrustAgentService-method-setManagingTrust' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.service.trust.TrustAgentService-method-setManagingTrust' class='name expandable'>setManagingTrust</a>( <span class='pre'>managingTrust</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Call to notify the system if the agent is ready to manage trust. ...</div><div class='long'><p>Call to notify the system if the agent is ready to manage trust.</p>\n\n<p> This property is not persistent across recreating the service and defaults to false.\n Therefore this method is typically called when initializing the agent in <a href=\"#!/api/android.service.trust.TrustAgentService-method-onCreate\" rel=\"android.service.trust.TrustAgentService-method-onCreate\" class=\"docClass\">onCreate</a>.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>managingTrust</span> : Boolean<div class='sub-desc'><p>indicates if the agent would like to manage trust.</p>\n</div></li></ul></div></div></div><div id='method-showKeyguardErrorMessage' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.service.trust.TrustAgentService'>android.service.trust.TrustAgentService</span><br/><a href='source/TrustAgentService.html#android-service-trust-TrustAgentService-method-showKeyguardErrorMessage' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.service.trust.TrustAgentService-method-showKeyguardErrorMessage' class='name expandable'>showKeyguardErrorMessage</a>( <span class='pre'>message</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Request showing a transient error message on the keyguard. ...</div><div class='long'><p>Request showing a transient error message on the keyguard.\n The message will be visible on the lock screen or always on display if possible but can be\n overridden by other keyguard events of higher priority - eg. fingerprint auth error.\n Other trust agents may override your message if posted simultaneously.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>message</span> : Object {CharSequence}<div class='sub-desc'><p>Message to show.</p>\n</div></li></ul></div></div></div><div id='method-unlockUserWithToken' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.service.trust.TrustAgentService'>android.service.trust.TrustAgentService</span><br/><a href='source/TrustAgentService.html#android-service-trust-TrustAgentService-method-unlockUserWithToken' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.service.trust.TrustAgentService-method-unlockUserWithToken' class='name expandable'>unlockUserWithToken</a>( <span class='pre'>handle, token, user</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Call to unlock user's FBE. ...</div><div class='long'><p>Call to unlock user's FBE.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>handle</span> : Number<div class='sub-desc'><p>the handle of escrow tokent to the internal synthetic password.</p>\n</div></li><li><span class='pre'>token</span> : Object {byte[]}<div class='sub-desc'><p>the escrow token</p>\n</div></li><li><span class='pre'>user</span> : Object {UserHandle}<div class='sub-desc'><p>the user about to be unlocked.</p>\n</div></li></ul></div></div></div></div></div></div></div>","meta":{}});