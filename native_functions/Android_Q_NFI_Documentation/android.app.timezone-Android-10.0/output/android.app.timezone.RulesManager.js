Ext.data.JsonP.android_app_timezone_RulesManager({"tagname":"class","name":"android.app.timezone.RulesManager","autodetected":{},"files":[{"filename":"RulesManager.js","href":"RulesManager.html#android-app-timezone-RulesManager"}],"extends":"java.lang.Object","hide":true,"members":[{"name":"ACTION_RULES_UPDATE_OPERATION","tagname":"property","owner":"android.app.timezone.RulesManager","id":"property-ACTION_RULES_UPDATE_OPERATION","meta":{}},{"name":"ERROR_OPERATION_IN_PROGRESS","tagname":"property","owner":"android.app.timezone.RulesManager","id":"property-ERROR_OPERATION_IN_PROGRESS","meta":{}},{"name":"ERROR_UNKNOWN_FAILURE","tagname":"property","owner":"android.app.timezone.RulesManager","id":"property-ERROR_UNKNOWN_FAILURE","meta":{}},{"name":"EXTRA_OPERATION_STAGED","tagname":"property","owner":"android.app.timezone.RulesManager","id":"property-EXTRA_OPERATION_STAGED","meta":{}},{"name":"SUCCESS","tagname":"property","owner":"android.app.timezone.RulesManager","id":"property-SUCCESS","meta":{}},{"name":"getRulesState","tagname":"method","owner":"android.app.timezone.RulesManager","id":"method-getRulesState","meta":{}},{"name":"requestInstall","tagname":"method","owner":"android.app.timezone.RulesManager","id":"method-requestInstall","meta":{}},{"name":"requestNothing","tagname":"method","owner":"android.app.timezone.RulesManager","id":"method-requestNothing","meta":{}},{"name":"requestUninstall","tagname":"method","owner":"android.app.timezone.RulesManager","id":"method-requestUninstall","meta":{}}],"alternateClassNames":[],"aliases":{},"id":"class-android.app.timezone.RulesManager","short_doc":"The interface through which a time zone update application interacts with the Android system\n to handle time zone rul...","classIcon":"icon-class","superclasses":["java.lang.Object"],"subclasses":[],"mixedInto":[],"mixins":[],"parentMixins":[],"requires":[],"uses":[],"html":"<div><pre class=\"hierarchy\"><h4>Hierarchy</h4><div class='subclass first-child'>java.lang.Object<div class='subclass '><strong>android.app.timezone.RulesManager</strong></div></div><h4>Files</h4><div class='dependency'><a href='source/RulesManager.html#android-app-timezone-RulesManager' target='_blank'>RulesManager.js</a></div></pre><div class='doc-contents'><p>The interface through which a time zone update application interacts with the Android system\n to handle time zone rule updates.</p>\n\n<p> <p>This interface is intended for use with the default APK-based time zone rules update\n application but it can also be used by OEMs if that mechanism is turned off using configuration.\n All callers must possess the android.Manifest.permission.UPDATE_TIME_ZONE_RULES system\n permission unless otherwise stated.</p>\n\n<p> <p>When using the default mechanism, when properly configured the Android system will send a\n <a href=\"#!/api/android.app.timezone.RulesUpdaterContract-property-ACTION_TRIGGER_RULES_UPDATE_CHECK\" rel=\"android.app.timezone.RulesUpdaterContract-property-ACTION_TRIGGER_RULES_UPDATE_CHECK\" class=\"docClass\">android.app.timezone.RulesUpdaterContract.ACTION_TRIGGER_RULES_UPDATE_CHECK</a> intent with a\n <a href=\"#!/api/android.app.timezone.RulesUpdaterContract-property-EXTRA_CHECK_TOKEN\" rel=\"android.app.timezone.RulesUpdaterContract-property-EXTRA_CHECK_TOKEN\" class=\"docClass\">android.app.timezone.RulesUpdaterContract.EXTRA_CHECK_TOKEN</a> extra to the time zone rules updater application\n when it detects that it or the OEM's APK containing time zone rules data has been modified. The\n updater application is then responsible for calling one of\n byte[], android.app.timezone.Callback),\n android.app.timezone.Callback) or\n boolean), indicating, respectively, whether a new time zone rules\n distro should be installed, the current distro should be uninstalled, or there is nothing to do\n (or that the correct operation could not be determined due to an error). In each case the updater\n must pass the <a href=\"#!/api/android.app.timezone.RulesUpdaterContract-property-EXTRA_CHECK_TOKEN\" rel=\"android.app.timezone.RulesUpdaterContract-property-EXTRA_CHECK_TOKEN\" class=\"docClass\">android.app.timezone.RulesUpdaterContract.EXTRA_CHECK_TOKEN</a> value it received from the intent\n back so the system in the {@code checkToken} parameter.</p>\n\n<p> <p>If OEMs want to handle their own time zone rules updates, perhaps via a server-side component\n rather than an APK, then they should disable the default triggering mechanism in config and are\n responsible for triggering their own update checks / installs / uninstalls. In this case the\n \"check token\" parameter can be left null and there is never any need to call\n boolean).</p>\n\n<p> <p>OEMs should not mix the default mechanism and their own as this could lead to conflicts and\n unnecessary checks being triggered.</p>\n\n<p> <p>Applications obtain this using android.app.Activity.getSystemService(String) with\n Context.TIME_ZONE_RULES_MANAGER_SERVICE.</p>\n</div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-property'>Properties</h3><div class='subsection'><div id='property-ACTION_RULES_UPDATE_OPERATION' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.timezone.RulesManager'>android.app.timezone.RulesManager</span><br/><a href='source/RulesManager.html#android-app-timezone-RulesManager-property-ACTION_RULES_UPDATE_OPERATION' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.timezone.RulesManager-property-ACTION_RULES_UPDATE_OPERATION' class='name expandable'>ACTION_RULES_UPDATE_OPERATION</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'>The action of the intent that the Android system will broadcast when a time zone rules update\noperation has been succ...</div><div class='long'><p>The action of the intent that the Android system will broadcast when a time zone rules update\noperation has been successfully staged  (i.e. to be applied next reboot) or unstaged.</p>\n\n<p><p>See <a href=\"#!/api/android.app.timezone.RulesManager-property-EXTRA_OPERATION_STAGED\" rel=\"android.app.timezone.RulesManager-property-EXTRA_OPERATION_STAGED\" class=\"docClass\">EXTRA_OPERATION_STAGED</a></p>\n\n<p><p>This is a protected intent that can only be sent by the system.</p>\n<p>Defaults to: <code>&quot;com.android.intent.action.timezone.RULES_UPDATE_OPERATION&quot;</code></p></div></div></div><div id='property-ERROR_OPERATION_IN_PROGRESS' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.timezone.RulesManager'>android.app.timezone.RulesManager</span><br/><a href='source/RulesManager.html#android-app-timezone-RulesManager-property-ERROR_OPERATION_IN_PROGRESS' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.timezone.RulesManager-property-ERROR_OPERATION_IN_PROGRESS' class='name expandable'>ERROR_OPERATION_IN_PROGRESS</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'>Indicates that an install/uninstall cannot be initiated because there is one already in\nprogress. ...</div><div class='long'><p>Indicates that an install/uninstall cannot be initiated because there is one already in\nprogress.</p>\n<p>Defaults to: <code>&quot;1&quot;</code></p></div></div></div><div id='property-ERROR_UNKNOWN_FAILURE' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.timezone.RulesManager'>android.app.timezone.RulesManager</span><br/><a href='source/RulesManager.html#android-app-timezone-RulesManager-property-ERROR_UNKNOWN_FAILURE' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.timezone.RulesManager-property-ERROR_UNKNOWN_FAILURE' class='name expandable'>ERROR_UNKNOWN_FAILURE</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'>Indicates an install / uninstall did not fully succeed for an unknown reason. ...</div><div class='long'><p>Indicates an install / uninstall did not fully succeed for an unknown reason.</p>\n<p>Defaults to: <code>&quot;2&quot;</code></p></div></div></div><div id='property-EXTRA_OPERATION_STAGED' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.timezone.RulesManager'>android.app.timezone.RulesManager</span><br/><a href='source/RulesManager.html#android-app-timezone-RulesManager-property-EXTRA_OPERATION_STAGED' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.timezone.RulesManager-property-EXTRA_OPERATION_STAGED' class='name expandable'>EXTRA_OPERATION_STAGED</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'>The key for a boolean extra for the ACTION_RULES_UPDATE_OPERATION intent used to\nindicate whether the operation was a...</div><div class='long'><p>The key for a boolean extra for the <a href=\"#!/api/android.app.timezone.RulesManager-property-ACTION_RULES_UPDATE_OPERATION\" rel=\"android.app.timezone.RulesManager-property-ACTION_RULES_UPDATE_OPERATION\" class=\"docClass\">ACTION_RULES_UPDATE_OPERATION</a> intent used to\nindicate whether the operation was a \"stage\" or an \"unstage\".</p>\n<p>Defaults to: <code>&quot;staged&quot;</code></p></div></div></div><div id='property-SUCCESS' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.timezone.RulesManager'>android.app.timezone.RulesManager</span><br/><a href='source/RulesManager.html#android-app-timezone-RulesManager-property-SUCCESS' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.timezone.RulesManager-property-SUCCESS' class='name expandable'>SUCCESS</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'>Indicates that an operation succeeded. ...</div><div class='long'><p>Indicates that an operation succeeded.</p>\n<p>Defaults to: <code>&quot;0&quot;</code></p></div></div></div></div></div><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div id='method-getRulesState' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.timezone.RulesManager'>android.app.timezone.RulesManager</span><br/><a href='source/RulesManager.html#android-app-timezone-RulesManager-method-getRulesState' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.timezone.RulesManager-method-getRulesState' class='name expandable'>getRulesState</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Returns information about the current time zone rules state such as the IANA version of\n the system and any currently...</div><div class='long'><p>Returns information about the current time zone rules state such as the IANA version of\n the system and any currently installed distro. This method allows clients to determine the\n current device state, perhaps to see if it can be improved; for example by passing the\n information to a server that may provide a new distro for download.</p>\n\n<p> <p>Callers must possess the android.Manifest.permission.QUERY_TIME_ZONE_RULES system\n permission.</p>\n</div></div></div><div id='method-requestInstall' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.timezone.RulesManager'>android.app.timezone.RulesManager</span><br/><a href='source/RulesManager.html#android-app-timezone-RulesManager-method-requestInstall' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.timezone.RulesManager-method-requestInstall' class='name expandable'>requestInstall</a>( <span class='pre'>distroFileDescriptor, checkToken, callback</span> ) : Number<span class=\"signature\"></span></div><div class='description'><div class='short'>Requests installation of the supplied distro. ...</div><div class='long'><p>Requests installation of the supplied distro. The distro must have been checked for integrity\n by the caller or have been received via a trusted mechanism.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>distroFileDescriptor</span> : Object {ParcelFileDescriptor}<div class='sub-desc'><p>the file descriptor for the distro</p>\n</div></li><li><span class='pre'>checkToken</span> : Object {byte[]}<div class='sub-desc'><p>an optional token provided if the install was triggered in response to a\n     RulesUpdaterContract.ACTION_TRIGGER_RULES_UPDATE_CHECK intent</p>\n</div></li><li><span class='pre'>callback</span> : Object {Callback}<div class='sub-desc'><p>the Callback to receive callbacks related to the installation</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Number</span><div class='sub-desc'><p><a href=\"#!/api/android.app.timezone.RulesManager-property-SUCCESS\" rel=\"android.app.timezone.RulesManager-property-SUCCESS\" class=\"docClass\">SUCCESS</a> if the installation will be attempted</p>\n</div></li></ul></div></div></div><div id='method-requestNothing' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.timezone.RulesManager'>android.app.timezone.RulesManager</span><br/><a href='source/RulesManager.html#android-app-timezone-RulesManager-method-requestNothing' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.timezone.RulesManager-method-requestNothing' class='name expandable'>requestNothing</a>( <span class='pre'>checkToken, succeeded</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Requests the system does not modify the currently installed time zone distro, if any. ...</div><div class='long'><p>Requests the system does not modify the currently installed time zone distro, if any. This\n method records the fact that a time zone check operation triggered by the system is now\n complete and there was nothing to do. The token passed should be the one presented when the\n check was triggered.</p>\n\n<p> <p>Note: Passing {@code success == false} may result in more checks being triggered. Clients\n should be careful not to pass false if the failure is unlikely to resolve by itself.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>checkToken</span> : Object {byte[]}<div class='sub-desc'><p>an optional token provided if the install was triggered in response to a\n     RulesUpdaterContract.ACTION_TRIGGER_RULES_UPDATE_CHECK intent</p>\n</div></li><li><span class='pre'>succeeded</span> : Boolean<div class='sub-desc'><p>true if the check was successful, false if it was not successful but may\n     succeed if it is retried</p>\n</div></li></ul></div></div></div><div id='method-requestUninstall' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='android.app.timezone.RulesManager'>android.app.timezone.RulesManager</span><br/><a href='source/RulesManager.html#android-app-timezone-RulesManager-method-requestUninstall' target='_blank' class='view-source'>view source</a></div><a href='#!/api/android.app.timezone.RulesManager-method-requestUninstall' class='name expandable'>requestUninstall</a>( <span class='pre'>checkToken, callback</span> ) : Number<span class=\"signature\"></span></div><div class='description'><div class='short'>Requests uninstallation of the currently installed distro (leaving the device with no\n distro installed). ...</div><div class='long'><p>Requests uninstallation of the currently installed distro (leaving the device with no\n distro installed).</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>checkToken</span> : Object {byte[]}<div class='sub-desc'><p>an optional token provided if the uninstall was triggered in response to a\n     RulesUpdaterContract.ACTION_TRIGGER_RULES_UPDATE_CHECK intent</p>\n</div></li><li><span class='pre'>callback</span> : Object {Callback}<div class='sub-desc'><p>the Callback to receive callbacks related to the uninstall</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Number</span><div class='sub-desc'><p><a href=\"#!/api/android.app.timezone.RulesManager-property-SUCCESS\" rel=\"android.app.timezone.RulesManager-property-SUCCESS\" class=\"docClass\">SUCCESS</a> if the uninstallation will be attempted</p>\n</div></li></ul></div></div></div></div></div></div></div>","meta":{}});