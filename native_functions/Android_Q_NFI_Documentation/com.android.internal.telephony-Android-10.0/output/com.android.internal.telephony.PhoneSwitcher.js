Ext.data.JsonP.com_android_internal_telephony_PhoneSwitcher({"tagname":"class","name":"com.android.internal.telephony.PhoneSwitcher","autodetected":{},"files":[{"filename":"PhoneSwitcher.js","href":"PhoneSwitcher.html#com-android-internal-telephony-PhoneSwitcher"}],"extends":"android.os.Handler","members":[{"name":"DEFAULT_DATA_OVERRIDE_TIMEOUT_MS","tagname":"property","owner":"com.android.internal.telephony.PhoneSwitcher","id":"property-DEFAULT_DATA_OVERRIDE_TIMEOUT_MS","meta":{}},{"name":"ECBM_DEFAULT_DATA_SWITCH_BASE_TIME_MS","tagname":"property","owner":"com.android.internal.telephony.PhoneSwitcher","id":"property-ECBM_DEFAULT_DATA_SWITCH_BASE_TIME_MS","meta":{}},{"name":"EVENT_DATA_ENABLED_CHANGED","tagname":"property","owner":"com.android.internal.telephony.PhoneSwitcher","id":"property-EVENT_DATA_ENABLED_CHANGED","meta":{}},{"name":"EVENT_PRECISE_CALL_STATE_CHANGED","tagname":"property","owner":"com.android.internal.telephony.PhoneSwitcher","id":"property-EVENT_PRECISE_CALL_STATE_CHANGED","meta":{}},{"name":"mPhoneStateListener","tagname":"property","owner":"com.android.internal.telephony.PhoneSwitcher","id":"property-mPhoneStateListener","meta":{}},{"name":"mValidationCallback","tagname":"property","owner":"com.android.internal.telephony.PhoneSwitcher","id":"property-mValidationCallback","meta":{}},{"name":"dump","tagname":"method","owner":"com.android.internal.telephony.PhoneSwitcher","id":"method-dump","meta":{}},{"name":"getInstance","tagname":"method","owner":"com.android.internal.telephony.PhoneSwitcher","id":"method-getInstance","meta":{}},{"name":"getOpportunisticDataSubscriptionId","tagname":"method","owner":"com.android.internal.telephony.PhoneSwitcher","id":"method-getOpportunisticDataSubscriptionId","meta":{}},{"name":"getPreferredDataPhoneId","tagname":"method","owner":"com.android.internal.telephony.PhoneSwitcher","id":"method-getPreferredDataPhoneId","meta":{}},{"name":"handleMessage","tagname":"method","owner":"com.android.internal.telephony.PhoneSwitcher","id":"method-handleMessage","meta":{}},{"name":"make","tagname":"method","owner":"com.android.internal.telephony.PhoneSwitcher","id":"method-make","meta":{}},{"name":"onRadioCapChanged","tagname":"method","owner":"com.android.internal.telephony.PhoneSwitcher","id":"method-onRadioCapChanged","meta":{}},{"name":"overrideDefaultDataForEmergency","tagname":"method","owner":"com.android.internal.telephony.PhoneSwitcher","id":"method-overrideDefaultDataForEmergency","meta":{}},{"name":"registerForActivePhoneSwitch","tagname":"method","owner":"com.android.internal.telephony.PhoneSwitcher","id":"method-registerForActivePhoneSwitch","meta":{}},{"name":"shouldApplyNetworkRequest","tagname":"method","owner":"com.android.internal.telephony.PhoneSwitcher","id":"method-shouldApplyNetworkRequest","meta":{}},{"name":"trySetOpportunisticDataSubscription","tagname":"method","owner":"com.android.internal.telephony.PhoneSwitcher","id":"method-trySetOpportunisticDataSubscription","meta":{}},{"name":"unregisterForActivePhoneSwitch","tagname":"method","owner":"com.android.internal.telephony.PhoneSwitcher","id":"method-unregisterForActivePhoneSwitch","meta":{}}],"alternateClassNames":[],"aliases":{},"id":"class-com.android.internal.telephony.PhoneSwitcher","short_doc":"Utility singleton to monitor subscription changes and incoming NetworkRequests\n and determine which phone/phones are ...","classIcon":"icon-class","superclasses":["android.os.Handler"],"subclasses":[],"mixedInto":[],"mixins":[],"parentMixins":[],"requires":[],"uses":[],"html":"<div><pre class=\"hierarchy\"><h4>Hierarchy</h4><div class='subclass first-child'>android.os.Handler<div class='subclass '><strong>com.android.internal.telephony.PhoneSwitcher</strong></div></div><h4>Files</h4><div class='dependency'><a href='source/PhoneSwitcher.html#com-android-internal-telephony-PhoneSwitcher' target='_blank'>PhoneSwitcher.js</a></div></pre><div class='doc-contents'><p>Utility singleton to monitor subscription changes and incoming NetworkRequests\n and determine which phone/phones are active.</p>\n\n<p> Manages the ALLOW_DATA calls to modems and notifies phones about changes to\n the active phones.  Note we don't wait for data attach (which may not happen anyway).</p>\n</div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-property'>Properties</h3><div class='subsection'><div id='property-DEFAULT_DATA_OVERRIDE_TIMEOUT_MS' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.internal.telephony.PhoneSwitcher'>com.android.internal.telephony.PhoneSwitcher</span><br/><a href='source/PhoneSwitcher.html#com-android-internal-telephony-PhoneSwitcher-property-DEFAULT_DATA_OVERRIDE_TIMEOUT_MS' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.internal.telephony.PhoneSwitcher-property-DEFAULT_DATA_OVERRIDE_TIMEOUT_MS' class='name expandable'>DEFAULT_DATA_OVERRIDE_TIMEOUT_MS</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Defaults to: <code>&quot;null&quot;</code></p></div></div></div><div id='property-ECBM_DEFAULT_DATA_SWITCH_BASE_TIME_MS' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.internal.telephony.PhoneSwitcher'>com.android.internal.telephony.PhoneSwitcher</span><br/><a href='source/PhoneSwitcher.html#com-android-internal-telephony-PhoneSwitcher-property-ECBM_DEFAULT_DATA_SWITCH_BASE_TIME_MS' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.internal.telephony.PhoneSwitcher-property-ECBM_DEFAULT_DATA_SWITCH_BASE_TIME_MS' class='name expandable'>ECBM_DEFAULT_DATA_SWITCH_BASE_TIME_MS</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Defaults to: <code>&quot;null&quot;</code></p></div></div></div><div id='property-EVENT_DATA_ENABLED_CHANGED' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.internal.telephony.PhoneSwitcher'>com.android.internal.telephony.PhoneSwitcher</span><br/><a href='source/PhoneSwitcher.html#com-android-internal-telephony-PhoneSwitcher-property-EVENT_DATA_ENABLED_CHANGED' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.internal.telephony.PhoneSwitcher-property-EVENT_DATA_ENABLED_CHANGED' class='name expandable'>EVENT_DATA_ENABLED_CHANGED</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Defaults to: <code>&quot;114&quot;</code></p></div></div></div><div id='property-EVENT_PRECISE_CALL_STATE_CHANGED' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.internal.telephony.PhoneSwitcher'>com.android.internal.telephony.PhoneSwitcher</span><br/><a href='source/PhoneSwitcher.html#com-android-internal-telephony-PhoneSwitcher-property-EVENT_PRECISE_CALL_STATE_CHANGED' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.internal.telephony.PhoneSwitcher-property-EVENT_PRECISE_CALL_STATE_CHANGED' class='name expandable'>EVENT_PRECISE_CALL_STATE_CHANGED</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Defaults to: <code>&quot;109&quot;</code></p></div></div></div><div id='property-mPhoneStateListener' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.internal.telephony.PhoneSwitcher'>com.android.internal.telephony.PhoneSwitcher</span><br/><a href='source/PhoneSwitcher.html#com-android-internal-telephony-PhoneSwitcher-property-mPhoneStateListener' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.internal.telephony.PhoneSwitcher-property-mPhoneStateListener' class='name expandable'>mPhoneStateListener</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Defaults to: <code>&quot;null&quot;</code></p></div></div></div><div id='property-mValidationCallback' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.internal.telephony.PhoneSwitcher'>com.android.internal.telephony.PhoneSwitcher</span><br/><a href='source/PhoneSwitcher.html#com-android-internal-telephony-PhoneSwitcher-property-mValidationCallback' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.internal.telephony.PhoneSwitcher-property-mValidationCallback' class='name expandable'>mValidationCallback</a> : String<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<p>Defaults to: <code>&quot;null&quot;</code></p></div></div></div></div></div><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div id='method-dump' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.internal.telephony.PhoneSwitcher'>com.android.internal.telephony.PhoneSwitcher</span><br/><a href='source/PhoneSwitcher.html#com-android-internal-telephony-PhoneSwitcher-method-dump' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.internal.telephony.PhoneSwitcher-method-dump' class='name expandable'>dump</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-getInstance' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.internal.telephony.PhoneSwitcher'>com.android.internal.telephony.PhoneSwitcher</span><br/><a href='source/PhoneSwitcher.html#com-android-internal-telephony-PhoneSwitcher-method-getInstance' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.internal.telephony.PhoneSwitcher-method-getInstance' class='name expandable'>getInstance</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Method to get singleton instance. ...</div><div class='long'><p>Method to get singleton instance.</p>\n</div></div></div><div id='method-getOpportunisticDataSubscriptionId' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.internal.telephony.PhoneSwitcher'>com.android.internal.telephony.PhoneSwitcher</span><br/><a href='source/PhoneSwitcher.html#com-android-internal-telephony-PhoneSwitcher-method-getOpportunisticDataSubscriptionId' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.internal.telephony.PhoneSwitcher-method-getOpportunisticDataSubscriptionId' class='name expandable'>getOpportunisticDataSubscriptionId</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-getPreferredDataPhoneId' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.internal.telephony.PhoneSwitcher'>com.android.internal.telephony.PhoneSwitcher</span><br/><a href='source/PhoneSwitcher.html#com-android-internal-telephony-PhoneSwitcher-method-getPreferredDataPhoneId' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.internal.telephony.PhoneSwitcher-method-getPreferredDataPhoneId' class='name expandable'>getPreferredDataPhoneId</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-handleMessage' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.internal.telephony.PhoneSwitcher'>com.android.internal.telephony.PhoneSwitcher</span><br/><a href='source/PhoneSwitcher.html#com-android-internal-telephony-PhoneSwitcher-method-handleMessage' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.internal.telephony.PhoneSwitcher-method-handleMessage' class='name expandable'>handleMessage</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-make' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.internal.telephony.PhoneSwitcher'>com.android.internal.telephony.PhoneSwitcher</span><br/><a href='source/PhoneSwitcher.html#com-android-internal-telephony-PhoneSwitcher-method-make' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.internal.telephony.PhoneSwitcher-method-make' class='name expandable'>make</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Method to create singleton instance. ...</div><div class='long'><p>Method to create singleton instance.</p>\n</div></div></div><div id='method-onRadioCapChanged' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.internal.telephony.PhoneSwitcher'>com.android.internal.telephony.PhoneSwitcher</span><br/><a href='source/PhoneSwitcher.html#com-android-internal-telephony-PhoneSwitcher-method-onRadioCapChanged' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.internal.telephony.PhoneSwitcher-method-onRadioCapChanged' class='name expandable'>onRadioCapChanged</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Used when the modem may have been rebooted and we\n want to resend setDataAllowed or setPreferredDataSubscriptionId ...</div><div class='long'><p>Used when the modem may have been rebooted and we\n want to resend setDataAllowed or setPreferredDataSubscriptionId</p>\n</div></div></div><div id='method-overrideDefaultDataForEmergency' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.internal.telephony.PhoneSwitcher'>com.android.internal.telephony.PhoneSwitcher</span><br/><a href='source/PhoneSwitcher.html#com-android-internal-telephony-PhoneSwitcher-method-overrideDefaultDataForEmergency' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.internal.telephony.PhoneSwitcher-method-overrideDefaultDataForEmergency' class='name expandable'>overrideDefaultDataForEmergency</a>( <span class='pre'>phoneId, overrideTimeSec, dataSwitchResult</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Switch the Default data for the context of an outgoing emergency call. ...</div><div class='long'><p>Switch the Default data for the context of an outgoing emergency call.</p>\n\n<p> In some cases, we need to try to switch the Default Data subscription before placing the\n emergency call on DSDS devices. This includes the following situation:\n - The modem does not support processing GNSS SUPL requests on the non-default data\n subscription. For some carriers that do not provide a control plane fallback mechanism, the\n SUPL request will be dropped and we will not be able to get the user's location for the\n emergency call. In this case, we need to swap default data temporarily.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>phoneId</span> : Number<div class='sub-desc'><p>The phone to use to evaluate whether or not the default data should be moved\n                to this subscription.</p>\n</div></li><li><span class='pre'>overrideTimeSec</span> : Number<div class='sub-desc'><p>The amount of time to override the default data setting for after the\n                       emergency call ends.</p>\n</div></li><li><span class='pre'>dataSwitchResult</span> : Object {java.util.concurrent.CompletableFuture}<div class='sub-desc'><p>A CompletableFuture to be called with a Boolean\n                         result when the default data switch has either completed (true) or\n                         failed (false).</p>\n</div></li></ul></div></div></div><div id='method-registerForActivePhoneSwitch' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.internal.telephony.PhoneSwitcher'>com.android.internal.telephony.PhoneSwitcher</span><br/><a href='source/PhoneSwitcher.html#com-android-internal-telephony-PhoneSwitcher-method-registerForActivePhoneSwitch' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.internal.telephony.PhoneSwitcher-method-registerForActivePhoneSwitch' class='name expandable'>registerForActivePhoneSwitch</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>If preferred phone changes, or phone activation status changes, registrants\n will be notified. ...</div><div class='long'><p>If preferred phone changes, or phone activation status changes, registrants\n will be notified.</p>\n</div></div></div><div id='method-shouldApplyNetworkRequest' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.internal.telephony.PhoneSwitcher'>com.android.internal.telephony.PhoneSwitcher</span><br/><a href='source/PhoneSwitcher.html#com-android-internal-telephony-PhoneSwitcher-method-shouldApplyNetworkRequest' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.internal.telephony.PhoneSwitcher-method-shouldApplyNetworkRequest' class='name expandable'>shouldApplyNetworkRequest</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-trySetOpportunisticDataSubscription' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.internal.telephony.PhoneSwitcher'>com.android.internal.telephony.PhoneSwitcher</span><br/><a href='source/PhoneSwitcher.html#com-android-internal-telephony-PhoneSwitcher-method-trySetOpportunisticDataSubscription' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.internal.telephony.PhoneSwitcher-method-trySetOpportunisticDataSubscription' class='name expandable'>trySetOpportunisticDataSubscription</a>( <span class='pre'>subId, needValidation, callback</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Notify PhoneSwitcher to try to switch data to an opportunistic subscription. ...</div><div class='long'><p>Notify PhoneSwitcher to try to switch data to an opportunistic subscription.</p>\n\n<p> Set opportunistic data subscription. It's an indication to switch Internet data to this\n subscription. It has to be an active subscription, and PhoneSwitcher will try to validate\n it first if needed. If subId is DEFAULT_SUBSCRIPTION_ID, it means we are un-setting\n opportunistic data sub and switch data back to primary sub.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>subId</span> : Number<div class='sub-desc'><p>the opportunistic data subscription to switch to. pass DEFAULT_SUBSCRIPTION_ID\n              if un-setting it.</p>\n</div></li><li><span class='pre'>needValidation</span> : Boolean<div class='sub-desc'><p>whether Telephony will wait until the network is validated by\n              connectivity service before switching data to it. More details see\n              NetworkCapabilities.NET_CAPABILITY_VALIDATED.</p>\n</div></li><li><span class='pre'>callback</span> : Object {ISetOpportunisticDataCallback}<div class='sub-desc'><p>Callback will be triggered once it succeeds or failed.\n                 Pass null if don't care about the result.</p>\n</div></li></ul></div></div></div><div id='method-unregisterForActivePhoneSwitch' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='com.android.internal.telephony.PhoneSwitcher'>com.android.internal.telephony.PhoneSwitcher</span><br/><a href='source/PhoneSwitcher.html#com-android-internal-telephony-PhoneSwitcher-method-unregisterForActivePhoneSwitch' target='_blank' class='view-source'>view source</a></div><a href='#!/api/com.android.internal.telephony.PhoneSwitcher-method-unregisterForActivePhoneSwitch' class='name expandable'>unregisterForActivePhoneSwitch</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div></div></div></div></div>","meta":{}});