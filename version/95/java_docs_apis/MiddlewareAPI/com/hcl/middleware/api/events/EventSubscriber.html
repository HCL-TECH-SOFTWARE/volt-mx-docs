<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_191) on Sun Nov 24 14:15:42 IST 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>EventSubscriber (Voltmx App Services API)</title>
<meta name="date" content="2019-11-24">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="EventSubscriber (Voltmx App Services API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/EventSubscriber.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/hcl/middleware/api/events/EventStatus.html" title="enum in com.hcl.voltmx.middleware.api.events"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/hcl/middleware/api/events/IntegrationEventSubscriber.html" title="annotation in com.hcl.voltmx.middleware.api.events"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/hcl/middleware/api/events/EventSubscriber.html" target="_top">Frames</a></li>
<li><a href="EventSubscriber.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.hcl.voltmx.middleware.api.events</div>
<h2 title="Interface EventSubscriber" class="title">Interface EventSubscriber</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../../com/hcl/middleware/api/events/AbstractServiceEvent.html" title="class in com.hcl.voltmx.middleware.api.events">AbstractServiceEvent</a>, <a href="../../../../../com/hcl/middleware/api/events/IntegrationServiceEvent.html" title="class in com.hcl.voltmx.middleware.api.events">IntegrationServiceEvent</a>, <a href="../../../../../com/hcl/middleware/api/events/ObjectServiceEvent.html" title="class in com.hcl.voltmx.middleware.api.events">ObjectServiceEvent</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">EventSubscriber</span></pre>
<div class="block"><b>EventSubscriber</b> provides mechanism for receiving notification from
 notifier and perform specified actions. The same subscriber may listen to
 multiple event names or topics. There is no specific order in which the
 events are delivered to subscribers. This class needs to be thread-safe as
 onEvent method may be called by multiple threads simultaneously.
 <p>
 <b>Event for successful order:</b> Say, we want to write a subscriber which
 will send mail when order is successful.
 
 <pre>
 <code>
    import java.util.Map;
    
    import com.hcl.voltmx.middleware.api.events.EventData;
    import com.hcl.voltmx.middleware.api.events.EventSubscriber;
    import com.hcl.voltmx.middleware.api.events.IntegrationEventSubscriber;

    &#64;IntegrationEventSubscriber(topics = {"apps/order/success"})
    public class OrderSuccessEvent implements EventSubscriber {
      private static final String SUCCESS_MESSAGE = "Dear %s, Your order for %s is successful. "
          + "Your order id is%s. Order details:%s.";

      &#64;Override
      public void onEvent(EventData eventData) {
        Map&#60;String, Object&#62; additionalMetadata = eventData.getAdditionalMetadata();
        Object userId = additionalMetadata.get("userId");
        Object product = additionalMetadata.get("product");
        Object orderId = additionalMetadata.get("orderId");
        String message = String.format(SUCCESS_MESSAGE, userId, product, orderId, eventData.getData());
        sendSuccessMail(String.valueOf(userId), message);
      }

      private static void sendSuccessMail(String userId, String message) {
      }
    }
 </code>
 </pre>
 <p>
 <b>Event for failed order:</b> Say, we want to write a subscriber which will
 send mail when order is failed.
 
 <pre>
 <code>
    import java.util.Map;

    import com.hcl.voltmx.middleware.api.events.EventData;
    import com.hcl.voltmx.middleware.api.events.EventSubscriber;
    import com.hcl.voltmx.middleware.api.events.IntegrationEventSubscriber;

    &#64;IntegrationEventSubscriber(topics = {"apps/order/fail"})
    public class OrderFailedEvent implements EventSubscriber {
      private static final String FAILURE_MESSAGE = "Dear %s, Your order for %s is failed. "
          + "Your tracking id is %s. Details: %s.";

      &#64;Override
      public void onEvent(EventData eventData) {
        Map&#60;String, Object&#62; additionalMetadata = eventData.getAdditionalMetadata();
        Object userId = additionalMetadata.get("userId");
        Object product = additionalMetadata.get("product");
        Object trackingId = additionalMetadata.get("trackingId");
        String message = String.format(FAILURE_MESSAGE, userId, product, trackingId,
            eventData.getData());

        sendFailureMail(String.valueOf(userId), message);
      }

      private static void sendFailureMail(String userId, String message) {
      }
    }
 </code>
 </pre></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>Foundry V8 SP4 FP2 (8.4.2) release</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../com/hcl/middleware/api/events/EventData.html" title="class in com.hcl.voltmx.middleware.api.events"><code>EventData</code></a>, 
<a href="../../../../../com/hcl/middleware/api/events/EventManager.html" title="interface in com.hcl.voltmx.middleware.api.events"><code>EventManager</code></a>, 
<a href="../../../../../com/hcl/middleware/api/events/EventNotifier.html" title="interface in com.hcl.voltmx.middleware.api.events"><code>EventNotifier</code></a>, 
<a href="../../../../../com/hcl/middleware/api/events/IntegrationEventSubscriber.html" title="annotation in com.hcl.voltmx.middleware.api.events"><code>IntegrationEventSubscriber</code></a>, 
<a href="../../../../../com/hcl/middleware/api/events/IntegrationServiceEvent.html" title="class in com.hcl.voltmx.middleware.api.events"><code>IntegrationServiceEvent</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/hcl/middleware/api/events/EventSubscriber.html#onEvent-com.hcl.voltmx.middleware.api.events.EventData-">onEvent</a></span>(<a href="../../../../../com/hcl/middleware/api/events/EventData.html" title="class in com.hcl.voltmx.middleware.api.events">EventData</a>&nbsp;eventData)</code>
<div class="block">Receives notification when any event of subscribed name or topic is
 triggered.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="onEvent-com.hcl.voltmx.middleware.api.events.EventData-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>onEvent</h4>
<pre>void&nbsp;onEvent(<a href="../../../../../com/hcl/middleware/api/events/EventData.html" title="class in com.hcl.voltmx.middleware.api.events">EventData</a>&nbsp;eventData)</pre>
<div class="block">Receives notification when any event of subscribed name or topic is
 triggered. This method needs to be thread-safe as it may be called by
 multiple threads simultaneously.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>eventData</code> - The event data.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/EventSubscriber.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/hcl/middleware/api/events/EventStatus.html" title="enum in com.hcl.voltmx.middleware.api.events"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/hcl/middleware/api/events/IntegrationEventSubscriber.html" title="annotation in com.hcl.voltmx.middleware.api.events"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/hcl/middleware/api/events/EventSubscriber.html" target="_top">Frames</a></li>
<li><a href="EventSubscriber.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2019. All rights reserved.</small></p>
</body>
</html>
