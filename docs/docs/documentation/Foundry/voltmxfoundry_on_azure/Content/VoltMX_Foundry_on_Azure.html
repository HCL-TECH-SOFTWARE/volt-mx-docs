<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  

  <link rel="shortcut icon" href="/volt-mx-docs/favicon.ico" type="image/x-icon">

  <link rel="stylesheet" href="/volt-mx-docs/assets/css/just-the-docs-default.css">
  <link rel="stylesheet" href="/volt-mx-docs/assets/css/custom.css">
  

  
    <script type="text/javascript" src="/volt-mx-docs/assets/js/vendor/lunr.min.js"></script>
  
  <script type="text/javascript" src="/volt-mx-docs/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Overview | Volt MX</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Overview" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Industry-leading low-code application development platform for delivering beautiful apps across multiple digital touch points with one platform." />
<meta property="og:description" content="Industry-leading low-code application development platform for delivering beautiful apps across multiple digital touch points with one platform." />
<link rel="canonical" href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VoltMX_Foundry_on_Azure.html" />
<meta property="og:url" content="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VoltMX_Foundry_on_Azure.html" />
<meta property="og:site_name" content="Volt MX" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Overview" />
<script type="application/ld+json">
{"@type":"WebPage","url":"https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VoltMX_Foundry_on_Azure.html","headline":"Overview","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://hcl-tech-software.github.io/volt-mx-docs/Volt_Mx_logo.png"}},"description":"Industry-leading low-code application development platform for delivering beautiful apps across multiple digital touch points with one platform.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  
</head>

<body>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-search" viewBox="0 0 24 24">
    <title>Search</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
      <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
    </svg>
  </symbol>
</svg>

<div class="header-wrap">
  
  <div class="top-header">
    <div class="site-header">
      <a href="https://hcl-tech-software.github.io/volt-mx-docs/" class="site-title lh-tight">
  <div class="site-logo"></div>

</a>
      <a href="#" id="mainmenu-button"  class="site-button">
        <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
      </a>
    </div>
  </div>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="svg-link" viewBox="0 0 24 24">
      <title>Link</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
      </svg>
    </symbol>
    <symbol id="svg-search" viewBox="0 0 24 24">
      <title>Search</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
        <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
    </symbol>
    <symbol id="svg-menu" viewBox="0 0 24 24">
      <title>Menu</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
        <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </symbol>
    <symbol id="svg-arrow-right" viewBox="0 0 24 24">
      <title>Expand</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    </symbol>
    <symbol id="svg-doc" viewBox="0 0 24 24">
      <title>Document</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
        <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
      </svg>
    </symbol>
  </svg>

  <div id="main-header" class="main-header">
  
  
  <!-- <div class="search-prepare" id="search-prepare">
    <p><img src=" /volt-mx-docs/assets/images/preload.gif" style="height: 24px; width: 24px; margin-right: 5px;" /> Preparing your search results...</p>
  </div>  -->
    <div class="search">
   
      <div class="search-input-wrap">
        <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="search resources..." aria-label="Search Volt MX" autocomplete="off">
        <label for="search-input" class="search-label" id="searchButton"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
                </div>
                       
      <div id="search-results" class="search-results"></div>

      
    </div>
  

  <!-- delete below styles if you uncomment all page-nav links -->
  <style>
    @media (min-width: 50rem){
      .page-nav {right: 400px;top: 0;}
      .search-input-wrap {max-width: 400px;}
    }

  </style>

<!-- below are page-nav links - delete above styles if uncommenting -->
  <ul class="page-nav" id="page-nav">
   <!-- <li><a href="#">Community</a></li> -->
   <li><a href="https://volt-mx.hcltechsw.com/" >Ideas</a></li>
   <li><a href="#" class="active">Learn</a></li>
   <!-- <li><a href="#">Releases</a></li>
   <li><a href="#">Training</a></li>
   <li><a href="#">Ideas</a></li>
   <li><a href="#">Marketplace</a></li>
   <li><a href="#">Login</a></li> -->
 </ul>
 

 
</div>
<script>
  const pageNav = document.getElementById('page-nav');
   const mainHeader = document.getElementById('main-header');
   const mainmenuButton = document.getElementById('mainmenu-button');
 (function(){
  
  mainmenuButton.addEventListener('click', function(){
    pageNav.classList.toggle('nav-open');
});
})();

</script>
  <div class="sub-nav-wrap" id="myDIV">
    <ul class="sub-nav">
        <li class="home-link">
            <a href="/volt-mx-docs/"  class="sub-link ">Home</a>
        </li>
        <!-- <li>
            <a href="/volt-mx-docs/docs/getting-started/"  class="sub-link">Getting Started</a>
        </li> -->
        <li>
            <a href="/volt-mx-docs/docs/tutorials/" class="sub-link ">Tutorials</a>
        </li>
        <li>
            <a href="/volt-mx-docs/docs/documentation/" class="sub-link" id="docLink">Documentation</a>
        </li>
        <li>
            <!-- <a href="/volt-mx-docs/docs/articles/" title="test" class="sub-link">Articles</a> -->
            <a href="https://support.hcltechsw.com/csm?id=kb_search&spa=1&kb_category=db382ff1db631c14a45ad9fcd3961936" title="Articles" class="sub-link">Articles</a>
        </li>
        <li>
            <a href="https://academy.hcltechsw.com/#VoltMxLearningJourneys" title="Articles" class="sub-link">Software Academy</a>
        </li>
    </ul>

    <div class="category-wrap">
    <a href="#" id="menu-button" class="site-button">
        <!-- <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> -->
        select a topic <svg viewBox="0 0 24 24" class="carat-topic"><use xlink:href="#svg-arrow-right"></use></svg>
      </a>
      
          <a href="#" id="sub-menu-button" class="sub-site-button">
             <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
          </a></div>    
</div><style>
    @media (min-width: 50rem) {
    .content-wrap {top: 134px; height: calc(100% - 185px);}
    }   
</style>
<div class="head-ribbon">
    Kony Quantum is now HCL Volt MX. See <a href="#" class="revisedTermsBtn">Revised Terminology</a>. Current Quantum users, see the important note about API naming.  
</div>
</div> 

<style>
  .sub-nav a[href*="/documentation/"] {
   border-bottom: 3px #d694f9 solid;
} 
</style>

<div class="content-wrap ">
  <div class="side-bar scrollable-container">
      <div class="version-dropdown">
        Release:  
        <select name="version" id="version">
            <option value="V9">V9</option>
        </select>
      </div>
    <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav scrollable" >
      <ul class="nav-list"><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/VMX_release_notes.html" class="nav-list-link">Volt MX Release Notes</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/" class="nav-list-link">Fundamentals</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/projectorg.html" class="nav-list-link">Project Organization</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/appUserInterface.html" class="nav-list-link">App User Interface</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/widgetApiReference.html" class="nav-list-link">Widgets & API Reference</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/webAppDevelopment.html" class="nav-list-link">Web App Development</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/buildAndPublish.html" class="nav-list-link">Build and Publish</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/dataBackEndIntergration.html" class="nav-list-link">Data & Back-end Integration</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/extensibility.html" class="nav-list-link">Extensibility</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/security.html" class="nav-list-link">Security</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/voltmxFoundryFundamentals.html" class="nav-list-link">Volt MX Foundry Fundamentals</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/howTosSampleApps.html" class="nav-list-link">How Tos & Sample Apps</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/dataIntegrationServices.html" class="nav-list-link">Data Integration Services</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/offlineObjects.html" class="nav-list-link">Offline Objects</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/apiMangement.html" class="nav-list-link">API Management</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/appServicesAdminitration.html" class="nav-list-link">App Services Administration</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/foundrySDKs.html" class="nav-list-link">Foundry SDKs</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/advancedServerFeature.html" class="nav-list-link">Advanced Server Features</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/analyticsAndApm.html" class="nav-list-link">Analytics and APM</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/engagementServices.html" class="nav-list-link">Engagement Services</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/quantumSync.html" class="nav-list-link">Volt MX Legacy Sync (Deprecated)</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/devOps.html" class="nav-list-link">DevOps</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/heradlessAndContinuousIntegration.html" class="nav-list-link">Headless and Continuous Integration Build</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/installationManagement.html" class="nav-list-link">Installation & Management</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/deployment.html" class="nav-list-link">Deployment</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/documentation73and70.html" class="nav-list-link">Documentation for 7.3 and 7.0 Releases</a></li></ul>
    </nav>
  </div>
  <div class="split-hold" >
    <div class="split__bar"></div>
    <div class="closeclick" id="left-close"></div>
  </div>
  
  
  <!-- start main  -->
  <div class="main scrollable-container resizable-right" id="top">
      
    <div id="main-content-wrap" class="main-content-wrap scrollable">
      
     
      
      
      
      <div id="main-content" class="main-content" role="main">
        
          <h1 id="overview">
        
        
          <a href="#overview" class="anchor-heading" aria-labelledby="overview"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Overview
        
        
      </h1>
    

<p>Volt MX  Foundry has multiple components, such as Identity, Integration, and Engagement Services. These features can be accessed through a common, centralized Volt MX Foundry Console. This document helps you install and configure Volt MX Foundry (Console, Identity Services, Integration Services, and Engagement Services) on Azure Cloud. For more information about Volt MX Foundry, refer to <a href="/volt-mx-docs/docs/documentation/Foundry/voltmx_foundry_user_guide/Content/Introduction.html">VoltMX Foundry User Guide</a>.</p>

<p>Volt MX  Foundry Containers on Azure Solution is designed to facilitate Volt MX Foundry on Azure for Non-Production and Production needs. This setup occurs with minimal manual intervention and leverages the following technologies:</p>

<ul>
  <li><strong>Docker</strong> - To package different components as portable container images (with all the required binaries and libs)</li>
  <li><strong>Kubernetes</strong> - To orchestrate and maintain all these running containers. It will also have features like auto-scaling, secrets, deployment upgrades and rollbacks.</li>
  <li><strong>Azure</strong> - For provisioning of the underlying infrastructure.</li>
</ul>

<p>From Foundry V9 SP1 onwards, the installation involves a separate dedicated cluster for Integration, which will be referred to as the <strong>INT</strong> cluster. Whereas, the rest of the Foundry components will be present in a single cluster which will be referred to as the <strong>SHARED</strong> cluster.</p>

<p>There are two installation modes, Production and Non-Production. The Production mode is equipped to handle Production level traffic and Non-Production mode is for testing purposes.</p>

<p>During the installation you would be prompted to choose between the installation of a Production instance or a Non-Production instance. In general, for a given Azure subscription an organization installs one Production instance and multiple Non-Production instances (for example, dev, qa, uat, etc.).</p>

<ul>
  <li>When you select a Non-Production instance, every time you run it to setup another environment such as qa, uat, etc., only the Integration (INT) cluster gets created again, while the rest of the Foundry components are shared for all the Non-Production instances within the subscription.</li>
  <li>When you select a Production instance, each installation is treated as a fresh installation where both the Shared cluster and the Integration cluster will be created again.</li>
</ul>

<blockquote>
  <p><strong><em>Note:</em></strong> In case of a Non-Production setup the information about the shared resources which are required for installing the new environments is stored as <a href="Frequently_Asked_Questions__FAQs_.html#installation-metadata">installation metadata</a> in Azure Cosmos DB and Azure Key Vault.</p>
</blockquote>

<p>Salient Features</p>

<p>The Volt MX Foundry Containers on Azure Solution has the following features:</p>

<ul>
  <li>Creates a multi-layer architecture along with the Application Gateway in a Virtual Network making it secure.</li>
  <li>Supports options to configure a custom DNS name, SSL cert support for secure communication, and includes Jumpbox for DevOps activities.</li>
</ul>
      <h2 id="overview-for-the-production-and-non-production-installations">
        
        
          <a href="#overview-for-the-production-and-non-production-installations" class="anchor-heading" aria-labelledby="overview-for-the-production-and-non-production-installations"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Overview for the Production and Non-Production Installations
        
        
      </h2>
    
      <h3 id="non-production-mode">
        
        
          <a href="#non-production-mode" class="anchor-heading" aria-labelledby="non-production-mode"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Non-Production Mode
        
        
      </h3>
    

<p>In a given Azure subscription, when you try to install a Non-Production instance, a complete Volt MX Foundry is created with both the clusters (Shared and Integration) for the first Non-Production installation. Subsequently, every time you run it to setup another non-production instance such as dev, qa, uat, etc., only the Integration (INT) cluster gets created again, while the rest of the Foundry components are shared for all the Non-Production instances within the same subscription. This integration instance is registered with the existing Foundry console created as part of the first installation.</p>
      <h3 id="production-mode">
        
        
          <a href="#production-mode" class="anchor-heading" aria-labelledby="production-mode"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Production Mode
        
        
      </h3>
    

<p>When you setup an Production account each installation is treated as a fresh installation where both the Shared cluster and the Integration cluster will be created for every install.</p>
      <h2 id="prerequisites">
        
        
          <a href="#prerequisites" class="anchor-heading" aria-labelledby="prerequisites"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Prerequisites
        
        
      </h2>
    

<ol>
  <li>
    <p><strong>Azure Account</strong> - The setup script creates all the resources in this account. In your Azure subscription, your account should have the following permissions.</p>

    <details close="">
      <summary>Azure Subscription Permissions</summary>

      <ul>
        <li>Your account must have the role of an <strong><a href="https://docs.microsoft.com/en-us/azure/role-based-access-control/built-in-roles#owner">Owner</a></strong>.</li>
        <li>If your account has the role of a <strong>Contributor</strong>, you do not have adequate permissions. Contact your Azure Account Administrator for getting the required permissions.</li>
      </ul>

      <p>Steps to check the permissions of your Azure subscription:</p>

      <p>a.  In the Azure Portal, select your account from the upper right corner, and select <strong>My permissions</strong>.<br />
    <img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/AzureAcc_3.png" alt="" />
b.  From the drop-down list, select <strong>Subscription</strong>. Select <strong>Click here to view complete access details for this subscription.<br />
    <img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/AzureAcc_4.png" alt="" /></strong>
c.  View the roles assigned to you. In the following image, the user has the role of the <strong>Owner</strong>, which means that the user has adequate permissions.<br />
    <img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/AzureAcc_5_521x199.png" alt="" /></p>

    </details>

    <details close="">
      <summary>Azure Active Directory Permissions</summary>

      <p>To check your Azure AD permissions:</p>

      <p>a.  Select <strong>Azure Active Directory</strong>.<br />
    <img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/AzureAcc_1.png" alt="" />
b.  In Azure Active Directory, select <strong>Overview</strong> and look at your user information. You should have the role of a <strong>Global Administrator</strong> to proceed further. If you do not have this role, contact your administrator to assign this role to you.<br />
    <img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/AzureAcc_2_525x185.png" alt="" /></p>
    </details>
  </li>
  <li>
    <p><strong>Prerequisite packages</strong> - The Volt MX Foundry Containers on Azure Solution does not need any additional software to be pre-installed, as the prerequisite packages are downloaded as a part of the setup scripts.</p>

    <p><strong>The packages that are installed as part of the install scripts are: azure-cli, kubectl, jq, and sponge.</strong></p>

    <blockquote>
      <p><strong><em>Note:</em></strong> To make sure that the script is able to download all the necessary software, you might need to open outbound connections to the respective sites. For more information, refer to the <a href="Appendices.html#appendices">Appendices</a> section of this document.</p>
    </blockquote>
  </li>
  <li>
    <p><strong>Generate an SSH Public Key</strong> – Using the SSH protocol, you can connect and authenticate to remote servers and services. Volt MX Foundry setup expects an SSH key pair for authentication. The SSH public key is used for creating the Azure Virtual Machine, and for installing the Volt MX Foundry Setup. You need to specify the SSH Public Key in the properties file.</p>

    <p>On Ubuntu terminal, use the <code class="language-plaintext highlighter-rouge">ssh-keygen</code> command to generate SSH public and private key files that are created by default in the <code class="language-plaintext highlighter-rouge">~/.ssh</code> directory. This command can be executed from your local (Ubuntu) machine:</p>

    <p><code class="language-plaintext highlighter-rouge">ssh-keygen -t rsa -b 2048</code> - This command is used to generate the SSH key pair using RSA encryption and a bit length of 2048. Name this key to be generated as <strong>id_rsa</strong>.</p>

    <p>You must create and configure a key pair as you need to provide them in the <a href="#SSH">Configuration</a> settings.</p>

    <blockquote>
      <p><strong><em>Note:</em></strong> The SSH keys need to be placed in <strong>sshkeys</strong> folder.</p>
    </blockquote>

    <blockquote>
      <p><strong><em>Note:</em></strong> You must leave the passphrase empty while generating the SSH key. VM logins are protected by other features such as the Google Authenticator.</p>
    </blockquote>
  </li>
  <li><strong>Domain Name</strong>- You can have a Domain Name for the solution, which you can purchase from any third-party organizations, such as GoDaddy, and a proper DNS which you need to map to the public DNS of the Application Gateway. Refer to the <a href="Appendices.html#appendices">Appendices</a> section, for more details.</li>
  <li><strong>SSL certs</strong>- To secure the communication, acquire the SSL certs (Azure Application Gateway requires certificates in .pfx format) and provide them during the Installation process. These SSL certs must be associated with the Domain Name that the user has procured. Refer to the <a href="Appendices.html#appendices">Appendices</a> section on SSL cert pfx format conversion.
    <ul>
      <li>Place the SSL certificate (in a <strong>.pfx</strong> file format) in the ssl-cert folder, and then provide the <strong>Server Domain Name</strong> and <strong>AppGateway SSL Cert Password</strong>.</li>
      <li>For enabling HTTPS on the back-end of appgateway, perform the following steps:
        <ol>
          <li>The SSL certificates with the cert data and key data should be in separate files (both in a <strong>.pem</strong> file format).</li>
          <li>Save the Cert file as <code class="language-plaintext highlighter-rouge">ingress.pem</code>.</li>
          <li>Save the Key file as <code class="language-plaintext highlighter-rouge">ingress_key.pem</code>.</li>
          <li>Place both ingress.pem and ingress_key.pem files in the <strong>certs</strong> folder of the installation directory.</li>
        </ol>
      </li>
    </ul>

    <blockquote>
      <p><strong><em>Note:</em></strong> It is recommended to use CA signed SSL cert to avoid any errors.</p>
    </blockquote>

    <blockquote>
      <p><strong><em>Note:</em></strong> To execute the installation scripts, you must use Bash version 4 or later.</p>
    </blockquote>

    <blockquote>
      <p><strong><em>Note:</em></strong> In case you are using <a href="#marketing-catalog-microservice">Marketing Catalog Microservice</a> or <a href="#campaign-microservice">Campaign Microservice</a> you can refer to their prerequisites mentioned ahead in the document.</p>
    </blockquote>
  </li>
</ol>
      <h2 id="vm-setup">
        
        
          <a href="#vm-setup" class="anchor-heading" aria-labelledby="vm-setup"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> VM Setup
        
        
      </h2>
    

<p>You need an Azure Virtual Machine to download the artifacts, and execute the setup scripts from the VM to install Volt MX Foundry on Azure.<br />
Follow these steps to create a VM through Azure Portal:</p>

<details close="">
  <summary>Click here to view the steps</summary>

  <ol>
    <li>Login to the Azure Portal with the same account you configured for the role of the <strong>Global Administrator.</strong> Navigate to the <strong>Virtual Machines</strong> Tab.<br />
Click on <code class="language-plaintext highlighter-rouge">+Add</code> button and select the Ubuntu Server image.<br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/VM_Login_547x271.png" alt="" /></li>
    <li>Select <strong>Ubuntu Server 16.04 LTS</strong> image and click on <strong>Create</strong>.<br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Ubuntu16.04_532x343.png" alt="" /></li>
    <li>Proceed with the remaining steps in the wizard and provide the <strong>SSH Public Key</strong> where needed.<br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/SSH_Ubuntu.PNG" alt="" /></li>
  </ol>

</details>
      <h2 id="pre-installation-tasks">
        
        
          <a href="#pre-installation-tasks" class="anchor-heading" aria-labelledby="pre-installation-tasks"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Pre-Installation Tasks
        
        
      </h2>
    

<p>Steps to Install Volt MX Foundry on MS Azure:</p>

<details close="">
  <summary>Click here to view the steps</summary>

  <ol>
    <li>Fetch the <strong>Public IP</strong> of the Virtual Machine from Azure Portal.<br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/VM_AzPortal_582x174.png" alt="" /><br />
Login to the VM by executing the following command in the Terminal:<br />
<code class="language-plaintext highlighter-rouge">$ ssh azureuser@&lt;public-ip&gt; -i ~/.ssh/id_rsa</code></li>
    <li>Switch to the root user, install the <strong>unzip</strong> package for extracting contents, and download the <code class="language-plaintext highlighter-rouge">voltmx-foundry-containers-azure.zip</code> file:<br />
<strong>$ sudo -s</strong><br />
<strong>$ apt-get install unzip</strong> 
<strong>$ curl -o HCL VoltMX-Foundry-Container-Installer”</strong> <a href="https://hclsoftware.flexnetoperations.com/flexnet/operationsportal/entitledDownloadFile.action?downloadPkgId=HCL_Volt_Foundry_v9.2.x&amp;orgId=HCL&amp;fromRecentFile=false&amp;fromRecentPkg=true&amp;fromDL=false"> HCL Volt MX Foundry Container Installer (Kubernetes cluster)</a></li>
    <li>Unzip the downloaded artifacts:<br />
<strong>$ unzip voltmx-foundry-containers-azure.zip -d &lt;directory-name&gt;</strong>
<strong>The structure of the document will be as shown below:</strong><br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Folder_structure_567x157.png" alt="" /></li>
  </ol>

</details>
      <h2 id="configuration">
        
        
          <a href="#configuration" class="anchor-heading" aria-labelledby="configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuration
        
        
      </h2>
    

<p>Edit the input parameters in the following file based on the type of solution you want to create.</p>

<ul>
  <li><strong>&lt;Installation Directory&gt;/conf/enterprise.properties</strong><br />
For more information, refer to the <a href="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/sample.zip">sample.properties (zip)</a> file.</li>
</ul>

<p>There are two types of input properties:</p>

<ul>
  <li><strong>User Defined Parameters</strong>: These are the mandatory inputs for which you must specify values.</li>
  <li><strong>Advanced Properties</strong>: These are either populated by default or populated by the script during installation. Therefore, these generally do not need to be updated by you. These are available in the <a href="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/sample.zip">sample.properties (zip)</a> file.</li>
</ul>
      <h3 id="list-of-properties-under-the-user-defined-section">
        
        
          <a href="#list-of-properties-under-the-user-defined-section" class="anchor-heading" aria-labelledby="list-of-properties-under-the-user-defined-section"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> List of properties under the User Defined Section
        
        
      </h3>
    

<p>You need to provide the following parameters during Installation:</p>

<blockquote>
  <p><strong><em>Note:</em></strong> None of the values for parameters in the properties file should contain quotes.</p>
</blockquote>

<table>
  <thead>
    <tr>
      <th>PARAMETER</th>
      <th>DESCRIPTION</th>
      <th>EXAMPLE</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>SHARED_SERVER_DOMAIN_NAME</strong></td>
      <td>This is the domain name property for Foundry Console component. This is not required if shared cluster is already created in previous installations.</td>
      <td><code class="language-plaintext highlighter-rouge">kfazure-console.hcl.net</code></td>
    </tr>
    <tr>
      <td><strong>INTEGRATION_SERVER_DOMAIN_NAME</strong></td>
      <td>This is the domain name property for Foundry Integration component.</td>
      <td><code class="language-plaintext highlighter-rouge">kfazure-integration.hcl.net</code></td>
    </tr>
    <tr>
      <td><strong>VMS_DOMAIN_NAME</strong></td>
      <td>This is the domain name property for Foundry Engagement Service Component. This is not required in case of Production because Engagement will also use SHARED_SERVER_DOMAIN_NAME incase of production.</td>
      <td><code class="language-plaintext highlighter-rouge">kfazure-engagement.hcl.net</code></td>
    </tr>
    <tr>
      <td><strong>AZURE_SUBSCRIPTION_ID</strong></td>
      <td>This is the Azure subscription ID. Steps to know this are in the <a href="#subId">next section</a>.</td>
      <td>da28307f-55ae-42de-995a-fcc6608d1bd4</td>
    </tr>
    <tr>
      <td><strong>AZURE_LOCATION</strong></td>
      <td>The region in which the AKS cluster should be created. For more details refer to, <a href="Appendices.html#features-and-supported-regions">Features and Supported Regions</a>.</td>
      <td>eastus</td>
    </tr>
    <tr>
      <td><strong>SERVICE_PRINCIPAL_CLIENT_ID</strong></td>
      <td>Application ID of the service principal created for the Azure installation.</td>
      <td>716f6434-1315-4acb-3184-d9a23efa3613</td>
    </tr>
    <tr>
      <td><strong>SERVICE_PRINCIPAL_CLIENT_SECRET</strong></td>
      <td>Password of the Service Principal.</td>
      <td>34a10627-308d-4697-9ea2-e379f8e33bb0</td>
    </tr>
    <tr>
      <td><strong>SERVICE_PRINCIPAL_OBJECT_ID</strong></td>
      <td>Service principal object ID. Steps to know this are in the <a href="#servicePObj">next section</a>.</td>
      <td>c3afcb93-46ed-21c4-98e0-7bb639297f21</td>
    </tr>
    <tr>
      <td><strong>TENANT_ID</strong></td>
      <td>Tenant ID of the Azure account. Steps to know this are in the <a href="#tenantID">next section</a>.</td>
      <td>a5a1f617-3b00-1e81-8190-c4a5136ba396</td>
    </tr>
    <tr>
      <td><strong>SSH_PUBLIC_KEY</strong></td>
      <td>This is required for creation of the AKS. Steps to create SSH key is provided in the <a href="#Generate">pre-requisites section</a>. &gt; <strong><em>Note:</em></strong> You cannot use the same SSH key for all the Non-Production installations within a subscription.</td>
      <td>ssh-rsa SAAWB3NzaC1yc2…</td>
    </tr>
    <tr>
      <td><strong>SHARED_AZURE_RESOURCE_GROUP</strong></td>
      <td>Specify name of resource group to be created for the cluster of SHARED components (Console, Identity, and Engagement). Enter a name which does not conflict with any of the existing resource groups. This is not required for Non-Production if the shared cluster is already installed for the same subscription.</td>
      <td>FoundrySharedXYZ</td>
    </tr>
    <tr>
      <td><strong>INTEGRATION_AZURE_RESOURCE_GROUP</strong></td>
      <td>Specify name of resource group to be created for the Integration (INT) cluster. This will be the resource group where AKS cluster for Foundry Integration is created. Enter a name which does not conflict with any existing resource group. This is mandatory for all installations.</td>
      <td>FoundryIntXYZ</td>
    </tr>
    <tr>
      <td><strong>DATABASE_TYPE</strong></td>
      <td>Specify the database type you want to use for hosting Volt MX Foundry on Azure.The Volt MX Foundry Containers on Azure Solution supports the MS SQL and MySQL Server Databases.</td>
      <td>mysql</td>
    </tr>
    <tr>
      <td><strong>SHARED_DATABASE_USER_NAME</strong></td>
      <td>Specify a username for the database used by the Foundry console, identity and engagement components. This is not required in Non-Production installation if a shared cluster is already created in the previous installation.</td>
      <td>dbclient</td>
    </tr>
    <tr>
      <td><strong>SHARED_DATABASE_PASSWORD</strong></td>
      <td>Specify a password for the database used by the shared Foundry components. &gt; <strong><em>Note:</em></strong> The following special character $, *, &amp;, !, (, ), \ are not supported in DB password.</td>
      <td>Test#/123</td>
    </tr>
    <tr>
      <td><strong>INTEGRATION_DATABASE_USER_NAME</strong></td>
      <td>Specify a username for your INT database.</td>
      <td>dbclient</td>
    </tr>
    <tr>
      <td><strong>INTEGRATION_DATABASE_PASSWORD</strong></td>
      <td>Specify a database password for your integration database.&gt; <strong><em>Note:</em></strong> If you are using Volt MX Foundry 9.0.0.1 GA docker images, you must specify the same value for SHARED_DATABASE_PASSWORD and INTEGRATION_DATABASE_PASSWORD. Integration docker image does not support multiple passwords.You can use different passwords for your databases from Volt MX Foundry V9.0.1.0 GA onwards.The following special character $, *, &amp;, !, (, ), \ are not supported in DB password.</td>
      <td>FabR^c123</td>
    </tr>
    <tr>
      <td><strong>APPGATEWAY_SSL_CERT_PASSWORD</strong></td>
      <td>Password of the SSL PFX certificate.This is the Password is used for getting the <strong>pfx</strong> key for the SSL offloading.</td>
      <td>Test@1234</td>
    </tr>
    <tr>
      <td><strong>Automatic Registration Details:</strong></td>
      <td>Auto registration inputs are not required to be provided for Non-Production if the Shared cluster is already created in a previous installation.</td>
      <td> </td>
    </tr>
    <tr>
      <td><strong>AUTO_REGISTRATION_USER_ID</strong></td>
      <td>The email ID used for Volt MX Foundry Registration. After the installation is complete, you can add more users from the Foundry console.</td>
      <td>micheal.doe@xyz.com</td>
    </tr>
    <tr>
      <td><strong>AUTO_REGISTRATION_PASSWORD</strong></td>
      <td>The password used for Volt MX Foundry Registration.</td>
      <td>Test@5264!</td>
    </tr>
    <tr>
      <td><strong>AUTO_REGISTRATION_FIRST_NAME</strong></td>
      <td>The first name used for Volt MX Foundry Registration.</td>
      <td>Micheal</td>
    </tr>
    <tr>
      <td><strong>AUTO_REGISTRATION_LAST_NAME</strong></td>
      <td>The last name used for Volt MX Foundry Registration.</td>
      <td>Doe</td>
    </tr>
    <tr>
      <td><strong>AZURE_CDN_ENABLED</strong></td>
      <td>Specify whether to install CDN for the apps component or not. If you have chosen a region where CDN Profile is not supported, CDN will not be configured. For more details refer to, <a href="Appendices.html#features-and-supported-regions">Features and Supported Regions</a>.</td>
      <td>true Supported values include: true or false.</td>
    </tr>
    <tr>
      <td><strong>ALERT_NOTIFICATION_ENABLED</strong></td>
      <td>Specify whether to enable notification for Alerts. For example sending an alert when the CPU Usage crosses 90% on integration pod, etc.</td>
      <td>true Supported values include: true or false.</td>
    </tr>
    <tr>
      <td><strong>AZURE_ACTION_GROUP_NAME</strong></td>
      <td>Specify name of the action group.</td>
      <td>admin</td>
    </tr>
    <tr>
      <td><strong>USER_EMAIL_ID</strong></td>
      <td>Specify the default email ID to which alert notification should be sent.</td>
      <td>micheal.doe@xyz.com</td>
    </tr>
    <tr>
      <td><strong>ARRAY_TO_WHITELIST_IPS_TO_ACCESS_FILE_SHARE</strong></td>
      <td>Specify the public Foundry IP of the machine where the installation script would be running. To specify multiple IPs use space separated values like (“w1.x1.y1.z1” “w2.x2.y2.z2” “w3.x3.y3.z3”).</td>
      <td>(“103.140.124.130”)</td>
    </tr>
    <tr>
      <td><strong>COMMON_RESOURCE_GROUP</strong></td>
      <td>Specify the name of the resource group where few subscription level shared resources would be created. This needs to be a separate value for Production and for Non-Production. This is the resource group under which PCI related function app gets created.</td>
      <td>VoltMXInfra</td>
    </tr>
    <tr>
      <td><strong>MARKETING_CATALOG_MS</strong></td>
      <td>Specify whether to enable Marketing Catalog Microservice or not.</td>
      <td>false Supported values include: true or false.</td>
    </tr>
    <tr>
      <td><strong>MARKETING_CATALOG_RESOURCE_GROUP</strong></td>
      <td>Specify the name of the resource group where the marketing catalog microservice resources would be created.</td>
      <td>marketingcatalog-ms</td>
    </tr>
    <tr>
      <td><strong>MONGO_PATH</strong></td>
      <td>Enter the path where Mongo Shell is installed.</td>
      <td><code class="language-plaintext highlighter-rouge">/opt/mongodb-linux-x86_64-ubuntu1804-4.2.10/bin</code></td>
    </tr>
    <tr>
      <td><strong>MONGO_CONNECTION</strong></td>
      <td>Enter the connection string for Mongo Shell from Altas.</td>
      <td>mongodb+srv://mongo-cluster-1.jonig.mongodb.net</td>
    </tr>
    <tr>
      <td><strong>MONGO_USER_NAME</strong></td>
      <td>Enter the Mongo Database user name which has been created earlier by you.</td>
      <td>mongodbuser</td>
    </tr>
    <tr>
      <td><strong>MONGO_PASSWORD</strong></td>
      <td>Enter the Mongo Database password which has been given by you while creating the mongodb user.</td>
      <td>Root@123</td>
    </tr>
    <tr>
      <td><strong>MONGODB_DBNAME</strong></td>
      <td>Enter the preferred Database name.</td>
      <td>marketingcatalogdb</td>
    </tr>
    <tr>
      <td><strong>MONGODB_CONNECTIONSTR</strong></td>
      <td>Provide mongo DB connection string. <br /> <strong>Note:</strong> Ensure that you are providing URL encoded mongodb username and password values if they contain special characters like *,@,:,?,. etc. <br /><br />It can be formed using the following string: mongodb://&lt; MONGO_USER_NAME&gt;:&lt; MONGO_PASSWORD&gt; @<cluster-shard-0>:<port-number>,<cluster-shard-1>:<port-number> , <cluster-shard-2>:<port-number>/&lt; MONGODB\_DBNAME&gt;?ssl=true&amp;replicaSet=<value> &amp;authSource=admin&amp;retryWrites=true&amp;w=majority</value></port-number></cluster-shard-2></port-number></cluster-shard-1></port-number></cluster-shard-0></td>
      <td>mongodb://mongodbuser:Root%40123@mongo-cluster-1-shard-00-01.jonig.mongodb.net:27017,mongo-cluster-1-shard-00-02.jonig.mongodb.net:27017,mongo-cluster-1-shard-00-00.jonig.mongodb.net:27017/marketingcatalogdb?ssl=true&amp;replicaSet=atlas-qxcm8s-shard-0&amp;authSource=admin&amp;retryWrites=true&amp;w=majority</td>
    </tr>
    <tr>
      <td><strong>EVENT_HUB_NAME_SPACE</strong></td>
      <td>Enter the preferred Event hub namespace.</td>
      <td>marketingcatalogkafkaapp</td>
    </tr>
    <tr>
      <td><strong>CAMPAIGN_MS</strong></td>
      <td>Specify whether to enable Campaign Microservice or not.</td>
      <td>false Supported values include: true or false.</td>
    </tr>
    <tr>
      <td><strong>CAMPAIGN_RESOURCE_GROUP</strong></td>
      <td>Specify the name of the resource group where campaign microservice resources would be created.</td>
      <td>nas-ssl-campaign</td>
    </tr>
    <tr>
      <td><strong>CAMPAIGN_DB_SERVER_NAME</strong></td>
      <td>Specify the server name for your MySQL Database.</td>
      <td>sqlcampaigndb</td>
    </tr>
    <tr>
      <td><strong>CAMPAIGN_DB_USER_NAME</strong></td>
      <td>Enter the preferred Database username.</td>
      <td>campaign</td>
    </tr>
    <tr>
      <td><strong>CAMPAIGN_DB_PASSWORD</strong></td>
      <td>Enter the preferred Database password. It should be a String containing a minimum of 8 characters and combination of alpha-numeric and non-alpha-numeric characters.</td>
      <td>root@123</td>
    </tr>
    <tr>
      <td><strong>ARRAY_TO_WHITELIST_IPS_TO_ACCESS_CAMPAIGN_DB</strong></td>
      <td>Specify the outbound public IP of the machine where the installation script would be running. To specify multiple IPs you can use space separated values like (“w1.x1.y1.z1” “w2.x2.y2.z2” “w3.x3.y3.z3”).</td>
      <td>(“103.140.124.130”)</td>
    </tr>
    <tr>
      <td><strong>New Relic Monitoring details:</strong></td>
      <td>New Relic Monitoring for AKS Cluster. Enable New Relic monitoring for Infrastructure monitoring. Make sure a proper new relic subscription is available before enabling this feature.</td>
      <td> </td>
    </tr>
    <tr>
      <td><strong>NEW_RELIC_INFRA_MONITORING_ENABLED</strong></td>
      <td>Set to true if you have a new relic license key and if new relic infra monitoring needs to be enabled. This would monitor the node level performance metrics such as CPU, memory, etc.</td>
      <td>true Supported values include: true or false.</td>
    </tr>
    <tr>
      <td><strong>NEW_RELIC_APP_PERF_MONITORING_ENABLED</strong></td>
      <td>Set to true if you have a new relic license and if pod level monitoring needs to be enabled. This would monitor the pod level metrics.</td>
      <td>true Supported values include: true or false.</td>
    </tr>
    <tr>
      <td><strong>NEW_RELIC_LICENSE_KEY</strong></td>
      <td>Specify the new relic license key.</td>
      <td>9e3f3112fb39c130a75c407ab0b4ba153f30NRAL</td>
    </tr>
    <tr>
      <td><strong>AKS_NODE_COUNT</strong></td>
      <td>Specify the number of worker nodes in the cluster. This is the minimum number of nodes to be created in the Shared AKS agent pool.</td>
      <td>2</td>
    </tr>
    <tr>
      <td><strong>AKS_MAX_NODE_COUNT</strong></td>
      <td>Specify the maximum number of worker nodes that can be provisioned by Autoscaling. The max number of nodes for the Shared AKS to create in case load increases.</td>
      <td>6</td>
    </tr>
    <tr>
      <td><strong>SHARED_AKS_NODE_SIZE_NON_PROD</strong></td>
      <td>This is for a Non Production instance. Type of the Azure instance created for Shared cluster in which Foundry components console, identity, engagement pods will be created. Refer to the <a href="https://docs.microsoft.com/en-us/azure/aks/use-multiple-node-pools">Azure documentation</a> for instance sizes and codes.</td>
      <td>Standard_D4_v3</td>
    </tr>
    <tr>
      <td><strong>SHARED_AKS_NODE_SIZE_PROD</strong></td>
      <td>This is for a Production instance. Type of the Azure instance created for Shared cluster in which Foundry components console, identity, engagement pods will be created. Refer to the <a href="https://docs.microsoft.com/en-us/azure/aks/use-multiple-node-pools">Azure documentation</a> for instance sizes and codes.</td>
      <td>Standard_D4_v3</td>
    </tr>
    <tr>
      <td><strong>INTEGRATION_AKS_NODE_SIZE</strong></td>
      <td>Type of the Azure instance to be created for Integration Cluster.</td>
      <td>Standard_B2MS</td>
    </tr>
    <tr>
      <td><strong>AKS_MASTER_NODE_COUNT</strong></td>
      <td>This is the AKS Master Node Count. Specify the number of Master nodes to create.</td>
      <td>1</td>
    </tr>
    <tr>
      <td><strong>INTEGRATION_AKS_NODE_COUNT</strong></td>
      <td>The minimum number of nodes to be created in the Integration AKS agent/node pool.</td>
      <td>2</td>
    </tr>
    <tr>
      <td><strong>INTEGRATION_AKS_MAX_NODE_COUNT</strong></td>
      <td>The maximum number of nodes to be created in the Integration AKS agent/node pool.</td>
      <td>6</td>
    </tr>
  </tbody>
</table>

<p><a name="userProperties"></a></p>
<details close="">
  <summary>Click here to view details of the User Defined Properties <strong>(Azure Subscription ID, Azure Service Principal ID Name, Azure Service Principal ID Secret, Service Principal Object ID, and Tenant ID)</strong></summary>

  <p><strong>Azure Subscription ID</strong> is a GUID that uniquely identifies your subscription to use Azure services. The Application needs the Service Principal to access or configure resources through the Azure Resource Manager (ARM) in the Azure Stack.<br />
    You must have an Azure account with the permissions of a <strong>Global Administrator</strong> and the role of a <strong>User</strong>. Without these privileges, it is not possible to create the AKS clusters (or other resources).<br />
    The following section describes fetching <strong>Azure Subscription ID</strong>, generating <strong>Azure Service Principal ID Name</strong>, <strong>Azure Service Principal ID Secret</strong>, <strong>Service Principal Object ID</strong>, and <strong>Tenant ID</strong>.
<br />
i. <strong>Steps to get the Subscription ID</strong></p>

  <ul>
    <li>Navigate to <a href="http://portal.azure.com/">http://portal.azure.com/</a>.</li>
    <li>Navigate to Browse.</li>
    <li>In the search box, begin to type subscription.</li>
    <li>Select Subscriptions from the search results.<br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ASP_1_459x653.png" alt="" /></li>
  </ul>

  <p>Find the appropriate subscription to check your Azure subscription GUID.<br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ASP_2_463x131.png" alt="" /></p>

  <p>ii. <strong>Step to generate Azure Service Principal with Contributor role at subscription level</strong></p>

  <p>Login to Azure Portal and click on <strong>Cloud Shell</strong> as shown:<br /></p>

  <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Execute_1_542x106.png" alt="" /></p>

  <ol>
    <li>Execute:</li>
  </ol>

  <figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">    $ az ad sp create-for-rbac --role="Contributor" --scopes="/subscriptions/&lt;subscription_id&gt;"
    </code></pre></figure>
  <p><br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Execute_3_478x135.png" alt="" /></p>

  <p>After executing the above command, a json response will be displayed on the command prompt.</p>

  <figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">{  
"appId": "APP_ID",  
"displayName": "ServicePrincipalName",  
"name": "http://ServicePrincipalName",  
"password": ...,  
"tenant": "XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"  
}  </code></pre></figure>

  <p>In the properties file of the <strong>conf</strong> directory:</p>

  <ul>
    <li>SERVICE_PRINCIPAL_CLIENT_ID is the value of the appId.</li>
    <li>SERVICE_PRINCIPAL_CLIENT_SECRET is the value of the password.</li>
  </ul>

  <blockquote>
    <p><strong><em>Note:</em></strong> The values of the SERVICE_PRINCIPAL_CLIENT_ID and SERVICE_PRINCIPAL_CLIENT_SECRET should not contain any quotation marks. For example:</p>
  </blockquote>

  <ul>
    <li>SERVICE_PRINCIPAL_CLIENT_ID = a5afa829-525c-436c-ca4f-f442027cfd2e</li>
    <li>SERVICE_PRINCIPAL_CLIENT_SECRET = cx4q44eq-fq7a-450v-zf41-4049183d1eb8</li>
  </ul>

  <p>iii. <strong>Steps to generate the Service Principal Object ID</strong></p>

  <p>Login to Azure Portal and click on <strong>Power Shell</strong>.</p>

  <ol>
    <li>Execute:</li>
  </ol>

  <figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">    $(Get-AzureADServicePrincipal -Filter "AppId eq ‘&lt;Service_principle_client_ID&gt;’").ObjectId
    </code></pre></figure>
  <p><br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/objectid.PNG" alt="" /></p>

  <p>iv. <strong>Steps to know your Tenant ID</strong></p>

  <ol>
    <li>Go to Portal.azure.com &gt; Azure Active Directory.</li>
    <li>In the Overview section you can find the Tenant ID.<br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/tenant_id.png" alt="" /></li>
  </ol>

</details>
      <h2 id="installation">
        
        
          <a href="#installation" class="anchor-heading" aria-labelledby="installation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Installation
        
        
      </h2>
    

<p>Steps to Install Volt MX Foundry on MS Azure</p>

<ol>
  <li>Create an Ubuntu VM or you can use an existing VM. For more details, refer to <a href="#vm-setup">VM Setup</a>.</li>
  <li>Extract the downloaded installation zip on that VM. For more details, refer to <a href="#pre-installation-tasks">Pre-Installation Tasks</a>.</li>
</ol>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/installfolder.png" alt="" /></p>

<ol>
  <li>Modify/Enter the required properties in the **<Installation Directory="">/conf/enterprise.properties** file. For more details, refer to [Configuration](#configuration).</Installation></li>
  <li>Run the installation using command bash <strong>install-foundry.sh</strong>.</li>
</ol>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/new_install1.png" alt="" /></p>

<ol>
  <li>Choose between a Non-Production or a Production installation mode. In the following prompt a <strong>Non-Production</strong> mode has been chosen. You can choose Production mode and follow a similar flow to complete the installation.</li>
  <li>
    <p>Specify a label for the Non-Production installation environment. A label is just a simple string such as dev, qa, uat etc., this will also be appended to the Azure resources created for this environment to identify them easily.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/new_install2.png" alt="" /></p>

    <blockquote>
      <p><strong><em>Note:</em></strong> This step is specific to Non-Production mode.</p>
    </blockquote>
  </li>
  <li>The installation begins and towards the end of the installation the following prompt will be displayed.</li>
</ol>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/new_install3.png" alt="" /></p>

<ol>
  <li>
    <p>Once the domains are mapped to the IPs/CNAME as shown in the prompt, validate the mappings and continue the installation by re-running <strong>install-foundry.sh</strong>. The CDN configuration will be done and the following prompt will be displayed to complete the manual steps of CDN configuration.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/CdnSuccessful.png" alt="" /></p>

    <blockquote>
      <p><strong><em>Note:</em></strong> You must ensure that the domain mapping must reflect with correct mapping from the script client box using <strong>nslookup</strong>.</p>
    </blockquote>
  </li>
  <li>As shown in the prompt, follow the steps in <a href="VoltMX_Foundry_on_Azure.html#setting-up-azure-content-delivery-network-cdn">Setting up Azure Content Delivery Network (CDN)</a> to perform a custom domain HTTPS configuration.</li>
  <li>Re-run the installation by running the <strong>install-foundry.sh</strong> again to complete the post-installation tasks.</li>
  <li>At the end of the installation, the following message is displayed which contains the Foundry Console URL. Copy and paste the displayed link on to a browser. Press Enter. The Foundry Console is displayed.</li>
</ol>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/new_install4.png" alt="" /></p>
      <h2 id="post-installation">
        
        
          <a href="#post-installation" class="anchor-heading" aria-labelledby="post-installation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Post Installation
        
        
      </h2>
    

<p>After the installation and CDN configuration is complete, you can access the Foundry Console using the link displayed on the screen.</p>

<ol>
  <li>Take a backup and keep the installation logs from **<Installation Directory="">/logs directory**.</Installation></li>
  <li>Copy and paste the displayed link on to a browser. Press Enter. The Foundry Console is displayed.</li>
  <li>
    <p>Login with the registration credentials provided in the properties file and navigate across various pages. Following is a screenshot of the Environments tab from an Azure test setup after installing 3 environments, namely DEV, UAT2, and QA4.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Environment_Page.png" alt="" /></p>
  </li>
</ol>

<p>You can now publish apps and check the runtime services.</p>
      <h2 id="configuring-iris-to-connect-to-volt-mx-foundry-on-azure">
        
        
          <a href="#configuring-iris-to-connect-to-volt-mx-foundry-on-azure" class="anchor-heading" aria-labelledby="configuring-iris-to-connect-to-volt-mx-foundry-on-azure"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuring Iris to Connect to Volt MX Foundry on Azure
        
        
      </h2>
    

<p>For details about connecting to Volt MX Foundry Console through Iris, refer to <a href="/volt-mx-docs/docs/documentation/Iris/iris_user_guide/Content/Connect_to_VoltMXFoundry.html">Connecting to Volt MX Foundry</a>.</p>
      <h2 id="updating-the-azure-kubernetes-service-cluster-configuration">
        
        
          <a href="#updating-the-azure-kubernetes-service-cluster-configuration" class="anchor-heading" aria-labelledby="updating-the-azure-kubernetes-service-cluster-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Updating the Azure Kubernetes Service Cluster configuration
        
        
      </h2>
    

<p>You need to have the current config files if you want to update the AKS cluster configuration. Once the installation is complete, take a backup of the unzipped directory where you installed the <code class="language-plaintext highlighter-rouge">voltmx-foundry-containers-azure.zip</code> to perform further updates to the AKS clusters.</p>

<blockquote>
  <p><strong><em>Important:</em></strong> If you do not have a backup of the unzipped directory, updating the AKS cluster is difficult.</p>
</blockquote>
      <h2 id="setting-up-azure-content-delivery-network-cdn">
        
        
          <a href="#setting-up-azure-content-delivery-network-cdn" class="anchor-heading" aria-labelledby="setting-up-azure-content-delivery-network-cdn"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Setting up Azure Content Delivery Network (CDN)
        
        
      </h2>
    

<p>A Content Delivery Network (CDN) is a distributed network of servers that can efficiently deliver web content to users. To minimize latency, CDNs store cached content on edge servers in Point-Of-Presence (POP) locations that are close to end users.</p>

<p>Azure Content Delivery Network (CDN) offers a global solution for developers to rapidly deliver high-bandwidth content to users by caching the content at strategically placed physical nodes across the world.</p>

<blockquote>
  <p><strong><em>Note:</em></strong> Azure CDN SKU for AKS cluster is set to Premium Verizon, which supports configuration of cache rules for Volt MX Foundry Apps.</p>
</blockquote>
      <h3 id="enable-cdn-on-azure-aks-cluster">
        
        
          <a href="#enable-cdn-on-azure-aks-cluster" class="anchor-heading" aria-labelledby="enable-cdn-on-azure-aks-cluster"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Enable CDN on Azure AKS cluster
        
        
      </h3>
    

<details close="">
  <summary>Follow these steps to enable CDN in your AKS cluster .</summary>

  <ol>
    <li>Set the value of <code class="language-plaintext highlighter-rouge">AZURE_CDN_ENABLED</code> to <strong>true</strong> in the properties file (trail.properties /enterprise.properties).</li>
  </ol>

  <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/CDN1.png" alt="" /></p>

  <ol>
    <li>Set the CDN Endpoint:
      <ul>
        <li>FOR SSL ENABLED CLOUD (<code class="language-plaintext highlighter-rouge">IS_SSL_ENABLED = true</code>), after creating the CDN endpoint, map the CDN endpoint to a custom domain name.</li>
      </ul>
    </li>
  </ol>

  <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/CDN2.png" alt="" /></p>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>*   FOR SSL DISABLED CLOUD (IS\_SSL\_ENABLED = false), no mapping of server domain name is required.
</code></pre></div>  </div>

</details>
<p>Once you create the CDN profile and endpoint, follow these steps to manually configure the CDN settings in the Azure portal:</p>

<details close="">
  <summary>Click here for the steps</summary>

  <ol>
    <li>Open the Azure portal (<a href="http://portal.azure.com/">portal.azure.com</a>) and login using your Microsoft account credentials.</li>
  </ol>

  <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/CDN3_600x317.png" alt="" /></p>

  <ol>
    <li>Select <strong>Resource groups</strong> from the left navigation pane.</li>
  </ol>

  <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/CDN4_597x272.png" alt="" /></p>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>All existing resource groups appear.  
Select the resource group in which the AKS Cluster is created.
</code></pre></div>  </div>

  <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/CDN5_600x274.png" alt="" /></p>

  <ol>
    <li>If the cloud is SSL enabled, open <strong>CDN Endpoint</strong> from the list of resources in the Azure Resource Group.</li>
  </ol>

  <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/CDN6_596x250.png" alt="" /></p>

  <ol>
    <li>Click <strong>Custom Domain</strong>.The Custom Domain page appears.</li>
  </ol>

  <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/CDN7_601x252.png" alt="" /></p>

  <ol>
    <li>Select ON to enable HTTPS for custom domain.</li>
  </ol>

  <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/CDN8.png" alt="" /></p>

</details>
      <h3 id="configuring-caching-rules">
        
        
          <a href="#configuring-caching-rules" class="anchor-heading" aria-labelledby="configuring-caching-rules"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuring Caching Rules
        
        
      </h3>
    

<ol>
  <li>Go to <strong>CDN profile</strong> from the list of resources available in the Azure Resource Group (having the created AKS cluster).<br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/CDN9.png" alt="" /></li>
  <li>Click <strong>Manage</strong> from the top navigation bar.</li>
</ol>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/CDN10_599x251.png" alt="" /></p>

<ol>
  <li>Configure all the rules in the <strong>CDN Manage Console</strong>.</li>
</ol>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/CDN11_599x270.png" alt="" /></p>

<ol>
  <li>From the <strong>HTTP Large</strong> list, select <code class="language-plaintext highlighter-rouge">cache settings -&gt; query string caching</code> .<br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/CDN12_599x251.png" alt="" /></li>
  <li>Select <strong>no-cache</strong> as the <strong>query string caching</strong> and click <strong>Update</strong>.<br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/CDN13.png" alt="" /></li>
  <li>From the <strong>HTTP Large</strong> list, select <strong>Rules Engine</strong>.<br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/CDN14_591x112.png" alt="" /></li>
  <li>Configure all the required rules.<br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/CDN15.png" alt="" />
    <ul>
      <li>Rule 1<br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/rule1.png" alt="" /></li>
      <li>Rule 2<br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/rule2.png" alt="" /></li>
      <li>Rule 3<br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/rule3.png" alt="" /></li>
      <li>Rule 4<br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/rule4.png" alt="" /></li>
      <li>Rule 5<br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/rule5.png" alt="" /></li>
      <li>Rule 6<br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/rule6.png" alt="" /></li>
      <li>Rule 7<br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/rule7.png" alt="" /></li>
      <li>Rule 8<br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/rule8.png" alt="" /></li>
      <li>Rule 9<br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/rule9.png" alt="" /></li>
      <li>Rules Order<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/rules_order.png" alt="" /></li>
    </ul>
  </li>
</ol>
      <h2 id="configuring-clam-antivirus-for-azure-virtual-machines">
        
        
          <a href="#configuring-clam-antivirus-for-azure-virtual-machines" class="anchor-heading" aria-labelledby="configuring-clam-antivirus-for-azure-virtual-machines"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuring Clam AntiVirus for Azure Virtual Machines
        
        
      </h2>
    

<p>Clam AntiVirus (ClamAV) is an open-source anti-virus software toolkit. You can choose to install ClamAV on Azure Virtual Machines in the kubernetes cluster. ClamAV is designed to be an on-demand scanner, and will only run when invoked to run.</p>

<p>A cron job is configured to run ClamAV on Azure Virtual Machines based on the frequency specified in the properties file. ClamAV scans all the files in the virtual machine and pushes the logs (<strong>clamscan.log</strong> and <strong>freshclam.log</strong>) present in <strong>/var/log/clamav</strong> directory to the <strong>clamavlogs</strong> container in the <strong>storage account</strong> of the Azure Resource Group in which the AKS cluster is created.</p>

<p>Provide the following inputs in the properties file to enable ClamAV.</p>
      <h3 id="install-clamav-on-azure-virtual-machine">
        
        
          <a href="#install-clamav-on-azure-virtual-machine" class="anchor-heading" aria-labelledby="install-clamav-on-azure-virtual-machine"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Install ClamAV on Azure Virtual Machine
        
        
      </h3>
    

<p>Follow these steps to install ClamAV on your Azure Virtual Machine:</p>

<ol>
  <li>Set the value of <code class="language-plaintext highlighter-rouge">INSTALL_CLAMAV</code> to <code class="language-plaintext highlighter-rouge">true</code> in the properties file (trail.properties /enterprise.properties).</li>
  <li>Place your SSH private key and SSH public key in the <code class="language-plaintext highlighter-rouge">sshkeys</code> folder with names <strong>id_rsa</strong> and <strong>id_rsa.pub</strong> respectively.</li>
  <li>Set the frequency of the cron job to start the ClamAV scan and push the generated logs to the storage account.</li>
</ol>

<blockquote>
  <p><strong><em>Note:</em></strong>  Use the following format to set the values for the frequencies of <code class="language-plaintext highlighter-rouge">clamscan_cron_schedule</code> and <code class="language-plaintext highlighter-rouge">clamscanlogpush_cron_schedule</code> in the properties file (trail.properties /enterprise.properties).</p>
</blockquote>
<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx"> * * * * *
  |  |  |  |  |
  |  |  |  |  |
  |  |  |  | +---- Day of the Week   (range: 1-7, 1 standing for Monday)
  |  |  | +------ Month of the Year (range: 1-12)
  |  | +-------- Day of the Month  (range: 1-31)
  | +---------- Hour (range: 0-23)
  +------------ Minute (range: 0-59)
 * = any value</code></pre></figure>

<p>For example, if you configure the crontab timing as 00 16 * * *, this indicates that the crontab runs every day at 16:00:00 (UTC).</p>

<ul>
  <li>You must maintain a minimum gap of 02:30 hrs. between the <code class="language-plaintext highlighter-rouge">clamscan_cron_schedule</code> and <code class="language-plaintext highlighter-rouge">clamscanlogpush_cron_schedule</code>.</li>
  <li>All cron job timings follow UTC timezone.</li>
</ul>
      <h3 id="access-clamav-logfiles-in-the-virtual-machine">
        
        
          <a href="#access-clamav-logfiles-in-the-virtual-machine" class="anchor-heading" aria-labelledby="access-clamav-logfiles-in-the-virtual-machine"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Access ClamAV logfiles in the Virtual Machine
        
        
      </h3>
    

<p>Follow these steps to access the ClamAV logs in the Virtual Machine.</p>

<ul>
  <li>Log on to Jumpbox using the following ssh command:<br />
<code class="language-plaintext highlighter-rouge">ssh devops@&lt;Jumpbox_Public_IP_Address&gt;</code></li>
  <li>Log on to the Virtual Machine from Jumpbox using the following SSH command:<br />
<code class="language-plaintext highlighter-rouge">ssh -i id_rsa azureuser@&lt;Virtual_Machine_IP_Address&gt;</code></li>
  <li>Using the following command, go to <code class="language-plaintext highlighter-rouge">/var/log/clamav</code> directory:<br />
<code class="language-plaintext highlighter-rouge">cd /var/log/clamav</code></li>
</ul>

<p>This directory contains the <code class="language-plaintext highlighter-rouge">clamscan.log</code> and <code class="language-plaintext highlighter-rouge">freshclam.log</code> files that are generated by ClamAV after scanning the Virtual Machine.</p>

<p>Another cron job is configured to push the generated logs into the Azure Storage Account.</p>
      <h3 id="edit-the-cron-job">
        
        
          <a href="#edit-the-cron-job" class="anchor-heading" aria-labelledby="edit-the-cron-job"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Edit the cron job
        
        
      </h3>
    

<ul>
  <li>
    <p>Use the following command to view existing cron jobs on the VM.<br />
<code class="language-plaintext highlighter-rouge">crontab -l</code></p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/CLAMAV1.png" alt="" /></p>
  </li>
  <li>
    <p>Use the <code class="language-plaintext highlighter-rouge">crontab -e</code> command to open the crontab list in edit mode.</p>
  </li>
</ul>
      <h3 id="edit-the-clamav-conf-file">
        
        
          <a href="#edit-the-clamav-conf-file" class="anchor-heading" aria-labelledby="edit-the-clamav-conf-file"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Edit the ClamAV conf file
        
        
      </h3>
    

<p>The <code class="language-plaintext highlighter-rouge">freshclam.conf</code> file configures the ClamAV Database Updater.</p>

<ul>
  <li>Go to the <code class="language-plaintext highlighter-rouge">etc/clamav/</code> directory.</li>
  <li>Open the <code class="language-plaintext highlighter-rouge">freshclam.conf</code> file in any editor to make any required changes to the conf file.</li>
</ul>
      <h3 id="accessing-logs-in-the-azure-storage-account">
        
        
          <a href="#accessing-logs-in-the-azure-storage-account" class="anchor-heading" aria-labelledby="accessing-logs-in-the-azure-storage-account"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Accessing Logs in the Azure Storage Account
        
        
      </h3>
    

<p>All the logs generated by CLAMAV are pushed to the Azure Storage Account.</p>

<ol>
  <li>
    <p>Log on to the Azure portal (<a href="http://portal.azure.com/">portal.azure.com</a>) using your Microsoft account credentials.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/CLAMAV2.png" alt="" /></p>
  </li>
  <li>
    <p>Select <strong>Resource Groups</strong> from the left navigation pane.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/CLAMAV3.png" alt="" /></p>
  </li>
</ol>

<p>All existing resource groups appear.<br />
Select the resource group in which the AKS Cluster is created.</p>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/CLAMAV4.png" alt="" /></p>

<ol>
  <li>Select the storage account from the list of resources available in the resource group.</li>
  <li>
    <p>Click <strong>Blobs</strong> to see all the containers available in the storage account.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/CLAMAV5.png" alt="" /></p>
  </li>
  <li>
    <p>Select the <strong>clamavlogs</strong> container from the list of containers available in the storage account.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/CLAMAV6.png" alt="" /></p>

    <p>This shows all the log files pushed by ClamAV from the virtual machine.</p>
  </li>
  <li>
    <p>Click <strong>Download</strong> to view the logs in the file.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/CLAMAV7.png" alt="" /></p>
  </li>
  <li>
    <p>Unzip the downloaded .zip file and extract the content.</p>

    <p>You can now view all the logs that are pushed by CLAMAV from virtual machine.</p>
  </li>
</ol>
      <h2 id="configuring-ossec-intrusion-detection">
        
        
          <a href="#configuring-ossec-intrusion-detection" class="anchor-heading" aria-labelledby="configuring-ossec-intrusion-detection"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuring OSSEC Intrusion Detection
        
        
      </h2>
    

<p>OSSEC is an open source Host-based Intrusion Detection System (HIDS). It has a powerful correlation and analysis engine, and can perform integrating log analysis, file integrity checking, Windows registry monitoring, centralized policy enforcement, rootkit detection, real-time alerting, and active response.</p>

<p>OSSEC runs as a daemon process. It notifies through alert logs when intrusion attacks occur. These alert logs are pushed to the <strong>osseclogs</strong> container in the storage account in the Azure Resource Group in which AKS cluster is created.</p>

<p>Provide the following inputs in the properties file to enable OSSEC.</p>
      <h3 id="ossec-installation-steps">
        
        
          <a href="#ossec-installation-steps" class="anchor-heading" aria-labelledby="ossec-installation-steps"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> OSSEC Installation steps
        
        
      </h3>
    

<ol>
  <li>
    <p>Enable the <code class="language-plaintext highlighter-rouge">INSTALL_OSSEC</code> flag in the properties file (trial.properties /enterprise.properties):</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/OSSEC1.png" alt="" /></p>
  </li>
  <li>
    <p>As OSSEC is a daemon process, it continuously detects intrusion activities and stores alerts in <code class="language-plaintext highlighter-rouge">alerts.log</code> file. A cron job is configured to push the alerts from <code class="language-plaintext highlighter-rouge">/var/ossec/logs/alerts/alerts.log</code> to the Azure Storage Account.</p>
  </li>
</ol>

<blockquote>
  <p><strong><em>Note:</em></strong> Configure the <code class="language-plaintext highlighter-rouge">cronjob osseclogpush_cron_schedule</code> in the properties file (trail.properties /enterprise.properties) to set the frequency value of the cron job. Configure the Crontab timing in the following format:</p>
</blockquote>
<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx"> * * * * *
  |  |  |  |  |
  |  |  |  |  |
  |  |  |  | +---- Day of the Week   (range: 1-7, 1 standing for Monday)
  |  |  | +------ Month of the Year (range: 1-12)
  |  | +-------- Day of the Month  (range: 1-31)
  | +---------- Hour (range: 0-23)
  +------------ Minute (range: 0-59)
 * = any value</code></pre></figure>

<p>For example, if you configure the crontab timing as 00 16 * * *, this indicates that the crontab runs every day at 16:00:00 (UTC).</p>

<ul>
  <li>You can modify the default values of the cron job, if required.</li>
  <li>All cron job timings follow UTC timezone.</li>
</ul>

<ol>
  <li>Place your SSH private key in the sshkeys folder with name id_rsa.</li>
</ol>
      <h3 id="access-log-files-of-ossec-in-virtual-machine">
        
        
          <a href="#access-log-files-of-ossec-in-virtual-machine" class="anchor-heading" aria-labelledby="access-log-files-of-ossec-in-virtual-machine"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Access log files of OSSEC in Virtual Machine
        
        
      </h3>
    

<p>Follow these steps to access OSSEC logs in the Virtual Machine.</p>

<ol>
  <li>
    <p>Use the following SSH command to log on to Jumpbox</p>

    <p><code class="language-plaintext highlighter-rouge">$ ssh devops@&lt;Jumpbox_Public_IP_Address&gt;</code></p>
  </li>
  <li>
    <p>Use the following SSH command, to log on to the Virtual Machine from the Jumpbox</p>

    <p><code class="language-plaintext highlighter-rouge">$ ssh -i id_rsa azureuser@IPaddress of Virtual Machine</code></p>
  </li>
  <li>
    <p>Execute the following command to login as a root user.</p>

    <p><code class="language-plaintext highlighter-rouge">$ sudo su</code></p>
  </li>
  <li>
    <p>You can view the <strong>syslogs</strong> at <code class="language-plaintext highlighter-rouge">/var/log/syslog</code>.</p>

    <p><code class="language-plaintext highlighter-rouge">$cd /var/log/</code></p>

    <p><code class="language-plaintext highlighter-rouge">$cat syslog</code></p>
  </li>
  <li>
    <p>Logs created by OSSEC daemons are stored in the sub directories of <code class="language-plaintext highlighter-rouge">/var/ossec/logs</code>.</p>

    <ul>
      <li>You can view the OSSEC logs at <code class="language-plaintext highlighter-rouge">/var/ossec/logs/ossec.log</code></li>
    </ul>

    <p><code class="language-plaintext highlighter-rouge">$cd /var/ossec/logs/</code></p>

    <p><code class="language-plaintext highlighter-rouge">$cat ossec.log</code></p>

    <ul>
      <li>You can view the OSSEC alerts at <code class="language-plaintext highlighter-rouge">/var/ossec/logs/alerts/alerts.log</code>.</li>
    </ul>

    <p><code class="language-plaintext highlighter-rouge">$cd /var/ossec/logs/alerts/</code></p>

    <p><code class="language-plaintext highlighter-rouge">$cat alerts.log</code></p>
  </li>
</ol>
      <h3 id="edit-cron-jobs">
        
        
          <a href="#edit-cron-jobs" class="anchor-heading" aria-labelledby="edit-cron-jobs"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Edit cron jobs
        
        
      </h3>
    

<ul>
  <li>
    <p>To view the existing cron jobs use the following command on VM.</p>

    <p>$ crontab -l</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/OSSEC2.png" alt="" /></p>
  </li>
  <li>
    <p>Use the <code class="language-plaintext highlighter-rouge">crontab -e</code> command to open the crontab list in edit mode.</p>
  </li>
</ul>
      <h3 id="accessing-logs-in-azure-storage-account">
        
        
          <a href="#accessing-logs-in-azure-storage-account" class="anchor-heading" aria-labelledby="accessing-logs-in-azure-storage-account"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Accessing Logs in Azure Storage Account
        
        
      </h3>
    

<p>All the logs generated by OSSEC are pushed to the Azure Storage Account.</p>

<ol>
  <li>
    <p>Log on to the Azure portal (<a href="http://portal.azure.com/">portal.azure.com</a>) using your Microsoft account credentials..</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/OSSEC3.png" alt="" /></p>
  </li>
  <li>
    <p>Select <strong>Resource groups</strong> from the left navigation pane.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/OSSEC4.png" alt="" /></p>

    <p>All existing resource groups appear.<br />
Select the resource group in which the AKS Cluster is created.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/OSSEC5.png" alt="" /></p>
  </li>
  <li>Select the storage account from the list of resources available in the resource group.</li>
  <li>
    <p>Click <strong>Blobs</strong> to see all the containers available in the storage account.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/OSSEC6.png" alt="" /></p>
  </li>
  <li>
    <p>Select the <strong>osseclogs</strong> container from the list of containers available in the storage account.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/OSSEC7.png" alt="" /></p>

    <p>The page displays the log files pushed by OSSEC from Virtual Machine.</p>
  </li>
  <li>
    <p>Click <strong>Download</strong> to view the logs file.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/OSSEC8.png" alt="" /></p>

    <p>You can now view all the logs that are pushed by OSSEC from the virtual machine.</p>

    <blockquote>
      <p><strong><em>Note:</em></strong> Follow these steps to edit the <code class="language-plaintext highlighter-rouge">preloaded-vars.conf</code> file to give customized inputs (other than defaults) to install OSSEC.</p>
    </blockquote>

    <ol>
      <li>Login to the specific Virtual Machine (node) using SSH keys in the terminal.</li>
      <li>Go to the <code class="language-plaintext highlighter-rouge">/home/azureuser/ossec-hids-2.9.0/etc/</code> directory by using following command.</li>
    </ol>

    <p><code class="language-plaintext highlighter-rouge">$ cd /home/azureuser/ossec-hids-2.9.0/etc/</code></p>

    <ol>
      <li>Open the <code class="language-plaintext highlighter-rouge">preloaded-vars.conf</code> file and edit as required.</li>
    </ol>

    <blockquote>
      <p><strong><em>Note:</em></strong> Follow these steps to edit the <code class="language-plaintext highlighter-rouge">ossec.conf file</code> and change the existing configurations of OSSEC.</p>
    </blockquote>

    <ol>
      <li>Login to the specific Virtual Machine (node) using SSH keys in the terminal.</li>
      <li>Go to the <code class="language-plaintext highlighter-rouge">/var/ossec/etc</code> directory using following command.</li>
    </ol>

    <p><code class="language-plaintext highlighter-rouge">$ cd /var/ossec/etc</code></p>

    <ol>
      <li>Open the <strong>ossec.conf</strong> file and edit as required.</li>
    </ol>
  </li>
</ol>
      <h2 id="marketing-catalog-microservice">
        
        
          <a href="#marketing-catalog-microservice" class="anchor-heading" aria-labelledby="marketing-catalog-microservice"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Marketing Catalog Microservice
        
        
      </h2>
    

<p>The Marketing Catalog Microservice is a comprehensive source of system-independent data of product details and marketing content crossing all the banks products, and capable of consuming products and services outside of the bank. Examples include products offered by FinTechs (such as payment devices) or real banking products that can be sold and marketed on behalf of other banks. Banks can choose to ingest the product details from the existing core or Product management system. This can be created and managed in the Marketing Catalog microservice.</p>
      <h3 id="prerequisites-1">
        
        
          <a href="#prerequisites-1" class="anchor-heading" aria-labelledby="prerequisites-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Prerequisites
        
        
      </h3>
    

<ul>
  <li>
    <p>Run the installation on a fresh virtual machine.</p>

    <blockquote>
      <p><strong><em>Important:</em></strong> If in case you execute the file on an existing virtual machine you must ensure the Java is not installed on it or pointing it to Java 8 is mandatory.</p>
    </blockquote>
  </li>
  <li>
    <p>Create a cluster in your Atlas account and <strong>Allow access from anywhere</strong> in the IP access list which is present under Network Access. Then, create a database user for your cluster and connect it to your cluster. Refer to <a href="https://docs.atlas.mongodb.com/getting-started/">Get Started with Atlas</a> for the exact procedure that needs to be followed to execute this step.</p>

    <blockquote>
      <p><strong><em>Important:</em></strong> You must ensure allowing access from anywhere in the IP access list of the cluster. To do so you must login to your cluster and under Network Access go to IP Access List and then click on <strong>Edit</strong> and select <strong>Allow access from anywhere</strong> then save.</p>
    </blockquote>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/NetworkAccess.png" alt="" /></p>
  </li>
  <li>
    <p>Install mongo shell of the same version as that of the cluster version. If your cluster version is 4.2.10 as shown in the following image then you must install mongo shell of version 4.2.10.</p>
  </li>
</ul>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/marketingmicroservice.png" alt="" /></p>
      <h3 id="deployment">
        
        
          <a href="#deployment" class="anchor-heading" aria-labelledby="deployment"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Deployment
        
        
      </h3>
    

<ul>
  <li>If you want to create the marketing catalog microservice resources along with the end to end installation of Volt MX Foundry on Azure cloud you must do the following:
    <ol>
      <li>Provide the required inputs in the <code class="language-plaintext highlighter-rouge">conf/enterprise.properties</code> file.</li>
      <li>Execute the <code class="language-plaintext highlighter-rouge">install-foundry.sh</code> file.</li>
    </ol>
  </li>
  <li>If you want to create only the marketing catalog microservice resources then do the following:
    <ol>
      <li>Copy the <code class="language-plaintext highlighter-rouge">marketing_catalogs</code> folder from VoltMXFoundryContainersAzure-_/lib/microservices/ path.</li>
      <li>Provide the required inputs in the <code class="language-plaintext highlighter-rouge">conf/ marketing_catalog_ms.properties</code> file.</li>
      <li>Execute the <code class="language-plaintext highlighter-rouge">install_marketing_catalog_ms.sh</code> file present under the <code class="language-plaintext highlighter-rouge">marketing_catalogs</code> folder.</li>
    </ol>
  </li>
</ul>
      <h2 id="campaign-microservice">
        
        
          <a href="#campaign-microservice" class="anchor-heading" aria-labelledby="campaign-microservice"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Campaign Microservice
        
        
      </h2>
    

<p>The Campaign microservice allows the branch user to create and store Campaign definition details.</p>
      <h3 id="prerequisite">
        
        
          <a href="#prerequisite" class="anchor-heading" aria-labelledby="prerequisite"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Prerequisite
        
        
      </h3>
    

<ul>
  <li>Run the installation on a fresh virtual machine.</li>
</ul>

<blockquote>
  <p><strong><em>Important:</em></strong> If in case you execute the file on an existing virtual machine you must ensure the Java is not installed on it or pointing it to Java 8 is mandatory.</p>
</blockquote>
      <h3 id="deployment-1">
        
        
          <a href="#deployment-1" class="anchor-heading" aria-labelledby="deployment-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Deployment
        
        
      </h3>
    

<ul>
  <li>If you want to create Campaign microservice resources along with the end to end installation of Volt MX Foundry on Azure cloud you must do the following:
    <ol>
      <li>Provide the required inputs in the <code class="language-plaintext highlighter-rouge">conf/enterprise.properties</code> file.</li>
      <li>Execute the <code class="language-plaintext highlighter-rouge">install-foundry.sh</code> file.</li>
    </ol>
  </li>
  <li>If you want to create only the Campaign microservice resources then do the following:
    <ol>
      <li>Copy the <code class="language-plaintext highlighter-rouge">campaigns</code> folder from VoltMXFoundryContainersAzure-_/lib/microservices/ path.</li>
      <li>Provide the required inputs in the <code class="language-plaintext highlighter-rouge">conf/campaign_ms.properties</code> file.</li>
      <li>Execute the <code class="language-plaintext highlighter-rouge">install_campaign_ms.sh</code> file present under <code class="language-plaintext highlighter-rouge">campaigns</code> folder.</li>
    </ol>
  </li>
</ul>

        

        

        
        
         
            <!--<p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2017-2020 HCL Digital Solutions</p>-->


            
              <div class="d-flex mt-2">
                
                
              </div>
            
          </footer>
        

      </div>
    </div>

    
      

      <div class="search-overlay"></div>
    

    
  </div>

  <!-- end main  -->

  
  <div class="split-hold" >
    <div class="split__bar1" ></div>
    <div class="closeclick closeright" id="right-close"></div>
  </div>
    <div class="right-menu scrollable-container" >
      <div class="scrollable">
        <nav role="navigation" aria-label="Main" id="sub-site-nav" class="site-nav" >
<ul class="nav-list">
  

    <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
        <use xlink:href="#svg-arrow-right"></use>
        </svg>
      </a><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Introduction.html" class="nav-list-link">Installation Guide for Volt MX Foundry on Azure</a>
  
      <ul class="nav-list "><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VoltMX_Foundry_on_Azure.html#overview" class="nav-list-link">Overview</a>

  
 </li>
  <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
          <use xlink:href="#svg-arrow-right"></use>
          </svg></a><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VoltMX_Foundry_on_Azure.html#overview" class="nav-list-link">Volt MX Foundry V9 SP1 onwards on Azure</a>

  <ul class="nav-list "><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VoltMX_Foundry_on_Azure.html#prerequisites"
    class="nav-list-link">Prerequisites</a>

    

   </li>

    <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VoltMX_Foundry_on_Azure.html#vm-setup"
    class="nav-list-link">VM Setup</a>

    

   </li>

    <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VoltMX_Foundry_on_Azure.html#pre-installation-tasks"
    class="nav-list-link">Pre-installation</a>

    

   </li>

    <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VoltMX_Foundry_on_Azure.html#configuration"
    class="nav-list-link">Configuration</a>

    

   </li>

    <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VoltMX_Foundry_on_Azure.html#installation"
    class="nav-list-link">Installation</a>

    

   </li>

    <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VoltMX_Foundry_on_Azure.html#post-installation"
    class="nav-list-link">Post-Installation Tasks</a>

    

   </li>

    <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VoltMX_Foundry_on_Azure.html#configuring-iris-to-connect-to-volt-mx-foundry-on-azure"
    class="nav-list-link">Configuring Iris to Connect Volt MX Foundry on Azure</a>

    

   </li>

    <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VoltMX_Foundry_on_Azure.html#updating-the-azure-kubernetes-service-cluster-configuration"
    class="nav-list-link">Updating the Azure Kubernetes Service Cluster configuration</a>

    

   </li>

    <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VoltMX_Foundry_on_Azure.html#setting-up-azure-content-delivery-network-cdn"
    class="nav-list-link">Setting up Azure Content Delivery Network (CDN</a>

    

   </li>

    <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VoltMX_Foundry_on_Azure.html#configuring-clam-antivirus-for-azure-virtual-machines"
    class="nav-list-link">Configuring Clam AntiVirus for Azure Virtual Machines</a>

    

   </li>

    <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VoltMX_Foundry_on_Azure.html#configuring-ossec-intrusion-detection"
    class="nav-list-link">Configuring OSSEC Intrusion Detection</a>

    

   </li>

    <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VoltMX_Foundry_on_Azure.html#marketing-catalog-microservice"
    class="nav-list-link">Marketing Catalog Microservice</a>

    

   </li>

    <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VoltMX_Foundry_on_Azure.html#campaign-microservice"
    class="nav-list-link">Campaign Microservice</a>

    

   </li>

    

    </ul>
  
  
 </li>
  

</ul>


</li>


    <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
        <use xlink:href="#svg-arrow-right"></use>
        </svg>
      </a><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#appendices" class="nav-list-link">Appendices</a>
  
      <ul class="nav-list "><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#prerequisite-packages" class="nav-list-link">Prerequisite Packages</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#network-settings-accessing-azure-sql-database" class="nav-list-link">Network Settings - Accessing Azure SQL Database</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#configuring-nat-gateway" class="nav-list-link">Configuring NAT Gateway</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#hosting-your-domain-with-azure-dns" class="nav-list-link">Hosting your domain with Azure DNS</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#generating-a-pfx-file-from-pem" class="nav-list-link">Generating PFX file from PEM</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#extracting-logs-from-your-application" class="nav-list-link">Extracting Logs from Application</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#connecting-to-aks-nodes-through-jumpbox" class="nav-list-link">Connecting to AKS nodes through Jumpbox</a>

  
 </li>
  <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
          <use xlink:href="#svg-arrow-right"></use>
          </svg></a><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#log-analytics" class="nav-list-link">Log Analytics</a>

  <ul class="nav-list "><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#search-logs"
    class="nav-list-link">Search Logs</a>

    

   </li>

    

    </ul>
  
  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#new-relic-monitoring" class="nav-list-link">New Relic Monitoring</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#rolling-updates" class="nav-list-link">Rolling Updates</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#kubernetes-dashboard" class="nav-list-link">Kubernetes Dashboard</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#pod-anti-affinity" class="nav-list-link">Pod Anti-Affinity</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#aks-autoscaling" class="nav-list-link">AKS Autoscaling</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#azure-resource-group-role-based-access-control-rbac" class="nav-list-link">Azure Resource Group Role Based Access Control (RBAC</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#block-ip-addresses-in-the-azure-web-application-firewall" class="nav-list-link">Block IP addresses in Azure Web Application Firewall</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#block-ip-addresses-in-the-azure-cdn" class="nav-list-link">Block IP addresses in Azure CDN</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#whitelist-ip-address-in-azure-cdn" class="nav-list-link">Whitelist IP addresses in Azure CDN</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#configure-email-alerts-for-clamav-and-ossec" class="nav-list-link">Configure Email Alerts for ClamAV and OSSEC</a>

  
 </li>
  <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
          <use xlink:href="#svg-arrow-right"></use>
          </svg></a><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#vpn-reference-implementation" class="nav-list-link">VPN Reference Implementation</a>

  <ul class="nav-list "><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VPN_Implementation.html"
    class="nav-list-link">Site-to-Site Tunnel Implementation</a>

    

   </li>

    

    </ul>
  
  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#configure-backup-and-restore-for-azure-file-share" class="nav-list-link">Configure Backup and Restore for Azure File Share</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#setting-custom-vnet-and-subnet-ranges" class="nav-list-link">Setting custom VNet and Subnet ranges</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#features-and-supported-regions" class="nav-list-link">Features and Supported Regions</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Azure_Version_Tracker.html" class="nav-list-link">Azure Version Tracker</a>

  
 </li>
  

</ul>


</li>


    <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
        <use xlink:href="#svg-arrow-right"></use>
        </svg>
      </a><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Frequently_Asked_Questions__FAQs_.html" class="nav-list-link">Frequently Asked Questions (FAQs</a>
  
      <ul class="nav-list "><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Frequently_Asked_Questions__FAQs_.html#installation-metadata" class="nav-list-link">Installation Metadata</a>

  
 </li>
  

</ul>


</li>

</ul>

</nav>


      </div>
  </div></div>





 <!-- footer from footer html -->
 <footer>

    <!-- The Modal -->
<div id="copyright-modal" class="modal">

    <!-- Modal content -->
    <div class="modal-content">
      <span class="close">&times;</span>
      <p>
        © Copyright HCL America, Inc., 2021 - All rights reserved.
      </p>
      <p>This document contains information proprietary to HCL., is bound by the HCL license agreements, and may not be used except in the context of understanding the use and methods of HCL., software without prior, express, written permission. HCL, Empowering Everywhere, HCL Foundry, HCL Flare, and HCL Iris are trademarks of HCL. MobileFoundry is a registered trademark of HCL. Microsoft, the Microsoft logo, Internet Explorer, Windows, and Windows Vista are registered trademarks of Microsoft Corporation. Apple, the Apple logo, iTunes, iPhone, iPad, OS X, Objective-C, Safari, Apple Pay, Apple Watch, and Xcode are trademarks or registered trademarks of Apple, Inc. Google, the Google logo, Android, and the Android logo are registered trademarks of Google, Inc. Chrome is a trademark of Google, Inc. BlackBerry, PlayBook, Research in Motion, and RIM are registered trademarks of BlackBerry. SAP® and SAP® Business Suite® are registered trademarks of SAP SE in Germany and in several other countries. All other terms, trademarks, or service marks mentioned in this document have been capitalized and are to be considered the property of their respective owners.</p>
    </div>
  
  </div>

  <div id="revised-terms" class="modal " style="font-size: 14px;">
    <div class="modal-content scrollable-container">
      <div style="background-color: #333; color: #fff; padding: 10px;">
      <h2>Revised Volt MX product names, APIs, and Others</h2>
      <span class="close2">×</span>
    </div>
    <div class="modal-main-content scrollable">
      <p >
        This document describes the revised list of Volt MX product names, APIs, and others.
      </p>
      <ul class="inline-bullets">
        <li>Product name</li>
        <li>API</li>
        <li>Other</li>
      </ul>
    <p style="clear: both;">
      The following tables show the mapping of Volt MX new terms versus Temenos old terms.
    </p>

    <h3>Product name</h3>
    This table shows the new Volt MX product names versus old Temenos product names.
    <table>
      <tr>
        <th>New Terms (Volt MX)</th>
        <th>Old Terms (Temenos)</th>
      </tr>
      <tr>
        <td>Volt MX</td>
        <td>Quantum</td>
      </tr>
      <tr>
        <td>Iris</td>
        <td>Visualizer</td>
      </tr>
      <tr>
        <td>Foundry</td>
        <td>Mobile Fabric</td>
      </tr>
      <tr>
        <td>Foundry</td>
        <td>Fabric</td>
      </tr>
      <tr>
        <td>Flare</td>
        <td>Nitro</td>
      </tr>
      
    </table>


    <a name="api_names"><h3>API</h3></a>
    This table shows the new Volt MX APIs namespaces versus the old Temenos APIs namespaces, along with examples. The new namespaces are used throughout this documentation; however, if you use a Temenos branded version older than 9.2, you must keep using the old Temenos namespaces.
    <table>
      <tr>
        <th>New Namespace (Volt MX)</th>
        <th>Old Namespace (Temenos)</th>
      </tr>
	  <tr>
	    <td>voltmx</td>
		<td>kony</td>
	  </tr>
	  <tr>
	    <td>com.hcl.voltmx</td>
		<td>com.konylabs</td>
	  </tr>
	  <tr>
	    <td>VMXFoundry</td>
		<td>KNYMobileFabric</td>
	  </tr>
	  <tr>
	  <td colspan="2"  style="text-align:center"><b>Examples</b></td>
	  <td/>
      <tr>
        <td>voltmx.ui.Alert</td>
        <td>kony.ui.Alert</td>
      </tr>
      <tr>
        <td>voltmx.os.deviceInfo</td>
        <td>kony.os.deviceInfo</td>
      </tr>
      <tr>
        <td>com.hcl.voltmx.middleware.api</td>
        <td>com.konylabs.middleware.api</td>
      </tr>
      <tr>
        <td>com.hcl.voltmx.middleware.dataobject</td>
        <td>com.konylabs.middleware.dataobject</td>
      </tr>
	  <tr>
	    <td>VMXFoundry.OfflineObjects.drop</td>
		<td>KNYMobileFabric.OfflineObjects.drop</td>
	  </tr>
    </table>

    <h3>Other</h3>
    This table shows the new Volt MX terms versus old Temenos terms.
    <table>
      <tr>
        <th>New Terms (Volt MX)</th>
        <th>Old Terms (Temenos)</th>
      </tr>
      <tr>
        <td>vfcli.jar</td>
        <td>mfcli.jar</td>
      </tr>
      <tr>
        <td>iris</td>
        <td>viz</td>
      </tr>
      <tr>
        <td>Iris</td>
        <td>Viz</td>
      </tr>
     
    </table>
      
    </div>
      
    </div>
  </div>

    <div class="foot-wrap">
        <div class="foot-nav">
            © Copyright 2020 Temenos © <a href="#" href="#" id="copyrightBtn">Copyright</a> HCL America, Inc., 2021

            <a href="https://hcltechsw.com/wps/portal/legal/privacy" style="margin-left: 10px;">Privacy Statement</a> | <a href="https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fwww.hcltechsw.com%2Fwps%2Fportal%2Flegal%2Fterms-use&data=04%7C01%7Csuresh.chenji%40hcl.com%7Ca77ebddc51574aff8c6c08d8f056542d%7C189de737c93a4f5a8b686f4ca9941912%7C0%7C0%7C637523600856805537%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C1000&sdata=vLnT466NGuIbvQ0nEwfn2qdXeuhHb6XOnh1pibATDI4%3D&reserved=0">Terms of Use</a>
        </div>
        <ul class="social-nav">
            <li><a href="https://www.facebook.com/HCLDigital" class="facebook" target="_blank">Facebook</a></li>
            <li><a href="https://www.linkedin.com/company/hclsoftware" class="linkedin" target="_blank">LinkedIn</a></li>
            <li><a href="https://twitter.com/HCLDigital"  class="twitter" target="_blank">Twitter</a></li>
            <li><a href="https://www.youtube.com/HCLDigitalSolutions" class="youtube" target="_blank">Youtube</a></li>
        </ul>
    </div>

</footer>
<script>
  
var modal = document.getElementById("copyright-modal");
var revisedTerms = document.getElementById("revised-terms");

// Get the button that opens the modal
var btn = document.getElementById("copyrightBtn");
var rtBtn = document.querySelector(".revisedTermsBtn");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];
var span2 = document.getElementsByClassName("close2")[0];

// When the user clicks on the button, open the modal
btn.onclick = function (e) {
    e.preventDefault();
    modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
document.querySelector("span.close").onclick = function () {
    modal.style.display = "none";
}

// When the user clicks on the button, open the modal
rtBtn.onclick = function (e) {
    e.preventDefault();
    revisedTerms.style.display = "block";
}

document.querySelector("span.close2").onclick = function () {
    revisedTerms.style.display = "none";
}

document.onkeydown = function (evt) {
    evt = evt || window.event;
    if (evt.keyCode == 27) {
        modal.style.display = "none";
        revisedTerms.style.display = "none";
    }
};
// When the user clicks anywhere outside of the modal, close it
window.onclick = function (event) {
    if (event.target == modal) {
        modal.style.display = "none";
    } else if (event.target == revisedTerms) {
        revisedTerms.style.display = "none";
    }
}

// nav menu mobile screen  
if (document.documentElement.clientWidth < 800) {
    const subpageNav = document.getElementById('sub-site-nav');
    const submainmenuButton = document.getElementById('sub-menu-button');

    submainmenuButton.addEventListener('click', function () {

        document.getElementById('site-nav').classList.remove('nav-open');
        subpageNav.classList.toggle('nav-open');

    });
}


// horizontal resize of left and right navigation panels
const bar = document.querySelector('.split__bar');
const bar1 = document.querySelector('.split__bar1');
const left = document.querySelector('.side-bar');
const middle = document.querySelector('.main');

const right = document.querySelector('.right-menu');

// side panel collapse and expand buttons 
var togBtn = document.getElementById('left-close');
var togBtnRight = document.getElementById('right-close');
if (togBtn) {
    togBtn.addEventListener('click', (e) => {
        e.preventDefault();
        left.classList.toggle('close-nav');
        left.style.width = "264px";
        togBtn.classList.toggle('flip');

    });
}
if (togBtnRight) {
    togBtnRight.addEventListener('click', (e) => {
        e.preventDefault();
        right.classList.toggle('close-nav');
        right.style.width = "264px";
        togBtnRight.classList.toggle('flip');
    });

}
let mouse_is_down = false;
if (bar) {
    bar.addEventListener('mousedown', (e) => {
        mouse_is_down = true;
    })
}


document.addEventListener('mousemove', (e) => {
    if (!mouse_is_down) return;
    left.style.width = `${e.clientX}px`;
})

document.addEventListener('mouseup', () => {
    mouse_is_down = false;
})



let mouse_is_down1 = false
if (bar1) {
    bar1.addEventListener('mousedown', (e) => {
        mouse_is_down1 = true;
    })
}


document.addEventListener('mousemove', (e) => {
    if (!mouse_is_down1) return;

    right.style.width = `${window.innerWidth - e.clientX}px`;
})

document.addEventListener('mouseup', () => {
    mouse_is_down1 = false;

});



//parentDiv is our max parent selector

function getParents(el, parentSelector) {
    if (parentSelector === undefined) {
        parentSelector = document;
    } else if (el === undefined) {
        return;
    }
    var parents = [];
    var p = el.parentNode;
    while (p !== parentSelector) {
        var o = p;
        parents.push(o);
        p = o.parentNode;
    }
    parents.push(parentSelector);
    return parents;
}



// var current = window.location.href;
var current = window.location.pathname + window.location.hash;
const allLinks = document.querySelectorAll('a.nav-list-link')
const rightLinks = document.querySelectorAll('.right-menu a.nav-list-link')


var activeLink;
var parentDiv = document.getElementById("sub-site-nav") || document.getElementById("site-nav");


for (var j = 0; j < allLinks.length; j++) {
    if (current == allLinks[j].pathname + allLinks[j].hash) {
        allLinks[j].classList.add('active')
        activeLink = allLinks[j];

    } else {
        allLinks[j].classList.remove('active')

    }
}

const parents = getParents(activeLink, parentDiv);
if (parents) {
    for (var i = 0; i < parents.length; i++) {

        if (parents[i].nodeName == 'LI') {
            parents[i].classList.add('active')
        }

    }
    activeLink.parentNode.classList.remove('active');
}
for (const item of rightLinks) {

    item.addEventListener('click', function (event) {
        //...
        event.stopPropagation();
        this.parentNode.classList.remove('active');
        for (var i = 0; i < rightLinks.length; i++) {
            rightLinks[i].classList.remove('active');
        }

        this.classList.add('active')
    })
}


  </script>

</body>
</html>
