<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  

  <link rel="shortcut icon" href="/volt-mx-docs/favicon.ico" type="image/x-icon">

  <link rel="stylesheet" href="/volt-mx-docs/assets/css/just-the-docs-default.css">
  <link rel="stylesheet" href="/volt-mx-docs/assets/css/custom.css">
  

  
    <script type="text/javascript" src="/volt-mx-docs/assets/js/vendor/lunr.min.js"></script>
  
  <script type="text/javascript" src="/volt-mx-docs/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Volt MX | Industry-leading low-code application development platform for delivering beautiful apps across multiple digital touch points with one platform.</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Volt MX" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Industry-leading low-code application development platform for delivering beautiful apps across multiple digital touch points with one platform." />
<meta property="og:description" content="Industry-leading low-code application development platform for delivering beautiful apps across multiple digital touch points with one platform." />
<link rel="canonical" href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html" />
<meta property="og:url" content="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html" />
<meta property="og:site_name" content="Volt MX" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Volt MX" />
<script type="application/ld+json">
{"@type":"WebPage","url":"https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html","headline":"Volt MX","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://hcl-tech-software.github.io/volt-mx-docs/Volt_Mx_logo.png"}},"description":"Industry-leading low-code application development platform for delivering beautiful apps across multiple digital touch points with one platform.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  
</head>

<body>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-search" viewBox="0 0 24 24">
    <title>Search</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
      <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
    </svg>
  </symbol>
</svg>

<div class="header-wrap">
  
  <div class="top-header">
    <div class="site-header">
      <a href="https://hcl-tech-software.github.io/volt-mx-docs/" class="site-title lh-tight">
  <div class="site-logo"></div>

</a>
      <a href="#" id="mainmenu-button"  class="site-button">
        <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
      </a>
    </div>
  </div>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="svg-link" viewBox="0 0 24 24">
      <title>Link</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
      </svg>
    </symbol>
    <symbol id="svg-search" viewBox="0 0 24 24">
      <title>Search</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
        <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
    </symbol>
    <symbol id="svg-menu" viewBox="0 0 24 24">
      <title>Menu</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
        <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </symbol>
    <symbol id="svg-arrow-right" viewBox="0 0 24 24">
      <title>Expand</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    </symbol>
    <symbol id="svg-doc" viewBox="0 0 24 24">
      <title>Document</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
        <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
      </svg>
    </symbol>
  </svg>

  <div id="main-header" class="main-header">
  
  
  <!-- <div class="search-prepare" id="search-prepare">
    <p><img src=" /volt-mx-docs/assets/images/preload.gif" style="height: 24px; width: 24px; margin-right: 5px;" /> Preparing your search results...</p>
  </div>  -->
    <div class="search">
   
      <div class="search-input-wrap">
        <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="search resources..." aria-label="Search Volt MX" autocomplete="off">
        <label for="search-input" class="search-label" id="searchButton"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
                </div>
                       
      <div id="search-results" class="search-results"></div>

      
    </div>
  

  <!-- delete below styles if you uncomment all page-nav links -->
  <style>
    @media (min-width: 50rem){
      .page-nav {right: 400px;top: 0;}
      .search-input-wrap {max-width: 400px;}
    }

  </style>

<!-- below are page-nav links - delete above styles if uncommenting -->
  <ul class="page-nav" id="page-nav">
   <!-- <li><a href="#">Community</a></li> -->
   <li><a href="https://volt-mx.hcltechsw.com/" >Ideas</a></li>
   <li><a href="#" class="active">Learn</a></li>
   <!-- <li><a href="#">Releases</a></li>
   <li><a href="#">Training</a></li>
   <li><a href="#">Ideas</a></li>
   <li><a href="#">Marketplace</a></li>
   <li><a href="#">Login</a></li> -->
 </ul>
 

 
</div>
<script>
  const pageNav = document.getElementById('page-nav');
   const mainHeader = document.getElementById('main-header');
   const mainmenuButton = document.getElementById('mainmenu-button');
 (function(){
  
  mainmenuButton.addEventListener('click', function(){
    pageNav.classList.toggle('nav-open');
});
})();

</script>
  <div class="sub-nav-wrap" id="myDIV">
    <ul class="sub-nav">
        <li class="home-link">
            <a href="/volt-mx-docs/"  class="sub-link ">Home</a>
        </li>
        <!-- <li>
            <a href="/volt-mx-docs/docs/getting-started/"  class="sub-link">Getting Started</a>
        </li> -->
        <li>
            <a href="/volt-mx-docs/docs/tutorials/" class="sub-link ">Tutorials</a>
        </li>
        <li>
            <a href="/volt-mx-docs/docs/documentation/" class="sub-link" id="docLink">Documentation</a>
        </li>
        <li>
            <!-- <a href="/volt-mx-docs/docs/articles/" title="test" class="sub-link">Articles</a> -->
            <a href="https://support.hcltechsw.com/csm?id=kb_search&spa=1&kb_category=db382ff1db631c14a45ad9fcd3961936" title="Articles" class="sub-link">Articles</a>
        </li>
        <li>
            <a href="https://academy.hcltechsw.com/#VoltMxLearningJourneys" title="Articles" class="sub-link">Software Academy</a>
        </li>
    </ul>

    <div class="category-wrap">
    <a href="#" id="menu-button" class="site-button">
        <!-- <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> -->
        select a topic <svg viewBox="0 0 24 24" class="carat-topic"><use xlink:href="#svg-arrow-right"></use></svg>
      </a>
      
          <a href="#" id="sub-menu-button" class="sub-site-button">
             <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
          </a></div>    
</div><style>
    @media (min-width: 50rem) {
    .content-wrap {top: 134px; height: calc(100% - 185px);}
    }   
</style>
<div class="head-ribbon">
    Kony Quantum is now HCL Volt MX. See <a href="#" class="revisedTermsBtn">Revised Terminology</a>. Current Quantum users, see the important note about API naming.  
</div>
</div> 

<style>
  .sub-nav a[href*="/documentation/"] {
   border-bottom: 3px #d694f9 solid;
} 
</style>

<div class="content-wrap ">
  <div class="side-bar scrollable-container">
      <div class="version-dropdown">
        Release:  
        <select name="version" id="version">
            <option value="V9">V9</option>
        </select>
      </div>
    <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav scrollable" >
      <ul class="nav-list"><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/VMX_release_notes.html" class="nav-list-link">Volt MX Release Notes</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/" class="nav-list-link">Fundamentals</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/projectorg.html" class="nav-list-link">Project Organization</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/appUserInterface.html" class="nav-list-link">App User Interface</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/widgetApiReference.html" class="nav-list-link">Widgets & API Reference</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/webAppDevelopment.html" class="nav-list-link">Web App Development</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/buildAndPublish.html" class="nav-list-link">Build and Publish</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/dataBackEndIntergration.html" class="nav-list-link">Data & Back-end Integration</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/extensibility.html" class="nav-list-link">Extensibility</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/security.html" class="nav-list-link">Security</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/voltmxFoundryFundamentals.html" class="nav-list-link">Volt MX Foundry Fundamentals</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/howTosSampleApps.html" class="nav-list-link">How Tos & Sample Apps</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/dataIntegrationServices.html" class="nav-list-link">Data Integration Services</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/offlineObjects.html" class="nav-list-link">Offline Objects</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/apiMangement.html" class="nav-list-link">API Management</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/appServicesAdminitration.html" class="nav-list-link">App Services Administration</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/foundrySDKs.html" class="nav-list-link">Foundry SDKs</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/advancedServerFeature.html" class="nav-list-link">Advanced Server Features</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/analyticsAndApm.html" class="nav-list-link">Analytics and APM</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/engagementServices.html" class="nav-list-link">Engagement Services</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/quantumSync.html" class="nav-list-link">Volt MX Legacy Sync (Deprecated)</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/devOps.html" class="nav-list-link">DevOps</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/heradlessAndContinuousIntegration.html" class="nav-list-link">Headless and Continuous Integration Build</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/installationManagement.html" class="nav-list-link">Installation & Management</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/deployment.html" class="nav-list-link">Deployment</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/documentation73and70.html" class="nav-list-link">Documentation for 7.3 and 7.0 Releases</a></li></ul>
    </nav>
  </div>
  <div class="split-hold" >
    <div class="split__bar"></div>
    <div class="closeclick" id="left-close"></div>
  </div>
  
  
  <!-- start main  -->
  <div class="main scrollable-container resizable-right" id="top">
      
    <div id="main-content-wrap" class="main-content-wrap scrollable">
      
     
      
      
      
      <div id="main-content" class="main-content" role="main">
        
          <p>Volt MX  Foundry on MS Azure: <a href="#appendices">Appendices</a> &gt; Prerequisite Packages</p>
      <h1 id="appendices">
        
        
          <a href="#appendices" class="anchor-heading" aria-labelledby="appendices"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Appendices
        
        
      </h1>
    
      <h2 id="prerequisite-packages">
        
        
          <a href="#prerequisite-packages" class="anchor-heading" aria-labelledby="prerequisite-packages"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Prerequisite Packages
        
        
      </h2>
    

<p>White-list the <a href="https://packages.microsoft.com/repos/azure-cli/">https://packages.microsoft.com/repos/azure-cli/</a> URL to allow the Volt MX Foundry Containers on Azure Solution to download Azure CLI.</p>
      <h2 id="network-settings---accessing-azure-sqldatabase">
        
        
          <a href="#network-settings---accessing-azure-sqldatabase" class="anchor-heading" aria-labelledby="network-settings---accessing-azure-sqldatabase"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Network Settings - Accessing Azure SQL Database
        
        
      </h2>
    

<p>Communication from HCL’s License servers will originate from the following HCL IP address, which should be white-listed in an organization’s firewall configuration:</p>

<ul>
  <li>115.113.211.130</li>
</ul>

<p>White-listing the HCL IP address enables access to the Azure SQL Database.</p>
      <h2 id="configuring-natgateway">
        
        
          <a href="#configuring-natgateway" class="anchor-heading" aria-labelledby="configuring-natgateway"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuring NAT Gateway
        
        
      </h2>
    

<p>A network address translation (NAT) gateway is used to enable instances in a private subnet to connect to the internet or other AWS services, but prevent the internet from initiating a connection with those instances. For more information about NAT, see <a href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-nat.html">NAT</a>.</p>

<p>From V8 SP4 onwards, Volt MX Foundry on Azure will support the routing of private subnets through a NAT instance.</p>

<p>To enable NAT Gateway:</p>

<ul>
  <li>Set the <strong>AZURE_FIREWALL_ENABLED</strong> flag in properties file to <strong>true</strong>.</li>
</ul>

<p>Azure Firewall acts as NAT Gateway. All the internet traffic from Kubernetes nodes(VMs) is routed through the NAT Gateway. Deployment of Azure Firewall will increase the overall cost. The cost for Firewall in the east US region is $1.25/hour in Azure. On a monthly basis, the cost of azure firewall deployment costs around 900$. If you do not want to configure the NAT Gateway, disable the firewall deployment by setting the <strong>AZURE_FIREWALL_ENABLED</strong> flag to <strong>false</strong>.</p>
      <h2 id="hosting-your-domain-with-azure-dns">
        
        
          <a href="#hosting-your-domain-with-azure-dns" class="anchor-heading" aria-labelledby="hosting-your-domain-with-azure-dns"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Hosting your domain with Azure DNS
        
        
      </h2>
    

<p>The Domain Name System, or DNS, is responsible for translating (or resolving) a website or service name to its IP address. Azure DNS is a hosting service for DNS domains, providing name resolution using Microsoft Azure infrastructure. By hosting your domains in Azure, you can manage your DNS records using the same credentials, APIs, tools, and billing as your other Azure services.</p>

<p>Follow these steps to create your first DNS zone and record using the Azure Portal:</p>

<ol>
  <li><strong>Create a DNS Zone</strong>
    <ol>
      <li>Sign in to the Azure portal.</li>
      <li>On the Hub menu, click <strong>Create a resource</strong> &gt; <strong>Networking</strong> &gt; and then click <strong>DNS zone</strong> to open the <strong>Create DNS zone</strong> page.<br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Create_DNS_529x546.png" alt="" /></li>
      <li>On the <strong>Create DNS zone</strong> page enter the following values, then click <strong>Create</strong>:</li>
    </ol>

    <table>
      <thead>
        <tr>
          <th>Setting</th>
          <th>Value</th>
          <th>Details</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Name</td>
          <td>customdomainname.com</td>
          <td>The name of the DNS zone</td>
        </tr>
        <tr>
          <td>Subscription</td>
          <td>[Your subscription]</td>
          <td>Select a subscription to create the DNS zone in.</td>
        </tr>
        <tr>
          <td>Resource group</td>
          <td>Create new: testresourcegroup</td>
          <td>Create a resource group. The resource group name must be unique within the subscription you selected.</td>
        </tr>
        <tr>
          <td>Location</td>
          <td>West US</td>
          <td> </td>
        </tr>
      </tbody>
    </table>

    <blockquote>
      <p><strong><em>Note:</em></strong> The resource group refers to the location of the resource group, and has no impact on the DNS zone. The DNS zone location is always <strong>global</strong>, and is not shown.</p>
    </blockquote>
  </li>
  <li><strong>Create a DNS Record</strong>
    <ol>
      <li>Go to <strong>DNS Zones</strong> in the Azure portal and select <strong>customdomainname.com</strong> DNS zone in the list.</li>
      <li>At the top of the <strong>DNS zone page</strong>, select <code class="language-plaintext highlighter-rouge">+ Record</code> set to open the <strong>Add record set</strong> page.</li>
      <li>On the <strong>Add record set</strong> page, enter the following values, and click <strong>OK</strong>. In this example, you are creating a CNAME record.</li>
    </ol>

    <table>
      <thead>
        <tr>
          <th>Setting</th>
          <th>Value</th>
          <th>Details</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Name</td>
          <td>www</td>
          <td>Name of the record.</td>
        </tr>
        <tr>
          <td>Type</td>
          <td>CNAME</td>
          <td>Type of DNS record you want to create. Acceptable values are A, AAAA, CNAME, MX, NS, SRV, TXT, and PTR. For more information about record types, visit <a href="https://docs.microsoft.com/en-us/azure/dns/dns-zones-records">Overview of DNS zones and records</a>.</td>
        </tr>
        <tr>
          <td>TTL</td>
          <td>1</td>
          <td>Time-to-live of the DNS request.</td>
        </tr>
        <tr>
          <td>TTL unit</td>
          <td>Hours</td>
          <td>Measurement of time for TTL value.</td>
        </tr>
        <tr>
          <td>IP Address</td>
          <td>Alias value</td>
          <td>This value is the Alias that the DNS record resolves.</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>Update Name Servers<br />
Once you are satisfied that your DNS zone and records have been set up correctly, you need to configure your domain name to use the Azure DNS name servers. This enables other users on the Internet to find your DNS records. The name servers for your zone are given in the Azure portal:<br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Name_Servers_569x374.png" alt="" /><br />
These name servers should be configured with the domain name registrar (where you purchased the domain name). Your registrar offers the option to set up the name servers for the domain. For more information, refer <a href="https://docs.microsoft.com/en-us/azure/dns/dns-domain-delegation">Delegate your domain to Azure DNS</a>.</li>
</ol>

<blockquote>
  <p><strong><em>Note:</em></strong> Currently, Azure DNS does not support purchasing of domain names. If you want to purchase domains, you need to use a third-party domain name registrar. The domains can then be hosted in Azure DNS for management of DNS records.</p>
</blockquote>
      <h2 id="generating-a-pfx-file-from-pem">
        
        
          <a href="#generating-a-pfx-file-from-pem" class="anchor-heading" aria-labelledby="generating-a-pfx-file-from-pem"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Generating a PFX file from PEM
        
        
      </h2>
    

<p>Different platforms and devices require SSL certificates to be converted to different formats. Use the following command to generate the <strong>.pfx</strong> file from a <strong>.pem</strong> file:</p>

<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">$ openssl pkcs12 -inkey private.pem -in public.pem -export -out certificate.pfx -passout
 pass:xxxxxxxx -certfile more.crt</code></pre></figure>

<p>Breaking down the command:</p>

<ul>
  <li><strong>openssl</strong> – Is the command for executing OpenSSL</li>
  <li><strong>pkcs12</strong> – Is the file utility for PKCS#12 files in OpenSSL</li>
  <li><strong>-export -out certificate.pfx</strong> – Helps export and save the PFX file as certificate.pfx</li>
  <li><strong>-inkey privateKey.key</strong> – Uses the private key file privateKey.pem as the private key to combine with the certificate.</li>
  <li><strong>-in infile</strong> - Is this parameter for input filename</li>
  <li><strong>-passout p</strong> - Is the output file to pass phrase source. Should be passed as pass:<password></password></li>
  <li><strong>-certfile more.crt</strong> – This is optional, this is if you have any additional certificates you would like to include in the PFX file.</li>
</ul>
      <h2 id="extracting-logs-from-your-application">
        
        
          <a href="#extracting-logs-from-your-application" class="anchor-heading" aria-labelledby="extracting-logs-from-your-application"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Extracting Logs from your Application
        
        
      </h2>
    

<p>If you want to extract logs from a container, execute the following commands from your terminal:</p>

<table>
  <thead>
    <tr>
      <th>COMMAND</th>
      <th>LOG</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>$ kubectl config current-context</td>
      <td>Display the current-context</td>
    </tr>
    <tr>
      <td>$ kubectl config use-context &lt;cluster-name&gt;</td>
      <td>Set the default context to the cluster-name if the current context does not point to the Volt MX Foundry cluster.</td>
    </tr>
    <tr>
      <td>$ kubectl get pods</td>
      <td>Lists all the pods</td>
    </tr>
    <tr>
      <td>$ kubectl logs -f &lt;pod-name&gt;</td>
      <td>To tail logs from a specific pod</td>
    </tr>
    <tr>
      <td>$ kubectl logs pod-name &gt; logs.txt</td>
      <td>To extract the logs of a specific pod to local file</td>
    </tr>
  </tbody>
</table>
      <h2 id="connecting-to-aks-nodes-through-jumpbox">
        
        
          <a href="#connecting-to-aks-nodes-through-jumpbox" class="anchor-heading" aria-labelledby="connecting-to-aks-nodes-through-jumpbox"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Connecting to AKS nodes through Jumpbox
        
        
      </h2>
    

<ol>
  <li>
    <p>Get the Public IP of the Jumpbox from the Azure Portal.</p>
  </li>
  <li>
    <p>Use the following SSH command to connect to the Jumpbox:</p>
  </li>
</ol>

<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">$ ssh username@publicip
    </code></pre></figure>

<p>The default username is <strong>devops</strong> and password is <strong>Devops@12345</strong>.</p>

<ol>
  <li>
    <p>To log in to Azure Kubernetes node from Jumpbox, you need to get the Private IP of the node from the Azure Portal.</p>
  </li>
  <li>
    <p>Use the private key of the public key you have provided during Volt MX Foundry installation. Copy the private key to Jumpbox. Make sure you delete the key during logout.</p>
  </li>
  <li>
    <p>Execute the following command to login to AKS node:</p>
  </li>
</ol>

<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">$ ssh -i key.pem username@privateIpOfNode
    </code></pre></figure>

<p>The default username is <strong>azureuser</strong>.</p>
      <h2 id="log-analytics">
        
        
          <a href="#log-analytics" class="anchor-heading" aria-labelledby="log-analytics"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Log Analytics
        
        
      </h2>
    

<p>Microsoft Azure provides OMS (Operation Management Suite) Log Analytics solution to view the application logs. If you enable the flag for installation of log analytics solution (AZURE_LOG_ANALYTICS_ENABLED) in the properties file, then the Operations Management Workspace is created in the Azure Resource Group.</p>

<p>Follow these steps to view the application specific logs:</p>

<ol>
  <li>
    <p>Navigate to <a href="http://portal.azure.com/">http://portal.azure.com/</a>.</p>
  </li>
  <li>On the home page, select the resource group in which the AKS cluster is created. You can find the resource group (AZURE_RESOURCE_GROUP) in the properties file which was used in the VoltMX Foundry installation.
<br /><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Log_Analytics_1_574x313.png" alt="" /></li>
  <li>Select <strong>Containers</strong> solution.
<br /><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Log_Analytics_2_572x299.png" alt="" /></li>
  <li>Select <strong>Container Monitoring Solution</strong>.
<br /><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Log_Analytics_3_574x303.png" alt="" /></li>
  <li>Select <strong>CONTAINER LOGS.</strong>
<br /><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Log_Analytics_4_578x278.png" alt="" /></li>
  <li>In the <strong>Log Search</strong> page, you need to execute the following queries to fetch the logs.
<br /><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Log_Analytics_5_568x253.png" alt="" /></li>
</ol>

<ul>
  <li><code class="language-plaintext highlighter-rouge">ContainerLog | where LogEntrySource == "stdout" | sort by TimeGenerated desc</code> - To fetch all the logs.</li>
  <li><code class="language-plaintext highlighter-rouge">ContainerLog | where LogEntrySource == "stderr" | sort by TimeGenerated desc</code> - To fetch all the error logs.</li>
</ul>
      <h3 id="search-logs">
        
        
          <a href="#search-logs" class="anchor-heading" aria-labelledby="search-logs"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Search Logs
        
        
      </h3>
    

<ul>
  <li>Using Docker Image Name:</li>
</ul>

<p>If you want to view feature specific (console, identity, integration, engagement, API Portal) logs, select the respective image.</p>

<table>
  <thead>
    <tr>
      <th>Feature</th>
      <th>Docker image</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Console</td>
      <td>VoltMX-foundry-console</td>
    </tr>
    <tr>
      <td>Identity</td>
      <td>VoltMX-foundry-identity</td>
    </tr>
    <tr>
      <td>Integration</td>
      <td>VoltMX-foundry-integration</td>
    </tr>
    <tr>
      <td>Engagement</td>
      <td>VoltMX-foundry-engagement</td>
    </tr>
    <tr>
      <td>API Portal</td>
      <td>VoltMX-foundry-apiportal</td>
    </tr>
  </tbody>
</table>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/DockerImgName_Search1_582x288.png" alt="" /></p>

<p>The image name gets appended to the query when you select the image. Execute the new query to get logs specific to the image.</p>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/DockerImgName_Search2_579x96.png" alt="" /></p>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/DockerImgName_Search3_578x325.png" alt="" /></p>

<ul>
  <li>Using content</li>
</ul>

<p>When you want to search specific key word in the logs execute the following query:</p>

<p><code class="language-plaintext highlighter-rouge">ContainerLog | where LogEntrySource == "stdout" | where Image == "&lt;image-name&gt;" | sort by TimeGenerated desc | search "&lt;keyword&gt;</code>”</p>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Search_Content1_578x355.png" alt="" /></p>

<p>You can also apply filters to the logs. Filters can be applied to any column.</p>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Search_Content2_577x348.png" alt="" /></p>

<ul>
  <li>Using request ID</li>
</ul>

<p>To view the logs based on request id, you need to apply a filter on the <strong>Log Entry</strong> column.</p>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Search_ReqID_573x279.png" alt="" /></p>

<ul>
  <li>Using date range</li>
</ul>

<p>You can select custom date range to access the logs.</p>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Search_DateRange_580x285.png" alt="" /></p>

<ul>
  <li>By pod name</li>
</ul>

<p>You can fetch the logs specific to a pod in the kubernetes cluster.</p>

<table>
  <thead>
    <tr>
      <th>Feature</th>
      <th>Pod name prefix</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Console</td>
      <td>K8s_VoltMX-foundry-console</td>
    </tr>
    <tr>
      <td>Identity</td>
      <td>K8s_VoltMX-foundry-identity</td>
    </tr>
    <tr>
      <td>Integration</td>
      <td>K8s_VoltMX-foundry-integration</td>
    </tr>
    <tr>
      <td>Engagement</td>
      <td>K8s_VoltMX-foundry-engagement</td>
    </tr>
    <tr>
      <td>Api Portal</td>
      <td>K8s_VoltMX-foundry-apiportal</td>
    </tr>
  </tbody>
</table>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Search_PodName_576x329.png" alt="" /></p>
      <h2 id="new-relic-monitoring">
        
        
          <a href="#new-relic-monitoring" class="anchor-heading" aria-labelledby="new-relic-monitoring"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> New Relic Monitoring
        
        
      </h2>
    

<p>New Relic is a monitoring system that enables you to understand the performance of the application, dependencies, bottlenecks, and also increases the efficiency and accuracy. New Relic enables you to:</p>

<ul>
  <li>Get a complete overview of the application and the operating environment.</li>
  <li>Manage your application’s performance.</li>
  <li>Identify and troubleshoot bottlenecks.</li>
  <li>Analyze data about customers’ usage and experience.</li>
  <li>Monitor your technical resources and ecosystem.</li>
</ul>

<p>Monitoring of Volt MX Foundry on Azure using New Relic is performed at two levels:</p>

<ul>
  <li>Infrastructure Monitoring</li>
  <li>Application Performance Monitoring</li>
</ul>

<p><strong>Infrastructure Monitoring</strong> enables you to monitor node-level metrics like CPU, Memory, Disk Usage, Average load, and I/O metrics.</p>

<p><strong>Application Performance Monitoring</strong> enables you to view application performance trends like page load times, error rates, slow transactions, and a list of servers running the application in the real-time. It helps in identifying and troubleshooting the issues and metrics of Transactions, Databases, JVM’s, Error analytics of each pod individually.</p>
      <h3 id="enabling-new-relic-monitoring-in-microsoft-azure-cloud">
        
        
          <a href="#enabling-new-relic-monitoring-in-microsoft-azure-cloud" class="anchor-heading" aria-labelledby="enabling-new-relic-monitoring-in-microsoft-azure-cloud"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Enabling New Relic Monitoring in Microsoft Azure Cloud
        
        
      </h3>
    

<p>You must have a <strong>New Relic license key</strong> to enable New Relic Monitoring in Microsoft Azure cloud. For more information, refer <a href="https://docs.newrelic.com/docs/accounts/install-new-relic/account-setup/license-key">license key</a>.</p>

<p>Follow these steps to enable New Relic Monitoring in Microsoft Azure cloud:</p>

<ul>
  <li>To enable <strong>New Relic Infrastructure Monitoring</strong>, change the value of <code class="language-plaintext highlighter-rouge">NEW_RELIC_INFRA_MONITORING_ENABLED</code> to <strong>true</strong> in the  <code class="language-plaintext highlighter-rouge">trial.properties</code>  or  <code class="language-plaintext highlighter-rouge">enterprise.properties</code> file.</li>
  <li>To enable <strong>New Relic Application Performance Monitoring</strong>, change the value of <code class="language-plaintext highlighter-rouge">NEW_RELIC_APP_PERF_MONITORING_ENABLED</code> to <strong>true</strong> in the <code class="language-plaintext highlighter-rouge"> trial.properties </code> or  <code class="language-plaintext highlighter-rouge">enterprise.properties</code> file.</li>
  <li>Provide the <strong>New Relic Authorized license key</strong> for the <code class="language-plaintext highlighter-rouge">NEW_RELIC_LICENSE_KEY</code> parameter in the  <code class="language-plaintext highlighter-rouge">trial.properties</code>  or   <code class="language-plaintext highlighter-rouge">enterprise.properties</code>  file.</li>
</ul>
      <h3 id="accessing-new-relic-monitoring-data">
        
        
          <a href="#accessing-new-relic-monitoring-data" class="anchor-heading" aria-labelledby="accessing-new-relic-monitoring-data"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Accessing New Relic Monitoring Data
        
        
      </h3>
    

<p>Follow these steps to view the business insights or application performance results:</p>

<ol>
  <li>Create a <strong>New Relic</strong> account to get the required <code class="language-plaintext highlighter-rouge">NEW_RELIC_LICENSE_KEY</code> to enable the <strong>New Relic Monitoring</strong> feature.</li>
  <li><strong>Sign in</strong> to the New Relic portal by providing your credentials at <a href="https://rpm.newrelic.com/accounts/2056095/applications">https://rpm.newrelic.com/accounts/2056095/applications</a>.
<br /><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/New_Relic_login_600x335.png" alt="" /></li>
  <li>Choose the required monitoring option in the upper left corner of the New Relic portal. Select <strong>APM</strong> for Application Performance Monitoring and <strong>INFRASTRUCTURE</strong> for Infrastructure Monitoring.
<br /><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/New_Relic_APM_600x336.png" alt="" /></li>
</ol>
      <h4 id="application-performance-monitoring">
        
        
          <a href="#application-performance-monitoring" class="anchor-heading" aria-labelledby="application-performance-monitoring"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Application Performance Monitoring</strong>
        
        
      </h4>
    

<p><br />In APM, you can view the metrics of Volt MX Foundry <strong>Kubernetes</strong> <strong>pods</strong> deployed on Microsoft Azure Kubernetes cluster.<br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/NR_APM_pods_641x360.png" alt="" /><br />
Select a specific pod to view the performance metrics of that pod.<br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/NR_pod_metrics_640x359.png" alt="" /></p>

<p>You can view various application performance metrics by selecting the options from the left navigation pane.</p>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/NR_APM_navig_640x359.png" alt="" /></p>

<ul>
  <li><strong>Distributed tracing</strong> lets you trace the path of a single request in a complex system. You can understand the entire chain of events, discover the latency of that complete request, and know which step in the path is creating a bottleneck.</li>
  <li><strong>Service maps</strong> show the connections and dependencies of your app, including databases and external services.<br />
Health indicators and performance metrics show you the current operational status for every part of your architecture.</li>
  <li>The <strong>Transactions</strong> screen provides an overview of the throughput metrics and the top five time-consuming transactions.</li>
</ul>

<p>A <strong>transaction trace</strong> gives a detailed snapshot of a single transaction in your application. It records the available function calls, database calls, and external calls. You can use transaction traces to troubleshoot performance issues and get detailed low-level insight into how your app is working.</p>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/NR_APM_Transaction_601x336.png" alt="" /></p>

<ul>
  <li>The <strong>Databases</strong> screen provides a detailed overview of the performance of your database - pointing out critical errors that are slowing down your application. The database overview provides a stack ranking of the most time-consuming database calls along with aggregated metrics around response times, throughput, and slow SQL traces.</li>
</ul>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/NR_APM_Databases_601x336.png" alt="" /></p>

<ul>
  <li>The <strong>External services</strong> screen captures calls to out-of-process services such as web services, resources in the cloud, and any other network calls. The external services dashboard provides charts with your top five external services by response time and external calls per minute.</li>
</ul>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/NR_APM_ExtService_599x334.png" alt="" /></p>

<ul>
  <li>The <strong>JVMs</strong> screen captures metrics that include thread activity, HTTP session data, connection pool metrics, class load (or) unload counts, and so on.</li>
</ul>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/NR_APM_JVM_599x335.png" alt="" /></p>
      <h4 id="infrastructure-monitoring">
        
        
          <a href="#infrastructure-monitoring" class="anchor-heading" aria-labelledby="infrastructure-monitoring"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Infrastructure Monitoring</strong>
        
        
      </h4>
    

<p>In the <strong>Infrastructure</strong> portal of <strong>New Relic Monitoring</strong>, you can view the Infrastructure metrics of Volt MX Foundry.</p>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/New_Relic_Infra_638x357.png" alt="" /></p>

<p>You can view various infrastructure level metrics by selecting different options from the top navigation pane.</p>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/NR_Infra_top_nav_641x359.png" alt="" /></p>

<ul>
  <li>The <strong>Hosts</strong> screen helps you understand the performance metrics such as CPU usage, load average, and memory used.</li>
  <li>The <strong>Network</strong> screen provides real-time visibility into the health and performance of individual hosts, web servers, or other groups of resources across your network. Charts include bandwidth metrics by packet, bandwidth by bytes, and errors per second.</li>
</ul>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/NR_Infra_Network_600x337.png" alt="" /></p>

<ul>
  <li>The <strong>Storage</strong> screen allows you to monitor the capacity and efficiency of your resources, overall utilization, disk usage, or I/O operations.</li>
</ul>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/NR_Infra_Storage_598x334.png" alt="" /></p>

<ul>
  <li>The <strong>Processes</strong> screen lets you view information about the processes running on your infrastructure and set alerts on process metrics.</li>
</ul>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/NR_Infra_Processes_602x336.png" alt="" /></p>

<ul>
  <li>The <strong>Inventory</strong> screen provides a real-time view to filter and search the inventories in each host’s configuration</li>
  <li>The <strong>Events</strong> screen is a live feed of important system and host activity; including inventory change events, configuration changes, and log analytics events. The event feed helps you understand the correlations between the events and the performance of your system. You can search and filter your events to decrease the mean time to detect and repair the infrastructure issues.</li>
</ul>

<p>The <strong>INSIGHTS</strong> tab leverages the data from New Relic’s other products to allow you to analyze user behavior, business transactions, customer insights, and more. Using the Insights interface, you can quickly and easily build dashboards to identify problems with your apps and hosts in real-time or to track ongoing data trends.</p>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/NR_Infra_Insight_639x311.png" alt="" /></p>

<p>Select a Dashboard from Kubernetes insights window to view the data about container CPU usage, container memory usage, container restarts, resources used etc.</p>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/NR_Insight_CPU_640x286.png" alt="" /></p>
      <h2 id="rolling-updates">
        
        
          <a href="#rolling-updates" class="anchor-heading" aria-labelledby="rolling-updates"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Rolling Updates
        
        
      </h2>
    

<p>Microsoft Azure provides rolling updates feature to update the deployment with zero downtime by incrementally updating the pod instances with new pods.</p>

<p>Using the rolling updates feature, you can perform the following actions:</p>

<ul>
  <li>Update kubernetes pod configuration.
    <ul>
      <li>Update the properties in the deployment section.</li>
      <li>Update the <code class="language-plaintext highlighter-rouge">-d</code> parameters.</li>
    </ul>
  </li>
  <li>Increase or decrease the pod count.</li>
  <li>Update the docker image of the container present in the pod.</li>
</ul>
      <h3 id="prerequisites">
        
        
          <a href="#prerequisites" class="anchor-heading" aria-labelledby="prerequisites"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Prerequisites
        
        
      </h3>
    

<p><strong>Following are the prerequisites to perform rolling updates:</strong></p>

<ul>
  <li>Linux machine with Ubuntu 16.04 installed.</li>
  <li>Unzipped directory of the <strong>VoltMX Foundry installation zip</strong> (Use the same unzipped directory of the Volt MX Foundry installation which was used for the initial Volt MX Foundry setup).</li>
</ul>

<blockquote>
  <p><strong><em>Note:</em></strong> You can update the following Volt MX Foundry pods using the rolling update feature:</p>
  <ul>
    <li>voltmx-foundry-apiportal</li>
    <li>voltmx-foundry-console</li>
    <li>voltmx-foundry-engagement</li>
    <li>voltmx-foundry-identity</li>
    <li>voltmx-foundry-integration</li>
  </ul>
</blockquote>
      <h3 id="execute-rolling-updates-in-azure-kubernetes-cluster">
        
        
          <a href="#execute-rolling-updates-in-azure-kubernetes-cluster" class="anchor-heading" aria-labelledby="execute-rolling-updates-in-azure-kubernetes-cluster"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Execute Rolling Updates in Azure Kubernetes Cluster
        
        
      </h3>
    

<p>To execute the rolling updates in Azure Kubernetes cluster, perform the following steps.</p>

<ol>
  <li>Log on to the <strong>Linux machine.</strong></li>
  <li>Perform the following actions in the unzipped directory of the Volt MX Foundry on Azure setup.
    <ol>
      <li>Provide the inputs in the properties file.</li>
      <li>Execute the <code class="language-plaintext highlighter-rouge">kf_setup.sh</code> script.</li>
      <li>Execute <strong>kubectl</strong> commands to check the latest status of pods.</li>
    </ol>
  </li>
</ol>

<blockquote>
  <p><strong><em>Note:</em></strong> Upgrade one pod at a time for smooth roll out of upgrade process.<br />
Modify the properties file for the specific pod you want to upgrade, and execute the script.<br />
Once the new pod is created, repeat the process for other pods.</p>
</blockquote>
      <h4 id="provide-inputs-in-properties-file">
        
        
          <a href="#provide-inputs-in-properties-file" class="anchor-heading" aria-labelledby="provide-inputs-in-properties-file"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Provide Inputs in Properties File
        
        
      </h4>
    

<blockquote>
  <p><strong><em>Note:</em></strong> Use the same properties file that was used to create the cluster.</p>
</blockquote>

<ul>
  <li>Make sure that all the values (<code class="language-plaintext highlighter-rouge">AZURE_RESOURCE_GROUP</code>, <code class="language-plaintext highlighter-rouge">AZURE_SUBSCRIPTION_ID</code>, <code class="language-plaintext highlighter-rouge">SERVICE_PRINCIPAL_CLIENT_ID</code>, <code class="language-plaintext highlighter-rouge">SERVICE_PRINCIPAL_CLIENT_SECRET</code>, <code class="language-plaintext highlighter-rouge">AZURE_LOCATION</code>, <code class="language-plaintext highlighter-rouge">SSH_PUBLIC_KEY, SERVER_DOMAIN_NAME</code>, <code class="language-plaintext highlighter-rouge">NEW_RELIC_LICENSE_KEY</code>, Azure DB service parameters, Azure Redis cache details) match with the existing cluster.</li>
  <li>For Non-SSL cloud, <code class="language-plaintext highlighter-rouge">SERVER_DOMAIN_NAME</code> must be the <strong>Domain Name</strong> of the <strong>Azure Application Gateway</strong>. For example, <code class="language-plaintext highlighter-rouge">&lt;random_value&gt;.cloudapp.net</code>.<br />
You can find the Domain Name in Azure console using the following path:<br />
<code class="language-plaintext highlighter-rouge">Home &gt; resource group &gt; application gateway &gt; Frontend public IP address</code></li>
  <li>For SSL Cloud, <code class="language-plaintext highlighter-rouge">SERVER_DOMAIN_NAME</code> must be the <strong>External Domain Name</strong>.</li>
  <li>To execute the rolling update for a pod, set the values of the following parameters in the properties file:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">MAX_SURGE</code> - The number of pods that are created in addition to the desired number of pods during rolling update. Once the roll out is complete, the number of pods are reduced to the desired number of pods. <code class="language-plaintext highlighter-rouge">MAX_SURGE</code> is set to one in the properties file, by default.<br />
For example, if the number of pods is three, and maxSurge= 1, then there are at most four pods during the update process. Once the roll out is complete, the number of pods will be three.</li>
      <li><code class="language-plaintext highlighter-rouge">MAX_UNAVAILABLE</code> - The maximum number of pods that can be unavailable during the update process. <code class="language-plaintext highlighter-rouge">MAX_UNAVAILABLE</code> is set to one in the properties file, by default.<br />
For example, If the number of pods is three, and maxUnavailable=1, then there will be at least two pods in service during the update process. Once the roll out is complete, the number of pods will be three.</li>
    </ul>
  </li>
</ul>

<blockquote>
  <p><strong><em>Note:</em></strong> The values of <code class="language-plaintext highlighter-rouge">MAX_SURGE</code> and <code class="language-plaintext highlighter-rouge">MAX_UNAVAILABLE</code> must not be zero simultaneously.</p>
</blockquote>
      <h4 id="execute-the-kf_setupsh-script">
        
        
          <a href="#execute-the-kf_setupsh-script" class="anchor-heading" aria-labelledby="execute-the-kf_setupsh-script"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Execute the <code class="language-plaintext highlighter-rouge">kf_setup.sh</code> Script
        
        
      </h4>
    

<ol>
  <li>Make sure the current directory is <code class="language-plaintext highlighter-rouge">/azure</code>.</li>
  <li>Execute the <code class="language-plaintext highlighter-rouge">kf_setup.sh</code> script using the <code class="language-plaintext highlighter-rouge">$bash kf_setup.sh</code> command.</li>
  <li>Select the installation mode of the cloud that you want to upgrade (If the setup was done in enterprise mode, then select enterprise; otherwise, select trial mode).<br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/rolling_updates_1_600x135.png" alt="" /></li>
  <li>Select the execution mode. For rolling updates, select <strong>Update</strong>.<br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/rolling_updates_2_601x102.png" alt="" /></li>
  <li>If a database upgrade is required, choose to execute flyway migration. Otherwise, skip the flyway migration.<br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/rolling_updates_3_599x102.png" alt="" /></li>
</ol>
      <h4 id="execute-kubectl-commands-to-check-latest-status-of-pods">
        
        
          <a href="#execute-kubectl-commands-to-check-latest-status-of-pods" class="anchor-heading" aria-labelledby="execute-kubectl-commands-to-check-latest-status-of-pods"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Execute kubectl Commands to Check Latest Status of Pods
        
        
      </h4>
    

<p><strong>Execute the following actions to check the latest status of the pods</strong></p>

<ul>
  <li>Open a new terminal instance on the Linux machine.</li>
  <li>While the rolling update is in progress, execute the following command in the terminal to view the current state of the pod:</li>
</ul>

<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">$kubectl get pods  
$kubectl get deployments</code></pre></figure>

<p>Wait till the desired and available counts for the specific pod are equal.</p>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/rolling_updates_4_599x244.png" alt="" /></p>

<p>If you want to upgrade other pods, repeat the process.</p>
      <h3 id="update-kubernetes-pod-configuration">
        
        
          <a href="#update-kubernetes-pod-configuration" class="anchor-heading" aria-labelledby="update-kubernetes-pod-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Update kubernetes Pod Configuration
        
        
      </h3>
    
      <h4 id="modify-the-properties-in-deployment-section">
        
        
          <a href="#modify-the-properties-in-deployment-section" class="anchor-heading" aria-labelledby="modify-the-properties-in-deployment-section"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Modify the Properties in Deployment Section
        
        
      </h4>
    

<p>The kubernetes rolling update allows you to update the values in the deployment object for every deployment of the Volt MX Foundry pod.</p>

<p>You can update the following values in the kubernetes cluster:</p>

<ul>
  <li>Number of Pods</li>
  <li>Docker image</li>
  <li>Readiness init delay</li>
  <li>Liveness probe init delay</li>
</ul>

<p>Update the values in the properties file based on your requirement. The image displays the options available to upgrade the Integration pod:</p>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/rolling_updates_5_640x310.png" alt="" /></p>
      <h4 id="modify--d-parameters-for-the-pod">
        
        
          <a href="#modify--d-parameters-for-the-pod" class="anchor-heading" aria-labelledby="modify--d-parameters-for-the-pod"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Modify -d parameters for the Pod
        
        
      </h4>
    

<p>Perform the following actions to modify other parameter values for the pod:</p>

<ul>
  <li>Edit the required values in the properties file.</li>
  <li>Increase the value of <strong>readiness_init_delay (or)</strong> <strong>liveness_init_delay</strong> of the pod by one second so that the kubernetes rolling update for the pod will get triggered.</li>
</ul>

<blockquote>
  <p><strong><em>Note:</em></strong> The kubernetes rolling update starts only when the parameter values in the deployment object are modified. To modify the -d parameters in the <strong>configmap</strong> section, edit the liveness (or) readiness probe delay to perform the rolling update.</p>
</blockquote>

<blockquote>
  <p><strong>Note:</strong><br />
Consider a scenario where your Volt MX Foundry setup does not contain New Relic Monitoring enabled, and you obtain the license key later. You can enable new relic on your Volt MX Foundry setup by setting the following values  to true.</p>
  <ul>
    <li>NEW_RELIC_INFRA_MONITORING_ENABLED = true</li>
    <li>NEW_RELIC_APP_PERF_MONITORING_ENABLED = true    <br />
Provide the license key value in the properties file <code class="language-plaintext highlighter-rouge">NEW_RELIC_LICENSE_KEY = &lt;value&gt;</code>    <br />
You must increase the value of readiness (or) liveness probe by one second for a pod to trigger the rolling update and enable the new relic agent in the pod.    <br />
Perform the rolling update.</li>
  </ul>
</blockquote>
      <h3 id="increase-or-decrease-pod-count">
        
        
          <a href="#increase-or-decrease-pod-count" class="anchor-heading" aria-labelledby="increase-or-decrease-pod-count"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Increase (or) Decrease Pod Count
        
        
      </h3>
    

<p>To increase the pod count, make sure that the kubernetes worker nodes (Azure VM’s) are scaled properly, and the number of pods is equal to the number of worker nodes.</p>

<p>For example, if you want to increase the integration pod count to three, then the number of worker nodes must be three.</p>
      <h4 id="increasing-kubernetes-worker-nodes-in-azure">
        
        
          <a href="#increasing-kubernetes-worker-nodes-in-azure" class="anchor-heading" aria-labelledby="increasing-kubernetes-worker-nodes-in-azure"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Increasing kubernetes Worker Nodes in Azure
        
        
      </h4>
    

<ol>
  <li>Sign In to Microsoft Azure Console.</li>
  <li>Select the resource group in which the AKS Cluster is created.<br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/rolling_updates_6_598x69.png" alt="" /></li>
  <li>Select the <strong>Scale</strong> option on the cluster home page, increase (or) decrease the count of worker nodes based on your requirement. Save the configuration.<br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/rolling_updates_7_600x132.png" alt="" /></li>
</ol>
      <h4 id="increase-or-decrease-the-number-of-pods">
        
        
          <a href="#increase-or-decrease-the-number-of-pods" class="anchor-heading" aria-labelledby="increase-or-decrease-the-number-of-pods"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Increase (or) Decrease the Number of Pods
        
        
      </h4>
    

<p>After increasing (or) decreasing the number of worker nodes (Azure VM’s), you can modify the pod count by following the given steps:</p>

<ol>
  <li>Modify the node count of the pod in the properties file.<br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/rolling_updates_8_601x290.png" alt="" /></li>
  <li>Execute the <code class="language-plaintext highlighter-rouge">kf_setup.sh</code> file as described in the <a href="#execute-the-script">earlier</a> section.</li>
</ol>
      <h3 id="update-the-docker-image-of-the-container-inside-the-pod">
        
        
          <a href="#update-the-docker-image-of-the-container-inside-the-pod" class="anchor-heading" aria-labelledby="update-the-docker-image-of-the-container-inside-the-pod"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Update the Docker Image of the Container inside the Pod
        
        
      </h3>
    

<ul>
  <li>Modify the docker image in the properties file.<br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/rolling_updates_9_600x293.png" alt="" /></li>
  <li>Execute the <code class="language-plaintext highlighter-rouge">kf_setup.sh</code> file as described in the <a href="#execute-the-script">earlier</a> section.</li>
</ul>
      <h2 id="kubernetes-dashboard">
        
        
          <a href="#kubernetes-dashboard" class="anchor-heading" aria-labelledby="kubernetes-dashboard"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Kubernetes Dashboard
        
        
      </h2>
    

<p>You can access the Kubernetes dashboard in the Azure portal to view the information related to an application deployed in Azure Kuberntes cluster. Using the kubernetes dashboard, you can also view pod metrics such as CPU Usage, Memory Consumption, as well as Kubernetes objects like deployments, configmaps etc.</p>
      <h3 id="prerequisites-1">
        
        
          <a href="#prerequisites-1" class="anchor-heading" aria-labelledby="prerequisites-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Prerequisites
        
        
      </h3>
    

<p>Following are the prerequisites to use the Kubernetes dashboard:</p>

<ul>
  <li>Linux machine with Ubuntu 16.04 installed</li>
  <li>A valid Azure account</li>
  <li>AKS Cluster deployed in Azure</li>
</ul>
      <h3 id="steps-to-initialize-kubernetes-dashboard-in-browser">
        
        
          <a href="#steps-to-initialize-kubernetes-dashboard-in-browser" class="anchor-heading" aria-labelledby="steps-to-initialize-kubernetes-dashboard-in-browser"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Steps to Initialize Kubernetes Dashboard in Browser
        
        
      </h3>
    

<p>Following are the steps to access Kubernetes dashboard in browser:</p>

<p>1. Sign in to the <strong>Azure</strong> portal.</p>

<p>2. Select the <strong>Resource Group</strong> in which the Kubernetes cluster is created.</p>

<p>3. In the list of resources, select the created <strong>Kubernetes cluster</strong>.</p>

<p>4. Select the <strong>View Kubernetes dashboard</strong> tab in the lower-right corner of the screen.</p>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Kubernetes_db_1_599x267.png" alt="" /></p>

<p>The configuration screen appears:</p>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Kubernetes_db_2_597x281.png" alt="" /></p>

<ol>
  <li>
    <p>Follow these steps to initialize the Kubernetes dashboard</p>
  </li>
  <li>
    <p>Click on the copy button below the <em>Open the Kubernetes dashboard by running the following command</em> step. The following code is copied:</p>
  </li>
</ol>
<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">$az aks browse --resource-group &lt;resource group name&gt; --name &lt;aks cluster name&gt;
        </code></pre></figure>
<p><br /></p>
<ol>
  <li>
    <p>From the top right corner on the navigation bar, click the Power Shell icon.        <br />
    <img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/pwrshell.PNG" alt="" /><br />The bash terminal opens at the bottom of the window.<br /><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/pwrshell1.PNG" alt="" /></p>
  </li>
  <li>
    <p>Paste and execute the copied command in the Bash terminal.    <br />
    <img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/dashboard.PNG" alt="" /></p>
  </li>
  <li>
    <p>Copy the response URL and open it in a browser to display the Kubernetes Dashboard for the requested resource group.</p>
  </li>
</ol>

<p>The Kubernetes Dashboard is rendered on the browser.</p>

<p>You can view the summary of Kubernetes objects of a deployed application like daemon sets, jobs, pods, CPU usage, memory usage, and so on.</p>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Kubernetes_db_3_600x266.png" alt="" /></p>

<p>Select options from the left navigation pane to view the detailed information of various Kubernetes objects.</p>

<p><strong>For example</strong>, select Daemon Sets to view the analytics specific to daemon sets.</p>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Kubernetes_db_4_601x242.png" alt="" /></p>
      <h3 id="viewing-an-application">
        
        
          <a href="#viewing-an-application" class="anchor-heading" aria-labelledby="viewing-an-application"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Viewing an Application
        
        
      </h3>
    

<ul>
  <li>Select <strong>Pods</strong> from the left pane to view the information about each pod.<br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Kubernetes_db_5_601x400.png" alt="" /></li>
  <li>Click <strong>Services</strong> from the left pane to get the IP address of the application.<br />
<img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Kubernetes_db_6_600x335.png" alt="" /></li>
</ul>

<p>You can also view more information about daemon sets, replica sets, replication controllers, jobs, deployments, pods, and stateful sets.</p>
      <h2 id="pod-anti-affinity">
        
        
          <a href="#pod-anti-affinity" class="anchor-heading" aria-labelledby="pod-anti-affinity"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Pod Anti-Affinity
        
        
      </h2>
    

<p>Pod anti-affinity is used to handle the creation of pods in worker nodes in Azure Kubernetes cluster for deploying a resilient application in the Kubernetes cluster. Certain rules are defined in a pod configuration which allows pod to be deployed only on a particular node when the required conditions are satisfied. No two pods of same kind will be deployed on a single node. Pod anti-affinity helps in distributing the pods across the cluster nodes and helps in creating resilient applications.</p>
      <h2 id="aks-autoscaling">
        
        
          <a href="#aks-autoscaling" class="anchor-heading" aria-labelledby="aks-autoscaling"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> AKS Autoscaling
        
        
      </h2>
    

<p>AKS autoscaling feature helps to scale the service in case of a spike or a drop in application traffic. Incase of a spike in traffic new pods need to be created and the cluster should create new worker nodes to deploy additional pods to serve the incoming traffic. Similarly, when there is a drop in traffic, nodes and pods need to scale down. This ability to automatically scale up or down the number of nodes in the AKS cluster helps in running an efficient and cost-effective cluster.</p>

<p>There are two components involved in auto scaling of AKS cluster.</p>

<ul>
  <li><strong>Cluster Autoscaler</strong>: Scale the nodes in the cluster based on the pending pods which need to be deployed.</li>
  <li><strong>Horizontal Pod Autoscaler</strong>: Monitors the resource demand of pods. If a service needs more resources, the number of pods is automatically increased to meet the demand. You must give inputs of memory, CPU limit, and the min and max number of pods that can be scaled.</li>
</ul>

<p>You can check the runtime usage of memory and CPU by using the following command:</p>

<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">"kubectl get hpa" //hpa is horizontal pod autoscaler.</code></pre></figure>

<p>Whenever the usage of either the memory or the CPU exceeds the limit given for that particular pod, the Horizontal Pod Autoscaler is triggered and it starts scaling up the pod.</p>

<p>As pod anti-affinity is implemented, multiple nodes of same component can’t be scheduled on a node to take care of fault-tolerance of deployed application.</p>

<p>When the traffic goes down and the memory and CPU usage falls below the threshold values, newly created pods are terminated. This also results in scaling down of newly created nodes to the minimum number of nodes specified by the user.</p>

<p>For the details about user inputs, refer to the <a href="VoltMX_Foundry_on_Azure.html#autoscaling">Configuration</a> section.</p>
      <h2 id="azure-resource-group-role-based-access-control-rbac">
        
        
          <a href="#azure-resource-group-role-based-access-control-rbac" class="anchor-heading" aria-labelledby="azure-resource-group-role-based-access-control-rbac"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Azure Resource Group Role Based Access Control (RBAC)
        
        
      </h2>
    

<p>The way to control access to resources using RBAC is to create role assignments.<br />
A role assignment is the process of binding a role definition to a user, group, or service principal at a particular scope for the purpose of granting access. You can create Role assignments using the Azure portal, Azure CLI, Azure PowerShell, Azure SDKs, or REST APIs.</p>

<p>The creation of Role Assignments has the following three elements:</p>

<ul>
  <li><strong>Security Principal</strong>: An object that represents a user, group, or service principal that requests access to Azure resources.</li>
  <li><strong>Role Definition</strong>: A collection of permissions such as read, write, and delete. Roles can be generic, like <strong>owner</strong>; or specific, like <strong>virtual machine reader</strong>. you can either use the built-in roles or create custom roles for assigning.</li>
  <li><strong>Scope</strong>: A boundary that the access applies to. It can be specified at multiple levels such as management group, subscription, resource group or resource.</li>
</ul>

<p>To create and remove role assignments, you must have Microsoft.Authorization/ roleAssignments/ * permission. The Owner or User Access Administrator roles can grant this permission.</p>

<blockquote>
  <p><strong><em>Note:</em></strong> When planning the access control strategy, it is a best practice to grant users the least privilege to get their work done.</p>
</blockquote>
      <h3 id="assign-a-role-at-a-resource-group-scope">
        
        
          <a href="#assign-a-role-at-a-resource-group-scope" class="anchor-heading" aria-labelledby="assign-a-role-at-a-resource-group-scope"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Assign a Role at a Resource Group Scope
        
        
      </h3>
    

<ol>
  <li>In the navigation list, select Resource groups.</li>
  <li>Select a resource group.</li>
  <li>
    <p>Select <strong>Access control</strong> (IAM) to see the current list of role assignments at the resource group scope.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/RBAC_1.png" alt="" /></p>
  </li>
  <li>Select <strong>Add</strong> to open the <strong>Add Permissions</strong> pane.</li>
  <li>
    <p>The Add option is visible only if you have the permission to assign roles.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/RBAC_2_404x606.png" alt="" /></p>
  </li>
  <li>In the <strong>Role</strong> drop-down list, select a role such as <strong>Virtual Machine Contributor</strong>.</li>
  <li>In the <strong>Select</strong> list, select a user, group, or application. If you don’t see the security principal in the list, you can type in the <strong>Select</strong> box to search the directory for display names, email addresses, and object identifiers.</li>
  <li>Click <strong>Save</strong> to assign the role.</li>
  <li>After a few moments, the security principal is assigned the role at the resource group scope.</li>
</ol>

<p>You can use the same process to assign a role at the subscription level, management group level.</p>

<blockquote>
  <p><strong><em>Note:</em></strong> If the built-in roles do not meet the specific needs of your organization, then you can create custom roles. Just like built-in roles, you can assign custom roles to users, groups, and service principals at subscription, resource group, and resource scopes. Custom roles are stored in an Azure Active Directory (Azure AD) directory and can be shared across subscriptions. Each directory can have up to 2000 custom roles. You can create custom roles with Azure PowerShell, Azure CLI, or the REST API.</p>
</blockquote>
      <h2 id="block-ip-addresses-in-the-azure-web-application-firewall">
        
        
          <a href="#block-ip-addresses-in-the-azure-web-application-firewall" class="anchor-heading" aria-labelledby="block-ip-addresses-in-the-azure-web-application-firewall"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Block IP addresses in the Azure Web Application Firewall
        
        
      </h2>
    

<p>Follow these steps to block IP addresses in the Azure Web Application Firewall:</p>

<ol>
  <li>Log on to the Azure portal <a href="http://portal.azure.com/">portal.azure.com</a> using your Microsoft account credentials.</li>
  <li>
    <p>Select the <strong>Resource group</strong> in which WAF is created.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Block_IP_1_304x336.png" alt="" /></p>
  </li>
  <li>
    <p>Select the Web Application Firewall resource.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Block_IP_2_613x75.png" alt="" /></p>
  </li>
  <li>
    <p>Select the subnet which has the WAF attached.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Block_IP_3_593x70.png" alt="" /></p>
  </li>
  <li>
    <p>Create a new <strong>Network Security Group</strong> (NSG).</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Block_IP_4_593x106.png" alt="" /></p>

    <blockquote>
      <p><strong><em>Note:</em></strong> By default, NSG is not created for AppGateway.</p>
    </blockquote>
  </li>
  <li>
    <p>Configure inbound rules in the Network Security Group.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Block_IP_5_600x324.png" alt="" /></p>
  </li>
  <li>
    <p>Add new rules in the Network Security Group.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Block_IP_6_597x711.png" alt="" /></p>
  </li>
  <li>
    <p>Associate the <strong>AppGateway <a href="#subnet">subnet</a></strong> with the <strong>Network Security Group</strong>.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Block_IP_7_604x273.png" alt="" /></p>
  </li>
</ol>
      <h2 id="block-ip-addresses-in-the-azure-cdn">
        
        
          <a href="#block-ip-addresses-in-the-azure-cdn" class="anchor-heading" aria-labelledby="block-ip-addresses-in-the-azure-cdn"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Block IP addresses in the Azure CDN
        
        
      </h2>
    

<p>Follow these steps to block IP addresses in the Azure Content Delivery Network (CDN):</p>

<ol>
  <li>Log on to the Azure portal <a href="http://portal.azure.com/">portal.azure.com</a> using your Microsoft account credentials.</li>
  <li>Select the <strong>Resource group</strong> in which CDN is created.</li>
  <li>
    <p>Go to <strong>CDN profile</strong> from the list of resources available in the Azure Resource Group.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/CDN9.png" alt="" /></p>
  </li>
  <li>
    <p>Click <strong>Manage</strong> from the top navigation bar.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/CDN10_599x251.png" alt="" /></p>
  </li>
  <li>
    <p>From the <strong>HTTP Large</strong> list, select <strong>Rules Engine</strong>.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/CDN14_591x112.png" alt="" /></p>
  </li>
  <li>
    <p>Configure the new <strong>Rule</strong>.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Block_IP_CDN_599x156.png" alt="" /></p>
  </li>
</ol>
      <h2 id="whitelist-ip-address-in-azure-cdn">
        
        
          <a href="#whitelist-ip-address-in-azure-cdn" class="anchor-heading" aria-labelledby="whitelist-ip-address-in-azure-cdn"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Whitelist IP Address in Azure CDN
        
        
      </h2>
    

<p>Automation of rules configuration is not supported by az-cli, therefore we need to access CDN manage portal to configure rules.</p>

<p>Follow these steps to whitelist IP addresses in the Azure Content Delivery Network (CDN):</p>

<ol>
  <li>Log on to the Azure portal <a href="http://portal.azure.com/">portal.azure.com</a> using your Microsoft account credentials.</li>
  <li>Select the <strong>Resource group</strong> in which CDN is created.</li>
  <li>Go to <strong>CDN profile</strong> from the list of resources available in the Azure Resource Group.</li>
  <li>Click on the <strong>Manage</strong> from the top navigation bar to access CDN Manage Portal.</li>
</ol>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/cdnProfile.png" alt="" /></p>

<p>Configure the new <strong>Rule</strong>.</p>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/whitelistIP.png" alt="" /></p>

<p>Set <strong>Deny Access (403)</strong> to <strong>Enabled</strong>.</p>

<p>This determines whether all requests are rejected with a 403 Forbidden response or not.</p>

<p>You can set Deny Access (403) to the values shown in the following table:</p>

<table>
  <thead>
    <tr>
      <th>Value</th>
      <th>Result</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Enabled</td>
      <td>Causes all requests that satisfy the matching criteria to be rejected with a 403 Forbidden response.</td>
    </tr>
    <tr>
      <td>Disabled</td>
      <td>Allow the origin server to determine the type of response that will be returned.</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong><em>Note:</em></strong> It takes some time for the rule to be propagated to the CDN edge nodes. Check the status of rule in CDN Manage Portal.</p>
</blockquote>
      <h2 id="configure-email-alerts-for-clamav-and-ossec">
        
        
          <a href="#configure-email-alerts-for-clamav-and-ossec" class="anchor-heading" aria-labelledby="configure-email-alerts-for-clamav-and-ossec"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configure Email Alerts for ClamAV and OSSEC
        
        
      </h2>
    
      <h3 id="installing-oms-agent-on-the-virtual-machine">
        
        
          <a href="#installing-oms-agent-on-the-virtual-machine" class="anchor-heading" aria-labelledby="installing-oms-agent-on-the-virtual-machine"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> INSTALLING OMS AGENT ON THE VIRTUAL MACHINE
        
        
      </h3>
    

<ol>
  <li>
    <p>Select <strong>OMS workspace</strong> from the list of resources available in the resource group, .</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Email_Alert/oms_workspace_598x280.png" alt="" /></p>
  </li>
  <li>
    <p>Select <strong>virtual machines</strong> from the left navigation pane.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Email_Alert/virtual_machines_601x298.png" alt="" /></p>
  </li>
  <li>
    <p>From the list of available virtual machines, select the virtual machine from the required resource group.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Email_Alert/select_vm_596x166.png" alt="" /></p>
  </li>
  <li>
    <p>Click <strong>Connect</strong> to install OMS agent on the selected virtual machine.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Email_Alert/connect.png" alt="" /></p>
  </li>
</ol>
      <h3 id="configuring-custom-logs-in-log-analytics">
        
        
          <a href="#configuring-custom-logs-in-log-analytics" class="anchor-heading" aria-labelledby="configuring-custom-logs-in-log-analytics"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> CONFIGURING CUSTOM LOGS IN LOG ANALYTICS
        
        
      </h3>
    

<ol>
  <li>
    <p>Log on to the Azure portal <a href="http://portal.azure.com/">portal.azure.com</a> using your Microsoft account credentials.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Email_Alert/login.png" alt="" /></p>
  </li>
  <li>
    <p>Select <strong>Resource Groups</strong> from the left navigation pane.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Email_Alert/resource_groups_575x261.png" alt="" /></p>

    <p>All existing resource groups appear.<br />
Select the resource group in which the Log Analytics workspace is created.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Email_Alert/existing_resgroups_598x274.png" alt="" /></p>
  </li>
  <li>
    <p>Click on <strong>Log Analytics Workspace</strong>.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Email_Alert/log_analytics_ws_597x242.png" alt="" /></p>
  </li>
  <li>
    <p>Select <strong>Advance settings</strong> from the left navigation pane.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Email_Alert/advance_settings_599x310.png" alt="" /></p>
  </li>
  <li>
    <p>Navigate to Data -&gt; Custom Logs -&gt; and click <strong>Add+</strong> to create a new custom log.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Email_Alert/add_button_598x272.png" alt="" /></p>
  </li>
  <li>
    <p>Upload a sample log file which is of the same format as that of the logs to be collected.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Email_Alert/upload_sample_344x301.png" alt="" /></p>
  </li>
  <li>
    <p>Select the delimiter (newline/timestamp) based on which the logs are to be separated.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Email_Alert/sel_rec_delimiter_600x200.png" alt="" /></p>
  </li>
  <li>
    <p>Give the path from where the logs are to be fetched.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Email_Alert/log_path_601x162.png" alt="" /></p>
  </li>
  <li>
    <p>Give a <strong>Name</strong> and <strong>Description</strong> for the custom log created and click <strong>OK</strong>.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Email_Alert/name_desc_600x169.png" alt="" /></p>
  </li>
</ol>
      <h3 id="create-alert-rules-for-the-logs">
        
        
          <a href="#create-alert-rules-for-the-logs" class="anchor-heading" aria-labelledby="create-alert-rules-for-the-logs"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> CREATE ALERT RULES FOR THE LOGS
        
        
      </h3>
    

<ol>
  <li>
    <p>Log on to the Azure portal <a href="http://portal.azure.com/">portal.azure.com</a> using your Microsoft account credentials.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Email_Alert/login.png" alt="" /></p>
  </li>
  <li>
    <p>Select <strong>Resource Groups</strong> from the left navigation pane.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Email_Alert/resource_groups_600x271.png" alt="" /></p>

    <p>All existing resource groups appear.<br />
Select the resource group in which the Log Analytics workspace is created.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Email_Alert/existing_resgroups_598x275.png" alt="" /></p>
  </li>
  <li>
    <p>Click on <strong>Log Analytics Workspace</strong>.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Email_Alert/log_analytics_ws_597x242.png" alt="" /></p>
  </li>
  <li>
    <p>Click <strong>Alerts</strong> on <strong>Monitoring</strong>.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Email_Alert/alerts_599x298.png" alt="" /></p>
  </li>
  <li>
    <p>Click <strong>New Alert Rule</strong>.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Email_Alert/new_alert_rule_598x242.png" alt="" /></p>
  </li>
  <li>
    <p>Creation of an Alert rule consists of 3 steps.</p>

    <ul>
      <li>
        <p>Select the resource for which you want to configure the alert.</p>

        <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Email_Alert/select_res_558x368.png" alt="" /></p>
      </li>
      <li>
        <p>Configure the condition on which the alert should be triggered.</p>

        <p>Click <strong>Add condition</strong>.</p>

        <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Email_Alert/add_condition_559x340.png" alt="" /></p>
      </li>
      <li>
        <p>Select the type of log on which the condition must be configured.</p>

        <p>Select Custom log search.</p>

        <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Email_Alert/custom_log_search_559x250.png" alt="" /></p>
      </li>
      <li>
        <p>Write the query for which the alert should be triggered.</p>

        <p>Set the Alert logic, Condition, Threshold, Period and Frequency values.</p>

        <p>Click <strong>Done</strong>.</p>

        <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Email_Alert/confg_signal_logic_560x255.png" alt="" /></p>
      </li>
    </ul>
  </li>
  <li>
    <p>Set the action group which must trigger or intimate the alert.</p>

    <p>Click <strong>Create new</strong>.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Email_Alert/create_new_597x364.png" alt="" /></p>
  </li>
  <li>
    <p>Configure all the details.</p>

    <p>Select action type as Email/SMS/Push/Voice.</p>

    <p>Give the <strong>mail id</strong> and other details to create the action group.<br />
Click <strong>Ok</strong>.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Email_Alert/action_type_601x266.png" alt="" /></p>
  </li>
  <li>
    <p>Set the alert rule details such as <strong>Name</strong> and <strong>Description</strong> to be shown in the triggered mail.</p>

    <p>Select <code class="language-plaintext highlighter-rouge">yes</code> for <strong>Enable rule upon creation</strong>.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/ClamAV/Email_Alert/enable_rule_600x347.png" alt="" /></p>
  </li>
</ol>
      <h2 id="vpn-reference-implementation">
        
        
          <a href="#vpn-reference-implementation" class="anchor-heading" aria-labelledby="vpn-reference-implementation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> VPN Reference Implementation
        
        
      </h2>
    

<blockquote>
  <p><strong><em>Note:</em></strong> VPN Reference Implementation is documented assuming that the FortiGate Firewall is used on the On-Premise setup. If you are using any other firewall, contact your system administrator for setting up the incoming policies from Volt MX Foundry set up on Microsoft Azure Cloud.</p>
</blockquote>

<p>A Site-to-Site VPN gateway connection is used to connect your on-premises network to an Azure virtual network over an IPsec or IKE (IKEv1 or IKEv2) VPN tunnel. This type of connection requires an on-premises VPN device that has an externally facing public IP address assigned to it. Follow the steps described <a href="VPN_Implementation.html">here</a> to setup a site-to-site VPN.</p>
      <h2 id="configure-backup-and-restore-for-azure-file-share">
        
        
          <a href="#configure-backup-and-restore-for-azure-file-share" class="anchor-heading" aria-labelledby="configure-backup-and-restore-for-azure-file-share"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configure Backup and Restore for Azure File Share
        
        
      </h2>
    

<p>An Azure file share is a convenient place for cloud applications to write their logs, metrics, and crash dumps. Logs can be written by the application instances via the File REST API, and developers can access them by mounting the file share on their local machine. To understand how to create a file share on Azure, refer to <a href="https://docs.microsoft.com/en-us/azure/storage/files/storage-how-to-create-file-share">Create a file share in Azure Files</a>.</p>

<p>Before you back up an Azure file share, you must ensure that it is present in one of the supported <a href="https://docs.microsoft.com/en-us/azure/backup/backup-azure-files#limitations-for-azure-file-share-backup-during-preview">Storage Account types</a>.</p>
      <h3 id="configuring-backup">
        
        
          <a href="#configuring-backup" class="anchor-heading" aria-labelledby="configuring-backup"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuring Backup
        
        
      </h3>
    

<ol>
  <li>Create a <strong>Recovery Services Vault</strong> in the same region as your file share.</li>
  <li>After creating a vault or if you already have a vault, open your vault’s Overview page and click <strong>Backup</strong>.</li>
  <li>In the <strong>Backup Goal</strong> menu, from <strong>What do you want to back up?</strong>, choose <strong>Azure FileShare</strong>.</li>
  <li>
    <p>Click <strong>Backup</strong> to configure the backup of Azure FileShare to your Recovery Services vault.</p>

    <p>A <strong>Select Storage Account</strong> window appears. A list of all the supported <strong>Storage Accounts</strong> in the region where your vault exists is displayed.</p>
  </li>
  <li>
    <p>From the given list of Storage accounts, you should select an account and click <strong>OK</strong>.</p>

    <p>Azure searches for the storage account for file shares that can be backed up. If you have recently added your file shares and do not see them in the list, allow a little time for the file shares to appear.</p>
  </li>
  <li>From the list of <strong>File Shares</strong> that appear, select one or more of the file shares you want to back up and click <strong>OK</strong>.</li>
  <li>After choosing your file shares, the Backup menu switches to the <strong>Backup policy</strong>. From this menu either select an existing backup policy, or create a new one, and then click <strong>Enable Backup</strong>.</li>
</ol>

<p>After establishing a backup policy, a snapshot of the file shares will be taken at the scheduled time, and the recovery point is retained for the chosen period.</p>

<p>You can also create an on-demand backup of file shares. For more information on this feature, refer to <a href="https://docs.microsoft.com/en-us/azure/backup/backup-azure-files#create-an-on-demand-backup">Create an on-demand backup</a>.</p>
      <h3 id="configuring-restore">
        
        
          <a href="#configuring-restore" class="anchor-heading" aria-labelledby="configuring-restore"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuring Restore
        
        
      </h3>
    

<p>If you need to restore an entire file share or individual files or folders from a Restore Point, do the following in the Backup Items menu.</p>

<ol>
  <li>Open the <strong>Recovery Services Vault</strong> that contains the file share recovery points and click <strong>Backup Items</strong>. The list of Backup Item types appears.</li>
  <li>From the list, select <strong>Azure Storage (Azure Files)</strong>. The list of Azure file shares appears.</li>
  <li>From the list of <strong>Azure file shares</strong>, select the desired file share. The Backup Item details appears.</li>
  <li>From the Backup Item menu, choose <strong>Restore Share</strong> to restore an entire file share from a desired <a href="https://docs.microsoft.com/en-us/azure/azure-app-configuration/concept-point-time-snapshot">Point-in-time</a>.</li>
  <li>From the list of <strong>Restore Points</strong> that are displayed, select one. The selected restore point will be used to <strong>Overwrite</strong> your current file share or <strong>Restore</strong> it to an alternate file share in the same region.</li>
</ol>
      <h3 id="create-and-share-a-file-share-snapshot">
        
        
          <a href="#create-and-share-a-file-share-snapshot" class="anchor-heading" aria-labelledby="create-and-share-a-file-share-snapshot"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Create and share a File Share Snapshot
        
        
      </h3>
    

<p>Azure Files provides the capability to take share snapshots of file shares. Share snapshots capture the share state at that point in time.</p>

<p>Snapshots can be of the following types, based on the operating system in which they’re being captured.</p>

<ul>
  <li>Logical Volume Manager (LVM) snapshots for Linux systems</li>
  <li>Apple File System (APFS) snapshots for MacOS</li>
  <li>Volume Shadow Copy Service (VSS) for Windows file systems. NTFS and ReFS are examples of VSS.</li>
</ul>

<p>The <strong>az storage share snapshot</strong> command must be used to create a snapshot of an existing share under the specified account.</p>

<p>Command</p>

<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">az storage share snapshot --name [--account-key] [--account-name] [--connection-string] [–metadata] [–quota] [--sas-token] [–subscription] [–timeout]</code></pre></figure>

<p>Example</p>

<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">SNAPSHOT=$(az storage share snapshot --account-name $STORAGEACCT  --account-key $STORAGEKEY  --name "myshare"  --query "snapshot" | tr -d '"')</code></pre></figure>
      <h3 id="restore-from-a-share-snapshot">
        
        
          <a href="#restore-from-a-share-snapshot" class="anchor-heading" aria-labelledby="restore-from-a-share-snapshot"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Restore from a share snapshot
        
        
      </h3>
    

<p>The <strong>az storage file copy start</strong> command can be used to restore a file. Perform the following steps to restore from a share snapshot:</p>

<p>Delete the sample file (for example: SampleUpload.txt) that you have uploaded earlier, so you can restore it from the snapshot.</p>

<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">az storage file delete --account-name $STORAGEACCT --account-key $STORAGEKEY --share-name "myshare" --path "myDirectory/SampleUpload.txt"</code></pre></figure>

<p>Build the source URI for a snapshot restore.</p>

<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">URI=$(az storage account show --resource-group "myResourceGroup" --name $STORAGEACCT --query "primaryEndpoints.file" | tr -d '"')</code></pre></figure>

<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">URI=$URI"myshare/myDirectory/SampleUpload.txt?sharesnapshot="$SNAPSHOT</code></pre></figure>

<p>Restore SampleUpload.txt from the share snapshot.</p>

<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">az storage file copy start --account-name $STORAGEACCT --account-key $STORAGEKEY --source-uri $URI --destination-share "myshare" --destination-path "myDirectory/SampleUpload.txt"</code></pre></figure>
      <h2 id="setting-custom-vnet-and-subnet-ranges">
        
        
          <a href="#setting-custom-vnet-and-subnet-ranges" class="anchor-heading" aria-labelledby="setting-custom-vnet-and-subnet-ranges"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Setting custom VNet and Subnet ranges
        
        
      </h2>
    

<p><strong>Steps to use custom VNet and Subnet ranges for Azure Volt MX setup:</strong></p>

<p>For Azure installation, we use the <code class="language-plaintext highlighter-rouge">10.X.X.X/8</code> VNet and Subnet ranges. In a few cases where Volt MX Foundry must connect to the customer backend network which also has IP ranges in the same private address space, you can use a different private address range for Azure Volt MX installation. Perform the following steps to use a different private IP address range.</p>

<ol>
  <li>Open the input properties file <code class="language-plaintext highlighter-rouge">&lt;Installation Directory&gt;/conf/enterprise.properties</code>.</li>
  <li>Find properties related to vnet and subnet ranges starting from the <strong>VNET_ADDRESS_SPACE</strong> property.</li>
  <li>Update all the properties to use the preferred private address range. For example: <code class="language-plaintext highlighter-rouge">192.168.X.X</code>.</li>
  <li>Also, update the <strong>network.properties</strong> file located under <code class="language-plaintext highlighter-rouge">&lt;Installation Directory&gt;/conf/</code> to use address ranges matching the custom private address range.</li>
</ol>
      <h2 id="features-and-supported-regions">
        
        
          <a href="#features-and-supported-regions" class="anchor-heading" aria-labelledby="features-and-supported-regions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Features and Supported Regions
        
        
      </h2>
    

<p>Following is the list of features and their supported regions. If the region specified by the user’s input(AZURE_LOCATION property) does not support a specific feature, then that feature is skipped and an alternate option is installed.</p>

<ul>
  <li>Regions where <strong>WAF v2 is not supported</strong>:</li>
</ul>

<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">australiacentral,southafricanorth,uaenorth,westcentralus
    </code></pre></figure>

<ul>
  <li>Regions where <strong>CDN is supported</strong>:</li>
</ul>

<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">australiaeast, australiasoutheast, brazilsouth, canadacentral, canadaeast, 
    centralindia, centralus, eastasia, eastus, eastus2, japaneast, japanwest, 
    northcentralus, northeurope, southcentralus, southindia, southeastasia, westeurope, 
    westindia, westus, westcentralus
    </code></pre></figure>

<ul>
  <li>Regions where <strong>multiple availability zones are supported for AKS</strong>:</li>
</ul>

<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">centralus, eastus2, eastus, francecentral, japaneast, northeurope, 
    southeastasia, uksouth, westeurope, westus2
    </code></pre></figure>

<ul>
  <li>Regions where <strong>multiple availability zones are supported for Application Gateway</strong>:</li>
</ul>

<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">centralus,eastus,eastus2,westus2,francecentral,
    northeurope,uksouth,westeurope,japaneast,southeastasia
    </code></pre></figure>

<ul>
  <li>Regions where <strong>ZRS is not supported for Storage account</strong>:</li>
</ul>

<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">westus2,eastus,eastus2,northeurope,westeurope,southeastasia,
    francecentral,japaneast,centralus,uksouth,australiaeast,southafricanorth
    </code></pre></figure>

        

        

        
        
         
            <!--<p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2017-2020 HCL Digital Solutions</p>-->


            
              <div class="d-flex mt-2">
                
                
              </div>
            
          </footer>
        

      </div>
    </div>

    
      

      <div class="search-overlay"></div>
    

    
  </div>

  <!-- end main  -->

  
  <div class="split-hold" >
    <div class="split__bar1" ></div>
    <div class="closeclick closeright" id="right-close"></div>
  </div>
    <div class="right-menu scrollable-container" >
      <div class="scrollable">
        <nav role="navigation" aria-label="Main" id="sub-site-nav" class="site-nav" >
<ul class="nav-list">
  

    <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
        <use xlink:href="#svg-arrow-right"></use>
        </svg>
      </a><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Introduction.html" class="nav-list-link">Installation Guide for Volt MX Foundry on Azure</a>
  
      <ul class="nav-list "><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VoltMX_Foundry_on_Azure.html#overview" class="nav-list-link">Overview</a>

  
 </li>
  <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
          <use xlink:href="#svg-arrow-right"></use>
          </svg></a><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VoltMX_Foundry_on_Azure.html#overview" class="nav-list-link">Volt MX Foundry V9 SP1 onwards on Azure</a>

  <ul class="nav-list "><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VoltMX_Foundry_on_Azure.html#prerequisites"
    class="nav-list-link">Prerequisites</a>

    

   </li>

    <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VoltMX_Foundry_on_Azure.html#vm-setup"
    class="nav-list-link">VM Setup</a>

    

   </li>

    <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VoltMX_Foundry_on_Azure.html#pre-installation-tasks"
    class="nav-list-link">Pre-installation</a>

    

   </li>

    <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VoltMX_Foundry_on_Azure.html#configuration"
    class="nav-list-link">Configuration</a>

    

   </li>

    <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VoltMX_Foundry_on_Azure.html#installation"
    class="nav-list-link">Installation</a>

    

   </li>

    <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VoltMX_Foundry_on_Azure.html#post-installation"
    class="nav-list-link">Post-Installation Tasks</a>

    

   </li>

    <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VoltMX_Foundry_on_Azure.html#configuring-iris-to-connect-to-volt-mx-foundry-on-azure"
    class="nav-list-link">Configuring Iris to Connect Volt MX Foundry on Azure</a>

    

   </li>

    <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VoltMX_Foundry_on_Azure.html#updating-the-azure-kubernetes-service-cluster-configuration"
    class="nav-list-link">Updating the Azure Kubernetes Service Cluster configuration</a>

    

   </li>

    <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VoltMX_Foundry_on_Azure.html#setting-up-azure-content-delivery-network-cdn"
    class="nav-list-link">Setting up Azure Content Delivery Network (CDN</a>

    

   </li>

    <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VoltMX_Foundry_on_Azure.html#configuring-clam-antivirus-for-azure-virtual-machines"
    class="nav-list-link">Configuring Clam AntiVirus for Azure Virtual Machines</a>

    

   </li>

    <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VoltMX_Foundry_on_Azure.html#configuring-ossec-intrusion-detection"
    class="nav-list-link">Configuring OSSEC Intrusion Detection</a>

    

   </li>

    <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VoltMX_Foundry_on_Azure.html#marketing-catalog-microservice"
    class="nav-list-link">Marketing Catalog Microservice</a>

    

   </li>

    <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VoltMX_Foundry_on_Azure.html#campaign-microservice"
    class="nav-list-link">Campaign Microservice</a>

    

   </li>

    

    </ul>
  
  
 </li>
  

</ul>


</li>


    <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
        <use xlink:href="#svg-arrow-right"></use>
        </svg>
      </a><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#appendices" class="nav-list-link">Appendices</a>
  
      <ul class="nav-list "><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#prerequisite-packages" class="nav-list-link">Prerequisite Packages</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#network-settings-accessing-azure-sql-database" class="nav-list-link">Network Settings - Accessing Azure SQL Database</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#configuring-nat-gateway" class="nav-list-link">Configuring NAT Gateway</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#hosting-your-domain-with-azure-dns" class="nav-list-link">Hosting your domain with Azure DNS</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#generating-a-pfx-file-from-pem" class="nav-list-link">Generating PFX file from PEM</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#extracting-logs-from-your-application" class="nav-list-link">Extracting Logs from Application</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#connecting-to-aks-nodes-through-jumpbox" class="nav-list-link">Connecting to AKS nodes through Jumpbox</a>

  
 </li>
  <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
          <use xlink:href="#svg-arrow-right"></use>
          </svg></a><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#log-analytics" class="nav-list-link">Log Analytics</a>

  <ul class="nav-list "><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#search-logs"
    class="nav-list-link">Search Logs</a>

    

   </li>

    

    </ul>
  
  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#new-relic-monitoring" class="nav-list-link">New Relic Monitoring</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#rolling-updates" class="nav-list-link">Rolling Updates</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#kubernetes-dashboard" class="nav-list-link">Kubernetes Dashboard</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#pod-anti-affinity" class="nav-list-link">Pod Anti-Affinity</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#aks-autoscaling" class="nav-list-link">AKS Autoscaling</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#azure-resource-group-role-based-access-control-rbac" class="nav-list-link">Azure Resource Group Role Based Access Control (RBAC</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#block-ip-addresses-in-the-azure-web-application-firewall" class="nav-list-link">Block IP addresses in Azure Web Application Firewall</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#block-ip-addresses-in-the-azure-cdn" class="nav-list-link">Block IP addresses in Azure CDN</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#whitelist-ip-address-in-azure-cdn" class="nav-list-link">Whitelist IP addresses in Azure CDN</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#configure-email-alerts-for-clamav-and-ossec" class="nav-list-link">Configure Email Alerts for ClamAV and OSSEC</a>

  
 </li>
  <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
          <use xlink:href="#svg-arrow-right"></use>
          </svg></a><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#vpn-reference-implementation" class="nav-list-link">VPN Reference Implementation</a>

  <ul class="nav-list "><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VPN_Implementation.html"
    class="nav-list-link">Site-to-Site Tunnel Implementation</a>

    

   </li>

    

    </ul>
  
  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#configure-backup-and-restore-for-azure-file-share" class="nav-list-link">Configure Backup and Restore for Azure File Share</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#setting-custom-vnet-and-subnet-ranges" class="nav-list-link">Setting custom VNet and Subnet ranges</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#features-and-supported-regions" class="nav-list-link">Features and Supported Regions</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Azure_Version_Tracker.html" class="nav-list-link">Azure Version Tracker</a>

  
 </li>
  

</ul>


</li>


    <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
        <use xlink:href="#svg-arrow-right"></use>
        </svg>
      </a><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Frequently_Asked_Questions__FAQs_.html" class="nav-list-link">Frequently Asked Questions (FAQs</a>
  
      <ul class="nav-list "><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Frequently_Asked_Questions__FAQs_.html#installation-metadata" class="nav-list-link">Installation Metadata</a>

  
 </li>
  

</ul>


</li>

</ul>

</nav>


      </div>
  </div></div>





 <!-- footer from footer html -->
 <footer>

    <!-- The Modal -->
<div id="copyright-modal" class="modal">

    <!-- Modal content -->
    <div class="modal-content">
      <span class="close">&times;</span>
      <p>
        © Copyright HCL America, Inc., 2021 - All rights reserved.
      </p>
      <p>This document contains information proprietary to HCL., is bound by the HCL license agreements, and may not be used except in the context of understanding the use and methods of HCL., software without prior, express, written permission. HCL, Empowering Everywhere, HCL Foundry, HCL Flare, and HCL Iris are trademarks of HCL. MobileFoundry is a registered trademark of HCL. Microsoft, the Microsoft logo, Internet Explorer, Windows, and Windows Vista are registered trademarks of Microsoft Corporation. Apple, the Apple logo, iTunes, iPhone, iPad, OS X, Objective-C, Safari, Apple Pay, Apple Watch, and Xcode are trademarks or registered trademarks of Apple, Inc. Google, the Google logo, Android, and the Android logo are registered trademarks of Google, Inc. Chrome is a trademark of Google, Inc. BlackBerry, PlayBook, Research in Motion, and RIM are registered trademarks of BlackBerry. SAP® and SAP® Business Suite® are registered trademarks of SAP SE in Germany and in several other countries. All other terms, trademarks, or service marks mentioned in this document have been capitalized and are to be considered the property of their respective owners.</p>
    </div>
  
  </div>

  <div id="revised-terms" class="modal " style="font-size: 14px;">
    <div class="modal-content scrollable-container">
      <div style="background-color: #333; color: #fff; padding: 10px;">
      <h2>Revised Volt MX product names, APIs, and Others</h2>
      <span class="close2">×</span>
    </div>
    <div class="modal-main-content scrollable">
      <p >
        This document describes the revised list of Volt MX product names, APIs, and others.
      </p>
      <ul class="inline-bullets">
        <li>Product name</li>
        <li>API</li>
        <li>Other</li>
      </ul>
    <p style="clear: both;">
      The following tables show the mapping of Volt MX new terms versus Temenos old terms.
    </p>

    <h3>Product name</h3>
    This table shows the new Volt MX product names versus old Temenos product names.
    <table>
      <tr>
        <th>New Terms (Volt MX)</th>
        <th>Old Terms (Temenos)</th>
      </tr>
      <tr>
        <td>Volt MX</td>
        <td>Quantum</td>
      </tr>
      <tr>
        <td>Iris</td>
        <td>Visualizer</td>
      </tr>
      <tr>
        <td>Foundry</td>
        <td>Mobile Fabric</td>
      </tr>
      <tr>
        <td>Foundry</td>
        <td>Fabric</td>
      </tr>
      <tr>
        <td>Flare</td>
        <td>Nitro</td>
      </tr>
      
    </table>


    <a name="api_names"><h3>API</h3></a>
    This table shows the new Volt MX APIs namespaces versus the old Temenos APIs namespaces, along with examples. The new namespaces are used throughout this documentation; however, if you use a Temenos branded version older than 9.2, you must keep using the old Temenos namespaces.
    <table>
      <tr>
        <th>New Namespace (Volt MX)</th>
        <th>Old Namespace (Temenos)</th>
      </tr>
	  <tr>
	    <td>voltmx</td>
		<td>kony</td>
	  </tr>
	  <tr>
	    <td>com.hcl.voltmx</td>
		<td>com.konylabs</td>
	  </tr>
	  <tr>
	    <td>VMXFoundry</td>
		<td>KNYMobileFabric</td>
	  </tr>
	  <tr>
	  <td colspan="2"  style="text-align:center"><b>Examples</b></td>
	  <td/>
      <tr>
        <td>voltmx.ui.Alert</td>
        <td>kony.ui.Alert</td>
      </tr>
      <tr>
        <td>voltmx.os.deviceInfo</td>
        <td>kony.os.deviceInfo</td>
      </tr>
      <tr>
        <td>com.hcl.voltmx.middleware.api</td>
        <td>com.konylabs.middleware.api</td>
      </tr>
      <tr>
        <td>com.hcl.voltmx.middleware.dataobject</td>
        <td>com.konylabs.middleware.dataobject</td>
      </tr>
	  <tr>
	    <td>VMXFoundry.OfflineObjects.drop</td>
		<td>KNYMobileFabric.OfflineObjects.drop</td>
	  </tr>
    </table>

    <h3>Other</h3>
    This table shows the new Volt MX terms versus old Temenos terms.
    <table>
      <tr>
        <th>New Terms (Volt MX)</th>
        <th>Old Terms (Temenos)</th>
      </tr>
      <tr>
        <td>vfcli.jar</td>
        <td>mfcli.jar</td>
      </tr>
      <tr>
        <td>iris</td>
        <td>viz</td>
      </tr>
      <tr>
        <td>Iris</td>
        <td>Viz</td>
      </tr>
     
    </table>
      
    </div>
      
    </div>
  </div>

    <div class="foot-wrap">
        <div class="foot-nav">
            © Copyright 2020 Temenos © <a href="#" href="#" id="copyrightBtn">Copyright</a> HCL America, Inc., 2021

            <a href="https://hcltechsw.com/wps/portal/legal/privacy" style="margin-left: 10px;">Privacy Statement</a> | <a href="https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fwww.hcltechsw.com%2Fwps%2Fportal%2Flegal%2Fterms-use&data=04%7C01%7Csuresh.chenji%40hcl.com%7Ca77ebddc51574aff8c6c08d8f056542d%7C189de737c93a4f5a8b686f4ca9941912%7C0%7C0%7C637523600856805537%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C1000&sdata=vLnT466NGuIbvQ0nEwfn2qdXeuhHb6XOnh1pibATDI4%3D&reserved=0">Terms of Use</a>
        </div>
        <ul class="social-nav">
            <li><a href="https://www.facebook.com/HCLDigital" class="facebook" target="_blank">Facebook</a></li>
            <li><a href="https://www.linkedin.com/company/hclsoftware" class="linkedin" target="_blank">LinkedIn</a></li>
            <li><a href="https://twitter.com/HCLDigital"  class="twitter" target="_blank">Twitter</a></li>
            <li><a href="https://www.youtube.com/HCLDigitalSolutions" class="youtube" target="_blank">Youtube</a></li>
        </ul>
    </div>

</footer>
<script>
  
var modal = document.getElementById("copyright-modal");
var revisedTerms = document.getElementById("revised-terms");

// Get the button that opens the modal
var btn = document.getElementById("copyrightBtn");
var rtBtn = document.querySelector(".revisedTermsBtn");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];
var span2 = document.getElementsByClassName("close2")[0];

// When the user clicks on the button, open the modal
btn.onclick = function (e) {
    e.preventDefault();
    modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
document.querySelector("span.close").onclick = function () {
    modal.style.display = "none";
}

// When the user clicks on the button, open the modal
rtBtn.onclick = function (e) {
    e.preventDefault();
    revisedTerms.style.display = "block";
}

document.querySelector("span.close2").onclick = function () {
    revisedTerms.style.display = "none";
}

document.onkeydown = function (evt) {
    evt = evt || window.event;
    if (evt.keyCode == 27) {
        modal.style.display = "none";
        revisedTerms.style.display = "none";
    }
};
// When the user clicks anywhere outside of the modal, close it
window.onclick = function (event) {
    if (event.target == modal) {
        modal.style.display = "none";
    } else if (event.target == revisedTerms) {
        revisedTerms.style.display = "none";
    }
}

// nav menu mobile screen  
if (document.documentElement.clientWidth < 800) {
    const subpageNav = document.getElementById('sub-site-nav');
    const submainmenuButton = document.getElementById('sub-menu-button');

    submainmenuButton.addEventListener('click', function () {

        document.getElementById('site-nav').classList.remove('nav-open');
        subpageNav.classList.toggle('nav-open');

    });
}


// horizontal resize of left and right navigation panels
const bar = document.querySelector('.split__bar');
const bar1 = document.querySelector('.split__bar1');
const left = document.querySelector('.side-bar');
const middle = document.querySelector('.main');

const right = document.querySelector('.right-menu');

// side panel collapse and expand buttons 
var togBtn = document.getElementById('left-close');
var togBtnRight = document.getElementById('right-close');
if (togBtn) {
    togBtn.addEventListener('click', (e) => {
        e.preventDefault();
        left.classList.toggle('close-nav');
        left.style.width = "264px";
        togBtn.classList.toggle('flip');

    });
}
if (togBtnRight) {
    togBtnRight.addEventListener('click', (e) => {
        e.preventDefault();
        right.classList.toggle('close-nav');
        right.style.width = "264px";
        togBtnRight.classList.toggle('flip');
    });

}
let mouse_is_down = false;
if (bar) {
    bar.addEventListener('mousedown', (e) => {
        mouse_is_down = true;
    })
}


document.addEventListener('mousemove', (e) => {
    if (!mouse_is_down) return;
    left.style.width = `${e.clientX}px`;
})

document.addEventListener('mouseup', () => {
    mouse_is_down = false;
})



let mouse_is_down1 = false
if (bar1) {
    bar1.addEventListener('mousedown', (e) => {
        mouse_is_down1 = true;
    })
}


document.addEventListener('mousemove', (e) => {
    if (!mouse_is_down1) return;

    right.style.width = `${window.innerWidth - e.clientX}px`;
})

document.addEventListener('mouseup', () => {
    mouse_is_down1 = false;

});



//parentDiv is our max parent selector

function getParents(el, parentSelector) {
    if (parentSelector === undefined) {
        parentSelector = document;
    } else if (el === undefined) {
        return;
    }
    var parents = [];
    var p = el.parentNode;
    while (p !== parentSelector) {
        var o = p;
        parents.push(o);
        p = o.parentNode;
    }
    parents.push(parentSelector);
    return parents;
}



// var current = window.location.href;
var current = window.location.pathname + window.location.hash;
const allLinks = document.querySelectorAll('a.nav-list-link')
const rightLinks = document.querySelectorAll('.right-menu a.nav-list-link')


var activeLink;
var parentDiv = document.getElementById("sub-site-nav") || document.getElementById("site-nav");


for (var j = 0; j < allLinks.length; j++) {
    if (current == allLinks[j].pathname + allLinks[j].hash) {
        allLinks[j].classList.add('active')
        activeLink = allLinks[j];

    } else {
        allLinks[j].classList.remove('active')

    }
}

const parents = getParents(activeLink, parentDiv);
if (parents) {
    for (var i = 0; i < parents.length; i++) {

        if (parents[i].nodeName == 'LI') {
            parents[i].classList.add('active')
        }

    }
    activeLink.parentNode.classList.remove('active');
}
for (const item of rightLinks) {

    item.addEventListener('click', function (event) {
        //...
        event.stopPropagation();
        this.parentNode.classList.remove('active');
        for (var i = 0; i < rightLinks.length; i++) {
            rightLinks[i].classList.remove('active');
        }

        this.classList.add('active')
    })
}


  </script>

</body>
</html>
