<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  

  <link rel="shortcut icon" href="/volt-mx-docs/favicon.ico" type="image/x-icon">

  <link rel="stylesheet" href="/volt-mx-docs/assets/css/just-the-docs-default.css">
  <link rel="stylesheet" href="/volt-mx-docs/assets/css/custom.css">
  

  
    <script type="text/javascript" src="/volt-mx-docs/assets/js/vendor/lunr.min.js"></script>
  
  <script type="text/javascript" src="/volt-mx-docs/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Volt MX | Industry-leading low-code application development platform for delivering beautiful apps across multiple digital touch points with one platform.</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Volt MX" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Industry-leading low-code application development platform for delivering beautiful apps across multiple digital touch points with one platform." />
<meta property="og:description" content="Industry-leading low-code application development platform for delivering beautiful apps across multiple digital touch points with one platform." />
<link rel="canonical" href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VPN_Implementation.html" />
<meta property="og:url" content="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VPN_Implementation.html" />
<meta property="og:site_name" content="Volt MX" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Volt MX" />
<script type="application/ld+json">
{"@type":"WebPage","url":"https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VPN_Implementation.html","headline":"Volt MX","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://hcl-tech-software.github.io/volt-mx-docs/Volt_Mx_logo.png"}},"description":"Industry-leading low-code application development platform for delivering beautiful apps across multiple digital touch points with one platform.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  
</head>

<body>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-search" viewBox="0 0 24 24">
    <title>Search</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
      <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
    </svg>
  </symbol>
</svg>

<div class="header-wrap">
  
  <div class="top-header">
    <div class="site-header">
      <a href="https://hcl-tech-software.github.io/volt-mx-docs/" class="site-title lh-tight">
  <div class="site-logo"></div>

</a>
      <a href="#" id="mainmenu-button"  class="site-button">
        <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
      </a>
    </div>
  </div>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="svg-link" viewBox="0 0 24 24">
      <title>Link</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
      </svg>
    </symbol>
    <symbol id="svg-search" viewBox="0 0 24 24">
      <title>Search</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
        <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
    </symbol>
    <symbol id="svg-menu" viewBox="0 0 24 24">
      <title>Menu</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
        <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </symbol>
    <symbol id="svg-arrow-right" viewBox="0 0 24 24">
      <title>Expand</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    </symbol>
    <symbol id="svg-doc" viewBox="0 0 24 24">
      <title>Document</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
        <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
      </svg>
    </symbol>
  </svg>

  <div id="main-header" class="main-header">
  
  
  <!-- <div class="search-prepare" id="search-prepare">
    <p><img src=" /volt-mx-docs/assets/images/preload.gif" style="height: 24px; width: 24px; margin-right: 5px;" /> Preparing your search results...</p>
  </div>  -->
    <div class="search">
   
      <div class="search-input-wrap">
        <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="search resources..." aria-label="Search Volt MX" autocomplete="off">
        <label for="search-input" class="search-label" id="searchButton"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
                </div>
                       
      <div id="search-results" class="search-results"></div>

      
    </div>
  

  <!-- delete below styles if you uncomment all page-nav links -->
  <style>
    @media (min-width: 50rem){
      .page-nav {right: 400px;top: 0;}
      .search-input-wrap {max-width: 400px;}
    }

  </style>

<!-- below are page-nav links - delete above styles if uncommenting -->
  <ul class="page-nav" id="page-nav">
   <!-- <li><a href="#">Community</a></li> -->
   <li><a href="https://volt-mx.hcltechsw.com/" >Ideas</a></li>
   <li><a href="#" class="active">Learn</a></li>
   <!-- <li><a href="#">Releases</a></li>
   <li><a href="#">Training</a></li>
   <li><a href="#">Ideas</a></li>
   <li><a href="#">Marketplace</a></li>
   <li><a href="#">Login</a></li> -->
 </ul>
 

 
</div>
<script>
  const pageNav = document.getElementById('page-nav');
   const mainHeader = document.getElementById('main-header');
   const mainmenuButton = document.getElementById('mainmenu-button');
 (function(){
  
  mainmenuButton.addEventListener('click', function(){
    pageNav.classList.toggle('nav-open');
});
})();

</script>
  <div class="sub-nav-wrap" id="myDIV">
    <ul class="sub-nav">
        <li class="home-link">
            <a href="/volt-mx-docs/"  class="sub-link ">Home</a>
        </li>
        <!-- <li>
            <a href="/volt-mx-docs/docs/getting-started/"  class="sub-link">Getting Started</a>
        </li> -->
        <li>
            <a href="/volt-mx-docs/docs/tutorials/" class="sub-link ">Tutorials</a>
        </li>
        <li>
            <a href="/volt-mx-docs/docs/documentation/" class="sub-link" id="docLink">Documentation</a>
        </li>
        <li>
            <!-- <a href="/volt-mx-docs/docs/articles/" title="test" class="sub-link">Articles</a> -->
            <a href="https://support.hcltechsw.com/csm?id=kb_search&spa=1&kb_category=db382ff1db631c14a45ad9fcd3961936" title="Articles" class="sub-link">Articles</a>
        </li>
        <li>
            <a href="https://academy.hcltechsw.com/#VoltMxLearningJourneys" title="Articles" class="sub-link">Software Academy</a>
        </li>
    </ul>

    <div class="category-wrap">
    <a href="#" id="menu-button" class="site-button">
        <!-- <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> -->
        select a topic <svg viewBox="0 0 24 24" class="carat-topic"><use xlink:href="#svg-arrow-right"></use></svg>
      </a>
      
          <a href="#" id="sub-menu-button" class="sub-site-button">
             <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
          </a></div>    
</div><style>
    @media (min-width: 50rem) {
    .content-wrap {top: 134px; height: calc(100% - 185px);}
    }   
</style>
<div class="head-ribbon">
    Kony Quantum is now HCL Volt MX. See <a href="#" class="revisedTermsBtn">Revised Terminology</a>. Current Quantum users, see the important note about API naming.  
</div>
</div> 

<style>
  .sub-nav a[href*="/documentation/"] {
   border-bottom: 3px #d694f9 solid;
} 
</style>

<div class="content-wrap ">
  <div class="side-bar scrollable-container">
      <div class="version-dropdown">
        Release:  
        <select name="version" id="version">
            <option value="V9">V9</option>
        </select>
      </div>
    <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav scrollable" >
      <ul class="nav-list"><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/VMX_release_notes.html" class="nav-list-link">Volt MX Release Notes</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/" class="nav-list-link">Fundamentals</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/projectorg.html" class="nav-list-link">Project Organization</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/appUserInterface.html" class="nav-list-link">App User Interface</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/widgetApiReference.html" class="nav-list-link">Widgets & API Reference</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/webAppDevelopment.html" class="nav-list-link">Web App Development</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/buildAndPublish.html" class="nav-list-link">Build and Publish</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/dataBackEndIntergration.html" class="nav-list-link">Data & Back-end Integration</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/extensibility.html" class="nav-list-link">Extensibility</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/security.html" class="nav-list-link">Security</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/voltmxFoundryFundamentals.html" class="nav-list-link">Volt MX Foundry Fundamentals</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/howTosSampleApps.html" class="nav-list-link">How Tos & Sample Apps</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/dataIntegrationServices.html" class="nav-list-link">Data Integration Services</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/offlineObjects.html" class="nav-list-link">Offline Objects</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/apiMangement.html" class="nav-list-link">API Management</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/appServicesAdminitration.html" class="nav-list-link">App Services Administration</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/foundrySDKs.html" class="nav-list-link">Foundry SDKs</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/advancedServerFeature.html" class="nav-list-link">Advanced Server Features</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/analyticsAndApm.html" class="nav-list-link">Analytics and APM</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/engagementServices.html" class="nav-list-link">Engagement Services</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/quantumSync.html" class="nav-list-link">Volt MX Legacy Sync (Deprecated)</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/devOps.html" class="nav-list-link">DevOps</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/heradlessAndContinuousIntegration.html" class="nav-list-link">Headless and Continuous Integration Build</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/installationManagement.html" class="nav-list-link">Installation & Management</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/deployment.html" class="nav-list-link">Deployment</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/documentation73and70.html" class="nav-list-link">Documentation for 7.3 and 7.0 Releases</a></li></ul>
    </nav>
  </div>
  <div class="split-hold" >
    <div class="split__bar"></div>
    <div class="closeclick" id="left-close"></div>
  </div>
  
  
  <!-- start main  -->
  <div class="main scrollable-container resizable-right" id="top">
      
    <div id="main-content-wrap" class="main-content-wrap scrollable">
      
     
      
      
      
      <div id="main-content" class="main-content" role="main">
        
          <p>Volt MX  Foundry on MS Azure: <a href="Appendices.html#appendices">Appendices</a> &gt; <a href="Appendices.html#vpn-reference-implementation">VPN Reference Implementation</a> &gt; Site-to-Site Tunnel Implementation</p>
      <h1 id="virtual-private-network-vpn-reference-implementation">
        
        
          <a href="#virtual-private-network-vpn-reference-implementation" class="anchor-heading" aria-labelledby="virtual-private-network-vpn-reference-implementation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Virtual Private Network (VPN) Reference Implementation:
        
        
      </h1>
    
      <h1 id="site-to-site-tunnel-between-microsoft-azure-and-on-premise-network-with-fortigate-firewall">
        
        
          <a href="#site-to-site-tunnel-between-microsoft-azure-and-on-premise-network-with-fortigate-firewall" class="anchor-heading" aria-labelledby="site-to-site-tunnel-between-microsoft-azure-and-on-premise-network-with-fortigate-firewall"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Site-to-Site tunnel between Microsoft Azure and On-Premise Network with FortiGate Firewall
        
        
      </h1>
    

<p>This document outlines the process required to set up a site-to-site tunnel between an Azure network and an on-premise network with FortiGate Firewall.</p>

<blockquote>
  <p><strong><em>Note:</em></strong> VPN Reference Implementation is documented assuming that the FortiGate Firewall is used on the On-Premise setup. If you are using any other firewall, contact your system administrator for setting up the incoming policies from Volt MX Foundry set up on Microsoft Azure Cloud.</p>
</blockquote>

<p>The following steps help you to implement a VPN connection between Microsoft Azure and an On-Premise Network:</p>

<ol>
  <li><a href="#step-1-create-the-azure-virtual-network">Create the Azure Virtual Network</a></li>
  <li><a href="#step-2-create-the-gateway-subnet">Create the Gateway Subnet</a></li>
  <li><em><a href="#step-3-create-the-virtual-network-gateway-object">Create the Virtual Network Gateway Object</a></em></li>
  <li><a href="#step-4-create-the-local-network-gateway-object">Create the Local Network Gateway Object</a></li>
  <li><a href="#step-5-create-site-to-site-vpn">Create Site-to-Site VPN</a></li>
</ol>
      <h2 id="step-1-create-the-azure-virtual-network">
        
        
          <a href="#step-1-create-the-azure-virtual-network" class="anchor-heading" aria-labelledby="step-1-create-the-azure-virtual-network"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 1. Create the Azure Virtual Network
        
        
      </h2>
    

<p>From the Azure portal, click <code class="language-plaintext highlighter-rouge">New</code> and start typing Virtual network into the search field, then click on <code class="language-plaintext highlighter-rouge">Virtual network</code>.</p>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Create_Azure_N-w.png" alt="" /></p>

<ul>
  <li><strong>Name</strong>: Provide the name for the Virtual Network object in Azure.</li>
  <li><strong>Address space</strong>: Provide a subnet IP Address and ensure that it does not overlap with your on-premises IP address space. Pick an address that is outside the range of your local subnets.For example, 10.100.0.0/16.</li>
  <li><strong>Resource group</strong>: Creates an object in Azure called a Resource group (a container with items related to one another).</li>
  <li><strong>Location</strong>: Places your network into a specific Microsoft datacenter. You cannot connect a virtual machine from a different datacenter to this virtual network.</li>
  <li><strong>Subnet</strong>: Provide a Name and an Address range. You can provide the same details, or a sub-set of the details (saving additional space for later use), that you provided in the Address space. For example,10.100.0.0/24.</li>
</ul>

<p>Once you configure all the fields, click <code class="language-plaintext highlighter-rouge">Create</code> to complete the setup.</p>
      <h2 id="step-2-create-the-gateway-subnet">
        
        
          <a href="#step-2-create-the-gateway-subnet" class="anchor-heading" aria-labelledby="step-2-create-the-gateway-subnet"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 2. Create the Gateway Subnet
        
        
      </h2>
    

<p>You need an internal gateway in your network that Azure can use to route traffic back to your on-premises environment.</p>

<ol>
  <li>After your virtual network is built, select it from <code class="language-plaintext highlighter-rouge">All resources</code>.</li>
  <li>On the left menu, select <code class="language-plaintext highlighter-rouge">Subnets</code>.</li>
  <li>Click the option to add a <code class="language-plaintext highlighter-rouge">Gateway subnet</code>.</li>
</ol>

<blockquote>
  <p><strong><em>Note:</em></strong> Azure picks an address range within the space you previously defined. In the given example, it uses 10.100.1.0/24 as the GatewaySubnet. You cannot pick any other name as this is how Azure knows what the subnet is for.</p>
</blockquote>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Create_Gateway_Subnet_1_594x415.png" alt="" /></p>

<ol>
  <li>
    <p>Click <code class="language-plaintext highlighter-rouge">OK</code>.</p>

    <p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Create_Gateway_Subnet_2.png" alt="" /></p>
  </li>
</ol>
      <h2 id="step-3-create-the-virtual-network-gateway-object">
        
        
          <a href="#step-3-create-the-virtual-network-gateway-object" class="anchor-heading" aria-labelledby="step-3-create-the-virtual-network-gateway-object"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 3. Create the Virtual Network Gateway object
        
        
      </h2>
    

<p>You need a software VPN service which is the endpoint for your firewall. The VPN is called a <strong>Virtual network gateway</strong> in Azure.</p>

<p>Follow these steps to create a new Virtual network gateway:</p>

<ol>
  <li>Go to <code class="language-plaintext highlighter-rouge">New</code>.</li>
  <li>Search for <strong>Virtual network gateway</strong>, and select it from the search results.</li>
  <li>On the next screen, Click <code class="language-plaintext highlighter-rouge">Create</code>.</li>
</ol>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Create_VN_Gateway_Object_1.png" alt="" /></p>

<p>Enter the following details:</p>

<ul>
  <li><strong>Name</strong>: Provide a name that matches with the name of your virtual network.</li>
  <li><strong>Gateway type</strong>: Select <code class="language-plaintext highlighter-rouge">VPN</code>.</li>
  <li><strong>VPN type</strong>: Select <code class="language-plaintext highlighter-rouge">Route-based VPN</code>.</li>
  <li><strong>SKU</strong>: Select Basic, as it fits the requirements of most SMBs (Server Message Blocks).</li>
  <li><strong>Virtual network</strong>: Choose the Virtual Network that you created.</li>
</ul>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Create_VN_Gateway_Object_2_613x271.png" alt="" /></p>

<ul>
  <li><strong>Public IP address</strong>: To create a new Public IP Address: Click on <code class="language-plaintext highlighter-rouge">Create new</code>, give it a name, and click <code class="language-plaintext highlighter-rouge">OK</code>.<br />
It is recommended to append <strong>IP</strong> to the name that matches the gateway object you create.</li>
</ul>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Create_VN_Gateway_Object_3_612x273.png" alt="" /></p>

<p>Choose your <code class="language-plaintext highlighter-rouge">Subscription</code> and your <code class="language-plaintext highlighter-rouge">Location</code> (make sure that you match it with your other resources), and click <code class="language-plaintext highlighter-rouge">Create</code>.</p>

<p>The creation of the virtual network gateway may take some time to complete.</p>
      <h2 id="step-4-create-the-local-network-gateway-object">
        
        
          <a href="#step-4-create-the-local-network-gateway-object" class="anchor-heading" aria-labelledby="step-4-create-the-local-network-gateway-object"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 4. Create the Local Network Gateway object
        
        
      </h2>
    

<p>You must create another object to represent your local on-premises network, so that Azure knows your location, and what is behind your firewall. Basically, this defines your on-premises IP address space, as well as an endpoint or gateway (the public IP assigned to your firewall).</p>

<p>Search for Local network gateway and click <code class="language-plaintext highlighter-rouge">Add</code>.</p>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Create_LN_Gateway_Object.png" alt="" /></p>

<p>Enter the following details:</p>

<ul>
  <li><strong>Name</strong>: Provide a name that is distinct from the Azure Gateway.</li>
  <li><strong>IP address</strong>: This is your firewall’s primary public IP address.</li>
  <li><strong>Address space</strong>: Add all the internal subnets that exist behind your firewall. The Azure virtual network requires routes to these subnets.</li>
</ul>

<blockquote>
  <p><strong><em>Note:</em></strong> Include only those subnets that require communication with the Azure virtual network.</p>
</blockquote>

<ul>
  <li><strong>Subscription</strong>: Select your subscription type.</li>
  <li><strong>Resource group</strong>: Choose your resource group.</li>
  <li><strong>Location</strong>: Select the same location as you did during the creation of the Azure Virtual Network.</li>
</ul>

<p>After entering all these details, click <code class="language-plaintext highlighter-rouge">Create</code>.</p>
      <h2 id="step-5-create-site-to-site-vpn">
        
        
          <a href="#step-5-create-site-to-site-vpn" class="anchor-heading" aria-labelledby="step-5-create-site-to-site-vpn"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 5. Create Site-to-Site VPN
        
        
      </h2>
    

<p>Go to <code class="language-plaintext highlighter-rouge">More Services &gt; Virtual network gateways &gt; Connections &gt; Add</code></p>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Create_Site-Site_VPN.png" alt="" /></p>

<ul>
  <li><strong>Name</strong>: Provide a name related to the Azure Virtual network that you are creating.</li>
  <li><strong>Connection type</strong>: From the drop-down, select <code class="language-plaintext highlighter-rouge">Site-to-Site (IPSec)</code>.</li>
  <li><strong>Local network gateway</strong>: Select the Local network gateway that you created.</li>
  <li><strong>Shared key (PSK)</strong>: Provide a complex string and save it securely. You must provide this key on your on-premises firewall.</li>
</ul>

<p>After entering these details, click <code class="language-plaintext highlighter-rouge">OK</code>.</p>
      <h2 id="on-prem-fortigate-firewall-configuration">
        
        
          <a href="#on-prem-fortigate-firewall-configuration" class="anchor-heading" aria-labelledby="on-prem-fortigate-firewall-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> On-Prem FortiGate Firewall configuration
        
        
      </h2>
    

<p>Log in to Fortinet and go to the VPN tab. Configure both the phases based on the following sections:</p>
      <h3 id="phase-1-configuration">
        
        
          <a href="#phase-1-configuration" class="anchor-heading" aria-labelledby="phase-1-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Phase 1 Configuration
        
        
      </h3>
    

<ul>
  <li>Click the Auto Key (IKE) Tab and create Phase 1.</li>
  <li>Fill out the IP address with the Azure Virtual GW IP.</li>
  <li>Under P1 Proposal, ensure the following:
    <ul>
      <li>Encryption must be AES256. This is mandatory for the FortiGate Vendor.</li>
      <li>Authentication must be SHA1.</li>
      <li>Key life must be 7200.</li>
      <li>Enable NAT translation.</li>
    </ul>
  </li>
</ul>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Phase_1_609x369.png" alt="" /></p>
      <h3 id="phase-2-configuration">
        
        
          <a href="#phase-2-configuration" class="anchor-heading" aria-labelledby="phase-2-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Phase 2 Configuration
        
        
      </h3>
    

<ul>
  <li>Click Auto Key (IKE) Tab and create Phase 2.</li>
  <li>Under Phase 2, set Local Address to the local subnet and Remote Address to the VPN tunnel endpoint subnet (present at the <code class="language-plaintext highlighter-rouge">Virtual Network Address Spaces</code> in Microsoft Azure).</li>
</ul>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Phase_2_613x357.png" alt="" /></p>
      <h2 id="policies">
        
        
          <a href="#policies" class="anchor-heading" aria-labelledby="policies"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Policies
        
        
      </h2>
    

<p>Follow these steps to create the FortiGate firewall policies:</p>

<ul>
  <li>Go to <code class="language-plaintext highlighter-rouge">Policy &amp; Objects &gt; Policy</code></li>
  <li>Create a new policy for the site-to-site connection that allows outgoing traffic.</li>
  <li>Set the Source Address and Destination Address using the Firewall objects you just created.</li>
  <li>Create another policy for the same connection to allow incoming traffic and swap the Source Address and Destination Address.</li>
</ul>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Policy_1_611x499.png" alt="" /></p>

<p>Go to <strong>VPN &gt; Monitor &gt; IPsec Monitor</strong> to check the status of your VPN tunnel.</p>

<p><img src="/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Resources/Images/Policy_2.png" alt="" /></p>

        

        

        
        
         
            <!--<p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2017-2020 HCL Digital Solutions</p>-->


            
              <div class="d-flex mt-2">
                
                
              </div>
            
          </footer>
        

      </div>
    </div>

    
      

      <div class="search-overlay"></div>
    

    
  </div>

  <!-- end main  -->

  
  <div class="split-hold" >
    <div class="split__bar1" ></div>
    <div class="closeclick closeright" id="right-close"></div>
  </div>
    <div class="right-menu scrollable-container" >
      <div class="scrollable">
        <nav role="navigation" aria-label="Main" id="sub-site-nav" class="site-nav" >
<ul class="nav-list">
  

    <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
        <use xlink:href="#svg-arrow-right"></use>
        </svg>
      </a><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#appendices" class="nav-list-link">Appendices</a>
  
      <ul class="nav-list "><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#prerequisite-packages" class="nav-list-link">Prerequisite Packages</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#network-settings-accessing-azure-sql-database" class="nav-list-link">Network Settings - Accessing Azure SQL Database</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#configuring-nat-gateway" class="nav-list-link">Configuring NAT Gateway</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#hosting-your-domain-with-azure-dns" class="nav-list-link">Hosting your domain with Azure DNS</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#generating-a-pfx-file-from-pem" class="nav-list-link">Generating PFX file from PEM</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#extracting-logs-from-your-application" class="nav-list-link">Extracting Logs from Application</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#connecting-to-aks-nodes-through-jumpbox" class="nav-list-link">Connecting to AKS nodes through Jumpbox</a>

  
 </li>
  <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
          <use xlink:href="#svg-arrow-right"></use>
          </svg></a><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#log-analytics" class="nav-list-link">Log Analytics</a>

  <ul class="nav-list "><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#search-logs"
    class="nav-list-link">Search Logs</a>

    

   </li>

    

    </ul>
  
  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#new-relic-monitoring" class="nav-list-link">New Relic Monitoring</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#rolling-updates" class="nav-list-link">Rolling Updates</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#kubernetes-dashboard" class="nav-list-link">Kubernetes Dashboard</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#pod-anti-affinity" class="nav-list-link">Pod Anti-Affinity</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#aks-autoscaling" class="nav-list-link">AKS Autoscaling</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#azure-resource-group-role-based-access-control-rbac" class="nav-list-link">Azure Resource Group Role Based Access Control (RBAC</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#block-ip-addresses-in-the-azure-web-application-firewall" class="nav-list-link">Block IP addresses in Azure Web Application Firewall</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#block-ip-addresses-in-the-azure-cdn" class="nav-list-link">Block IP addresses in Azure CDN</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#whitelist-ip-address-in-azure-cdn" class="nav-list-link">Whitelist IP addresses in Azure CDN</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#configure-email-alerts-for-clamav-and-ossec" class="nav-list-link">Configure Email Alerts for ClamAV and OSSEC</a>

  
 </li>
  <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
          <use xlink:href="#svg-arrow-right"></use>
          </svg></a><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#vpn-reference-implementation" class="nav-list-link">VPN Reference Implementation</a>

  <ul class="nav-list "><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/VPN_Implementation.html"
    class="nav-list-link active">Site-to-Site Tunnel Implementation</a>

    

   </li>

    

    </ul>
  
  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#configure-backup-and-restore-for-azure-file-share" class="nav-list-link">Configure Backup and Restore for Azure File Share</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#setting-custom-vnet-and-subnet-ranges" class="nav-list-link">Setting custom VNet and Subnet ranges</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Appendices.html#features-and-supported-regions" class="nav-list-link">Features and Supported Regions</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Azure_Version_Tracker.html" class="nav-list-link">Azure Version Tracker</a>

  
 </li>
  

</ul>


</li>


    <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
        <use xlink:href="#svg-arrow-right"></use>
        </svg>
      </a><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Frequently_Asked_Questions__FAQs_.html" class="nav-list-link">Frequently Asked Questions (FAQs</a>
  
      <ul class="nav-list "><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_on_azure/Content/Frequently_Asked_Questions__FAQs_.html#installation-metadata" class="nav-list-link">Installation Metadata</a>

  
 </li>
  

</ul>


</li>

</ul>

</nav>


      </div>
  </div></div>





 <!-- footer from footer html -->
 <footer>

    <!-- The Modal -->
<div id="copyright-modal" class="modal">

    <!-- Modal content -->
    <div class="modal-content">
      <span class="close">&times;</span>
      <p>
        © Copyright HCL America, Inc., 2021 - All rights reserved.
      </p>
      <p>This document contains information proprietary to HCL., is bound by the HCL license agreements, and may not be used except in the context of understanding the use and methods of HCL., software without prior, express, written permission. HCL, Empowering Everywhere, HCL Foundry, HCL Flare, and HCL Iris are trademarks of HCL. MobileFoundry is a registered trademark of HCL. Microsoft, the Microsoft logo, Internet Explorer, Windows, and Windows Vista are registered trademarks of Microsoft Corporation. Apple, the Apple logo, iTunes, iPhone, iPad, OS X, Objective-C, Safari, Apple Pay, Apple Watch, and Xcode are trademarks or registered trademarks of Apple, Inc. Google, the Google logo, Android, and the Android logo are registered trademarks of Google, Inc. Chrome is a trademark of Google, Inc. BlackBerry, PlayBook, Research in Motion, and RIM are registered trademarks of BlackBerry. SAP® and SAP® Business Suite® are registered trademarks of SAP SE in Germany and in several other countries. All other terms, trademarks, or service marks mentioned in this document have been capitalized and are to be considered the property of their respective owners.</p>
    </div>
  
  </div>

  <div id="revised-terms" class="modal " style="font-size: 14px;">
    <div class="modal-content scrollable-container">
      <div style="background-color: #333; color: #fff; padding: 10px;">
      <h2>Revised Volt MX product names, APIs, and Others</h2>
      <span class="close2">×</span>
    </div>
    <div class="modal-main-content scrollable">
      <p >
        This document describes the revised list of Volt MX product names, APIs, and others.
      </p>
      <ul class="inline-bullets">
        <li>Product name</li>
        <li>API</li>
        <li>Other</li>
      </ul>
    <p style="clear: both;">
      The following tables show the mapping of Volt MX new terms versus Temenos old terms.
    </p>

    <h3>Product name</h3>
    This table shows the new Volt MX product names versus old Temenos product names.
    <table>
      <tr>
        <th>New Terms (Volt MX)</th>
        <th>Old Terms (Temenos)</th>
      </tr>
      <tr>
        <td>Volt MX</td>
        <td>Quantum</td>
      </tr>
      <tr>
        <td>Iris</td>
        <td>Visualizer</td>
      </tr>
      <tr>
        <td>Foundry</td>
        <td>Mobile Fabric</td>
      </tr>
      <tr>
        <td>Foundry</td>
        <td>Fabric</td>
      </tr>
      <tr>
        <td>Flare</td>
        <td>Nitro</td>
      </tr>
      
    </table>


    <a name="api_names"><h3>API</h3></a>
    This table shows the new Volt MX APIs namespaces versus the old Temenos APIs namespaces, along with examples. The new namespaces are used throughout this documentation; however, if you use a Temenos branded version older than 9.2, you must keep using the old Temenos namespaces.
    <table>
      <tr>
        <th>New Namespace (Volt MX)</th>
        <th>Old Namespace (Temenos)</th>
      </tr>
	  <tr>
	    <td>voltmx</td>
		<td>kony</td>
	  </tr>
	  <tr>
	    <td>com.hcl.voltmx</td>
		<td>com.konylabs</td>
	  </tr>
	  <tr>
	    <td>VMXFoundry</td>
		<td>KNYMobileFabric</td>
	  </tr>
	  <tr>
	  <td colspan="2"  style="text-align:center"><b>Examples</b></td>
	  <td/>
      <tr>
        <td>voltmx.ui.Alert</td>
        <td>kony.ui.Alert</td>
      </tr>
      <tr>
        <td>voltmx.os.deviceInfo</td>
        <td>kony.os.deviceInfo</td>
      </tr>
      <tr>
        <td>com.hcl.voltmx.middleware.api</td>
        <td>com.konylabs.middleware.api</td>
      </tr>
      <tr>
        <td>com.hcl.voltmx.middleware.dataobject</td>
        <td>com.konylabs.middleware.dataobject</td>
      </tr>
	  <tr>
	    <td>VMXFoundry.OfflineObjects.drop</td>
		<td>KNYMobileFabric.OfflineObjects.drop</td>
	  </tr>
    </table>

    <h3>Other</h3>
    This table shows the new Volt MX terms versus old Temenos terms.
    <table>
      <tr>
        <th>New Terms (Volt MX)</th>
        <th>Old Terms (Temenos)</th>
      </tr>
      <tr>
        <td>vfcli.jar</td>
        <td>mfcli.jar</td>
      </tr>
      <tr>
        <td>iris</td>
        <td>viz</td>
      </tr>
      <tr>
        <td>Iris</td>
        <td>Viz</td>
      </tr>
     
    </table>
      
    </div>
      
    </div>
  </div>

    <div class="foot-wrap">
        <div class="foot-nav">
            © Copyright 2020 Temenos © <a href="#" href="#" id="copyrightBtn">Copyright</a> HCL America, Inc., 2021

            <a href="https://hcltechsw.com/wps/portal/legal/privacy" style="margin-left: 10px;">Privacy Statement</a> | <a href="https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fwww.hcltechsw.com%2Fwps%2Fportal%2Flegal%2Fterms-use&data=04%7C01%7Csuresh.chenji%40hcl.com%7Ca77ebddc51574aff8c6c08d8f056542d%7C189de737c93a4f5a8b686f4ca9941912%7C0%7C0%7C637523600856805537%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C1000&sdata=vLnT466NGuIbvQ0nEwfn2qdXeuhHb6XOnh1pibATDI4%3D&reserved=0">Terms of Use</a>
        </div>
        <ul class="social-nav">
            <li><a href="https://www.facebook.com/HCLDigital" class="facebook" target="_blank">Facebook</a></li>
            <li><a href="https://www.linkedin.com/company/hclsoftware" class="linkedin" target="_blank">LinkedIn</a></li>
            <li><a href="https://twitter.com/HCLDigital"  class="twitter" target="_blank">Twitter</a></li>
            <li><a href="https://www.youtube.com/HCLDigitalSolutions" class="youtube" target="_blank">Youtube</a></li>
        </ul>
    </div>

</footer>
<script>
  
var modal = document.getElementById("copyright-modal");
var revisedTerms = document.getElementById("revised-terms");

// Get the button that opens the modal
var btn = document.getElementById("copyrightBtn");
var rtBtn = document.querySelector(".revisedTermsBtn");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];
var span2 = document.getElementsByClassName("close2")[0];

// When the user clicks on the button, open the modal
btn.onclick = function (e) {
    e.preventDefault();
    modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
document.querySelector("span.close").onclick = function () {
    modal.style.display = "none";
}

// When the user clicks on the button, open the modal
rtBtn.onclick = function (e) {
    e.preventDefault();
    revisedTerms.style.display = "block";
}

document.querySelector("span.close2").onclick = function () {
    revisedTerms.style.display = "none";
}

document.onkeydown = function (evt) {
    evt = evt || window.event;
    if (evt.keyCode == 27) {
        modal.style.display = "none";
        revisedTerms.style.display = "none";
    }
};
// When the user clicks anywhere outside of the modal, close it
window.onclick = function (event) {
    if (event.target == modal) {
        modal.style.display = "none";
    } else if (event.target == revisedTerms) {
        revisedTerms.style.display = "none";
    }
}

// nav menu mobile screen  
if (document.documentElement.clientWidth < 800) {
    const subpageNav = document.getElementById('sub-site-nav');
    const submainmenuButton = document.getElementById('sub-menu-button');

    submainmenuButton.addEventListener('click', function () {

        document.getElementById('site-nav').classList.remove('nav-open');
        subpageNav.classList.toggle('nav-open');

    });
}


// horizontal resize of left and right navigation panels
const bar = document.querySelector('.split__bar');
const bar1 = document.querySelector('.split__bar1');
const left = document.querySelector('.side-bar');
const middle = document.querySelector('.main');

const right = document.querySelector('.right-menu');

// side panel collapse and expand buttons 
var togBtn = document.getElementById('left-close');
var togBtnRight = document.getElementById('right-close');
if (togBtn) {
    togBtn.addEventListener('click', (e) => {
        e.preventDefault();
        left.classList.toggle('close-nav');
        left.style.width = "264px";
        togBtn.classList.toggle('flip');

    });
}
if (togBtnRight) {
    togBtnRight.addEventListener('click', (e) => {
        e.preventDefault();
        right.classList.toggle('close-nav');
        right.style.width = "264px";
        togBtnRight.classList.toggle('flip');
    });

}
let mouse_is_down = false;
if (bar) {
    bar.addEventListener('mousedown', (e) => {
        mouse_is_down = true;
    })
}


document.addEventListener('mousemove', (e) => {
    if (!mouse_is_down) return;
    left.style.width = `${e.clientX}px`;
})

document.addEventListener('mouseup', () => {
    mouse_is_down = false;
})



let mouse_is_down1 = false
if (bar1) {
    bar1.addEventListener('mousedown', (e) => {
        mouse_is_down1 = true;
    })
}


document.addEventListener('mousemove', (e) => {
    if (!mouse_is_down1) return;

    right.style.width = `${window.innerWidth - e.clientX}px`;
})

document.addEventListener('mouseup', () => {
    mouse_is_down1 = false;

});



//parentDiv is our max parent selector

function getParents(el, parentSelector) {
    if (parentSelector === undefined) {
        parentSelector = document;
    } else if (el === undefined) {
        return;
    }
    var parents = [];
    var p = el.parentNode;
    while (p !== parentSelector) {
        var o = p;
        parents.push(o);
        p = o.parentNode;
    }
    parents.push(parentSelector);
    return parents;
}



// var current = window.location.href;
var current = window.location.pathname + window.location.hash;
const allLinks = document.querySelectorAll('a.nav-list-link')
const rightLinks = document.querySelectorAll('.right-menu a.nav-list-link')


var activeLink;
var parentDiv = document.getElementById("sub-site-nav") || document.getElementById("site-nav");


for (var j = 0; j < allLinks.length; j++) {
    if (current == allLinks[j].pathname + allLinks[j].hash) {
        allLinks[j].classList.add('active')
        activeLink = allLinks[j];

    } else {
        allLinks[j].classList.remove('active')

    }
}

const parents = getParents(activeLink, parentDiv);
if (parents) {
    for (var i = 0; i < parents.length; i++) {

        if (parents[i].nodeName == 'LI') {
            parents[i].classList.add('active')
        }

    }
    activeLink.parentNode.classList.remove('active');
}
for (const item of rightLinks) {

    item.addEventListener('click', function (event) {
        //...
        event.stopPropagation();
        this.parentNode.classList.remove('active');
        for (var i = 0; i < rightLinks.length; i++) {
            rightLinks[i].classList.remove('active');
        }

        this.classList.add('active')
    })
}


  </script>

</body>
</html>
