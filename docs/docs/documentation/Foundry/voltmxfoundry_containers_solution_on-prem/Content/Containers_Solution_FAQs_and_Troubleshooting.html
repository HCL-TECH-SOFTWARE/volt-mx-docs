<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  

  <link rel="shortcut icon" href="/volt-mx-docs/favicon.ico" type="image/x-icon">

  <link rel="stylesheet" href="/volt-mx-docs/assets/css/just-the-docs-default.css">
  <link rel="stylesheet" href="/volt-mx-docs/assets/css/custom.css">
  

  
    <script type="text/javascript" src="/volt-mx-docs/assets/js/vendor/lunr.min.js"></script>
  
  <script type="text/javascript" src="/volt-mx-docs/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Volt MX | Industry-leading low-code application development platform for delivering beautiful apps across multiple digital touch points with one platform.</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Volt MX" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Industry-leading low-code application development platform for delivering beautiful apps across multiple digital touch points with one platform." />
<meta property="og:description" content="Industry-leading low-code application development platform for delivering beautiful apps across multiple digital touch points with one platform." />
<link rel="canonical" href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_containers_solution_on-prem/Content/Containers_Solution_FAQs_and_Troubleshooting.html" />
<meta property="og:url" content="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_containers_solution_on-prem/Content/Containers_Solution_FAQs_and_Troubleshooting.html" />
<meta property="og:site_name" content="Volt MX" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Volt MX" />
<script type="application/ld+json">
{"url":"https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_containers_solution_on-prem/Content/Containers_Solution_FAQs_and_Troubleshooting.html","headline":"Volt MX","@type":"WebPage","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://hcl-tech-software.github.io/volt-mx-docs/Volt_Mx_logo.png"}},"description":"Industry-leading low-code application development platform for delivering beautiful apps across multiple digital touch points with one platform.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  
</head>

<body>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-search" viewBox="0 0 24 24">
    <title>Search</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
      <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
    </svg>
  </symbol>
</svg>

<div class="header-wrap">
  
  <div class="top-header">
    <div class="site-header">
      <a href="https://hcl-tech-software.github.io/volt-mx-docs/" class="site-title lh-tight">
  <div class="site-logo"></div>

</a>
      <a href="#" id="mainmenu-button"  class="site-button">
        <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
      </a>
    </div>
  </div>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="svg-link" viewBox="0 0 24 24">
      <title>Link</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
      </svg>
    </symbol>
    <symbol id="svg-search" viewBox="0 0 24 24">
      <title>Search</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
        <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
    </symbol>
    <symbol id="svg-menu" viewBox="0 0 24 24">
      <title>Menu</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
        <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </symbol>
    <symbol id="svg-arrow-right" viewBox="0 0 24 24">
      <title>Expand</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    </symbol>
    <symbol id="svg-doc" viewBox="0 0 24 24">
      <title>Document</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
        <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
      </svg>
    </symbol>
  </svg>

  <div id="main-header" class="main-header">
  
  
  <!-- <div class="search-prepare" id="search-prepare">
    <p><img src=" /volt-mx-docs/assets/images/preload.gif" style="height: 24px; width: 24px; margin-right: 5px;" /> Preparing your search results...</p>
  </div>  -->
    <div class="search">
   
      <div class="search-input-wrap">
        <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="search resources..." aria-label="Search Volt MX" autocomplete="off">
        <label for="search-input" class="search-label" id="searchButton"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
                </div>
                       
      <div id="search-results" class="search-results"></div>

      
    </div>
  

  <!-- delete below styles if you uncomment all page-nav links -->
  <style>
    @media (min-width: 50rem){
      .page-nav {right: 400px;top: 0;}
      .search-input-wrap {max-width: 400px;}
    }

  </style>

<!-- below are page-nav links - delete above styles if uncommenting -->
  <ul class="page-nav" id="page-nav">
   <!-- <li><a href="#">Community</a></li> -->
   <li><a href="https://volt-mx.hcltechsw.com/" >Ideas</a></li>
   <li><a href="#" class="active">Learn</a></li>
   <!-- <li><a href="#">Releases</a></li>
   <li><a href="#">Training</a></li>
   <li><a href="#">Ideas</a></li>
   <li><a href="#">Marketplace</a></li>
   <li><a href="#">Login</a></li> -->
 </ul>
 

 
</div>
<script>
  const pageNav = document.getElementById('page-nav');
   const mainHeader = document.getElementById('main-header');
   const mainmenuButton = document.getElementById('mainmenu-button');
 (function(){
  
  mainmenuButton.addEventListener('click', function(){
    pageNav.classList.toggle('nav-open');
});
})();

</script>
  <div class="sub-nav-wrap" id="myDIV">
    <ul class="sub-nav">
        <li class="home-link">
            <a href="/volt-mx-docs/"  class="sub-link ">Home</a>
        </li>
        <!-- <li>
            <a href="/volt-mx-docs/docs/getting-started/"  class="sub-link">Getting Started</a>
        </li> -->
        <li>
            <a href="/volt-mx-docs/docs/tutorials/" class="sub-link ">Tutorials</a>
        </li>
        <li>
            <a href="/volt-mx-docs/docs/documentation/" class="sub-link" id="docLink">Documentation</a>
        </li>
        <li>
            <!-- <a href="/volt-mx-docs/docs/articles/" title="test" class="sub-link">Articles</a> -->
            <a href="https://support.hcltechsw.com/csm?id=kb_search&spa=1&kb_category=db382ff1db631c14a45ad9fcd3961936" title="Articles" class="sub-link">Articles</a>
        </li>
        <li>
            <a href="https://academy.hcltechsw.com/#VoltMxLearningJourneys" title="Articles" class="sub-link">Software Academy</a>
        </li>
    </ul>

    <div class="category-wrap">
    <a href="#" id="menu-button" class="site-button">
        <!-- <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> -->
        select a topic <svg viewBox="0 0 24 24" class="carat-topic"><use xlink:href="#svg-arrow-right"></use></svg>
      </a>
      
          <a href="#" id="sub-menu-button" class="sub-site-button">
             <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
          </a></div>    
</div><style>
    @media (min-width: 50rem) {
    .content-wrap {top: 134px; height: calc(100% - 185px);}
    }   
</style>
<div class="head-ribbon">
    Kony Quantum is now HCL Volt MX. See <a href="#" class="revisedTermsBtn">Revised Terminology</a>. Current Quantum users, see the important note about API naming.  
</div>
</div> 

<style>
  .sub-nav a[href*="/documentation/"] {
   border-bottom: 3px #d694f9 solid;
} 
</style>

<div class="content-wrap ">
  <div class="side-bar scrollable-container">
      <div class="version-dropdown">
        Release:  
        <select name="version" id="version">
            <option value="V9">V9</option>
        </select>
      </div>
    <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav scrollable" >
      <ul class="nav-list"><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/" class="nav-list-link">Fundamentals</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/VMX_release_notes.html" class="nav-list-link">Volt MX Release Notes</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/projectorg.html" class="nav-list-link">Project Organization</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/appUserInterface.html" class="nav-list-link">App User Interface</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/widgetApiReference.html" class="nav-list-link">Widgets & API Reference</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/webAppDevelopment.html" class="nav-list-link">Web App Development</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/buildAndPublish.html" class="nav-list-link">Build and Publish</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/extensibility.html" class="nav-list-link">Extensibility</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/dataBackEndIntergration.html" class="nav-list-link">Data & Back-end Integration</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/security.html" class="nav-list-link">Security</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/voltmxFoundryFundamentals.html" class="nav-list-link">Volt MX Foundry Fundamentals</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/howTosSampleApps.html" class="nav-list-link">How Tos & Sample Apps</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/dataIntegrationServices.html" class="nav-list-link">Data Integration Services</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/offlineObjects.html" class="nav-list-link">Offline Objects</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/apiMangement.html" class="nav-list-link">API Management</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/appServicesAdminitration.html" class="nav-list-link">App Services Administration</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/foundrySDKs.html" class="nav-list-link">Foundry SDKs</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/advancedServerFeature.html" class="nav-list-link">Advanced Server Features</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/analyticsAndApm.html" class="nav-list-link">Analytics and APM</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/engagementServices.html" class="nav-list-link">Engagement Services</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/quantumSync.html" class="nav-list-link">Volt MX Legacy Sync (Deprecated)</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/devOps.html" class="nav-list-link">DevOps</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/heradlessAndContinuousIntegration.html" class="nav-list-link">Headless and Continuous Integration Build</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/installationManagement.html" class="nav-list-link">Installation & Management</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/deployment.html" class="nav-list-link">Deployment</a></li><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/documentation73and70.html" class="nav-list-link">Documentation for 7.3 and 7.0 Releases</a></li></ul>
    </nav>
  </div>
  <div class="split-hold" >
    <div class="split__bar"></div>
    <div class="closeclick" id="left-close"></div>
  </div>
  
  
  <!-- start main  -->
  <div class="main scrollable-container resizable-right" id="top">
      
    <div id="main-content-wrap" class="main-content-wrap scrollable">
      
     
      
      
      
      <div id="main-content" class="main-content" role="main">
        
          <p>You are here: FAQs and Troubleshooting</p>
      <h1 id="faqs-and-troubleshooting">
        
        
          <a href="#faqs-and-troubleshooting" class="anchor-heading" aria-labelledby="faqs-and-troubleshooting"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> FAQs and Troubleshooting
        
        
      </h1>
    

<ul>
  <li>
    <p><strong>How can I join a new worker node to the cluster post the cluster setup?</strong></p>

    <ol>
      <li>Copy the setup-node.zip file which is generated in Foundry container artifact folder (VoltMXFoundryContainerOnPrem-9.0.0.0_GA) which is present on the node on which you triggered the cluster installation. This setup-node.zip file contains the script to install the required Kubernetes packages and Docker on node and has kubeadm join token to join a node to a cluster.</li>
      <li>Extract the setup-nodes.zip file.</li>
    </ol>
  </li>
</ul>
<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">sudo unzip setup-node.zip -d setup-node
        </code></pre></figure>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>3.  Navigate to setup-node folder.
</code></pre></div></div>
<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">cd setup-node
        </code></pre></figure>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>4.  Run the following command to add the new worker node.
</code></pre></div></div>
<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">sudo ./setup-node.sh
        </code></pre></figure>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>5.  If the node fails to join, the setup-node.sh file contains a token to join a node to the cluster. This token is valid for one hour. If you are joining the node after one hour, the token is regenerated on any master node. To generate the token, execute the following command.
</code></pre></div></div>
<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">sudo kubeadm token create --print-join-command
        </code></pre></figure>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>6.  Perform these steps if the worker node will be used for **logging and monitoring** purposes:
    1.  Label the worker node with the local volume role.
</code></pre></div></div>
<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">kubectl label nodes --selector='!node-role.kubernetes.io/master' role=local-volume
            </code></pre></figure>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    2.  Create the following local volumes for logging and monitoring purposes.
</code></pre></div></div>
<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">mkdir -p /root/foundry/prometheus
            </code></pre></figure>

<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">mkdir -p /root/foundry/grafana
            </code></pre></figure>

<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">mkdir -p /root/foundry/elasticSearch
            </code></pre></figure>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>7.  Copy the kubeadm join which is generated from the previous step and run it in the node to be joined. This joins the worker node to master. *   **How can I join a new master node to the cluster post the cluster setup?**

Perform the following steps to join new master node.

1.  Copy the setup-node.zip file which is generated in Foundry container artifact folder (VoltMXFoundryContainerOnPrem-9.0.0.0\_GA) which is present on the node on which you triggered the cluster installation. This setup-node.zip file contains the script to install required Kubernetes packages and Docker on node and has kubeadm join token to join node to cluster.
2.  Extract the setup-nodes.zip file.
</code></pre></div></div>
<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">sudo unzip setup-node.zip -d setup-node
        </code></pre></figure>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>3.  Navigate to setup-node folder.
</code></pre></div></div>
<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">cd setup-node
        </code></pre></figure>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>4.  Run the following command to add a new master node.
</code></pre></div></div>
<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">sudo ./setup-node.sh control-plane
        </code></pre></figure>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>5.  If the node fails to join, the setup-node.sh file contains a token to join a node to the cluster. This token is valid for one hour. If you are joining the node after one hour, the token should be regenerated on any master node. To generate the token, execute the following set of commands on an existing master node.
</code></pre></div></div>
<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">CERTIFICATE_KEY=$(kubeadm alpha certs certificate-key)  
        kubeadm init phase upload-certs --upload-certs --certificate-key $CERTIFICATE_KEY  
        WORKER_JOIN_COMMAND=$(kubeadm token create --print-join-command)  
        CONTROL_PLANE_JOIN_COMMAND="${WORKER_JOIN_COMMAND} --control-plane --certificate-key ${CERTIFICATE_KEY}"  
        echo $CONTROL_PLANE_JOIN_COMMAND
        </code></pre></figure>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>6.  Copy the kubeadm join which is generated from the previous step and run it in the node to be joined. This joins the master node to the existing master cluster. *   **How to drain a worker node from the cluster?**

1.  You must cordon a node first so that pods don’t get scheduled on the node that will be drained. Run the following command to cordon a node.
</code></pre></div></div>
<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">kubectl cordon &lt;Node_Name&gt;
        </code></pre></figure>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>2.  To safely evict all your pods from a node before you perform maintenance on the node, you must drain the node. Run the following command to drain the node.
</code></pre></div></div>
<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">sudo kubectl drain &lt;Node_Name&gt; --delete-local-data --ignore-daemonsets
        </code></pre></figure>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>3.  After draining, you can safely delete the node. Run the following command to delete the node.
</code></pre></div></div>
<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">sudo kubectl delete node &lt;Node_Name&gt;
        </code></pre></figure>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>To join the worker node back to the cluster, generate a token in the master node and run that token in the worker node.
</code></pre></div></div>

<ul>
  <li>
    <p><strong>How to schedule pods on to a newly added worker node?</strong></p>

    <p>To schedule pods on to a newly added worker node, you have to run the descheduler template yml file. Go to the Foundry container artifacts folder (VoltMXFoundryContainerOnPrem-9.0.0.0_GA)and run the following command.</p>
  </li>
</ul>

<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">sudo kubectl apply -f add-ons/voltmx-foundry-descheduler.yml
    </code></pre></figure>

<ul>
  <li>
    <p><strong>Do I need to have an account with the Docker Hub to download the Foundry Images?</strong></p>

    <p>No. The images are public and you do not need any authorization to download them.</p>
  </li>
  <li>
    <p><strong>Can I decide the number of nodes in the Kubernetes cluster?</strong></p>

    <p>Yes.</p>
  </li>
  <li>
    <p><strong>How can I white-list custom IP ranges to allow access to Azure Database service?</strong></p>

    <p>You can white-list the required IP addresses under the Firewall Rules of the Connection Security page for the Database, so that it is accessible by the DB user and the application. For more details, refer to <a href="https://docs.microsoft.com/en-us/azure/mysql/concepts-firewall-rules">Firewall Rules</a>.</p>
  </li>
  <li>
    <p><strong>How to get the Foundry instance working after the database password ID changed?</strong></p>

    <p>You must make the required changes in the database. For the changes required in the XML and Catalina files, perform the following steps:</p>

    <ol>
      <li>In the install folder open the Foundry app yml file found at : <code class="language-plaintext highlighter-rouge">&lt;Install_folder&gt;/gen/&lt;env&gt;/voltmx-foundry-app.yml</code>.</li>
      <li>Modify all the values that have the suffix as DB_PASS, to the latest values. Save the yml file.</li>
      <li>Execute the following command:</li>
    </ol>
  </li>
</ul>
<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">kubectl apply -f voltmx-foundry-app.yml
        </code></pre></figure>
      <h2 id="commonly-used-commands">
        
        
          <a href="#commonly-used-commands" class="anchor-heading" aria-labelledby="commonly-used-commands"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Commonly used commands
        
        
      </h2>
    

<p>Following is the list of commonly used commands in this installation. You can execute the following commands from your terminal. For more commands refer to the <a href="https://kubernetes.io/docs/reference/kubectl/cheatsheet/">kubectl Cheat Sheet</a>.</p>

<table>
  <thead>
    <tr>
      <th>COMMAND</th>
      <th>ACTION</th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>$ kubectl get pods</td>
      <td>Get the list of all the Foundry pods.</td>
      <td> </td>
    </tr>
    <tr>
      <td>$ kubectl get pods –all-namespaces</td>
      <td>Get the list of all pods in the cluster.</td>
      <td> </td>
    </tr>
    <tr>
      <td>$ kubectl get nodes</td>
      <td>Get the list of all the nodes.</td>
      <td> </td>
    </tr>
    <tr>
      <td>$ kubectl describe po/&lt;POD_NAME&gt; -n <NAMESPACE></NAMESPACE></td>
      <td>Shows the details of a specific pod.</td>
      <td> </td>
    </tr>
    <tr>
      <td>$ kubectl exec -it &lt;POD_NAME&gt; -n <NAMESPACE> bash</NAMESPACE></td>
      <td>Bash into the container.</td>
      <td> </td>
    </tr>
    <tr>
      <td>$ kubectl logs -f &lt;POD_NAME&gt; -n <NAMESPACE></NAMESPACE></td>
      <td>View logs of the container.</td>
      <td> </td>
    </tr>
    <tr>
      <td>$ kubectl get services –all-namespaces</td>
      <td>Get the list of services in cluster.</td>
      <td> </td>
    </tr>
    <tr>
      <td>$ kubectl delete pod &lt;POD_NAME&gt; - n <NAMESPACE></NAMESPACE></td>
      <td>Delete a pod.</td>
      <td> </td>
    </tr>
    <tr>
      <td>$ kubectl delete namespaces &lt;NAMESPACE_NAME&gt;</td>
      <td>Delete a namespace.</td>
      <td> </td>
    </tr>
    <tr>
      <td>$ kubectl get pod –all-namespaces -o=custom-columns=NAME:.metadata.name,STATUS:.status.phase,NODE:.spec.nodeName</td>
      <td>Know which pods are running on which nodes.</td>
      <td> </td>
    </tr>
    <tr>
      <td>$ sudo iptables-save</td>
      <td>grep voltmx-foundry-apiportal</td>
      <td>Get the rules created in the IP tables by kubeproxy.</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>Note:</strong></p>
  <ul>
    <li><strong>Log rotation</strong> involves handling the size of log files and making sure they do not consume too much memory.</li>
    <li><strong>Cert rotation</strong> involves updating the certificates used in an HTTPS setup before they expire.</li>
  </ul>
</blockquote>

<p>The Volt MX Foundry Container Cluster Solution does not handle Log rotation and Cert rotation. You must ensure to keep these in check post-installation.</p>
      <h2 id="cluster-cleanup">
        
        
          <a href="#cluster-cleanup" class="anchor-heading" aria-labelledby="cluster-cleanup"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Cluster cleanup
        
        
      </h2>
    

<p>Run the following script to delete all the Kubernetes and app resources created via the install script:</p>

<figure class="highlight"><pre><code class="language-voltmx" data-lang="voltmx">kubectl delete deploy [(NAME | -l label | --all)]  
kubectl delete svc [(NAME | -l label | --all)]  
kubectl delete cm [(NAME | -l label | --all)]  
kubectl delete secrets [(NAME | -l label | --all)]  
kubectl delete ing [(NAME | -l label | --all)]  
kubectl delete jobs [(NAME | -l label | --all)]  
kubectl delete deploy --all -n kube-system  
kubectl delete svc --all -n kube-system  
kubectl delete cm --all -n kube-system  
kubectl delete ing --all -n kube-system
kubeadm reset</code></pre></figure>

<p>For more information, refer to <a href="https://kubernetes.io/docs/reference/kubectl/cheatsheet#deleting-resources">Cluster Delete</a>.</p>
      <h2 id="configuring-iris-to-connect-to-volt-mx-foundry">
        
        
          <a href="#configuring-iris-to-connect-to-volt-mx-foundry" class="anchor-heading" aria-labelledby="configuring-iris-to-connect-to-volt-mx-foundry"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuring Iris to connect to Volt MX Foundry
        
        
      </h2>
    

<p>For details on configuring Iris to connect to Foundry, refer to <a href="/volt-mx-docs/docs/documentation/Iris/iris_user_guide/Content/Connect_to_VoltMXFoundry.html">Connect to Volt MX Foundry</a> in the Iris User Guide.</p>

        

        

        
        
         
            <!--<p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2017-2020 HCL Digital Solutions</p>-->


            
              <div class="d-flex mt-2">
                
                
              </div>
            
          </footer>
        

      </div>
    </div>

    
      

      <div class="search-overlay"></div>
    

    
  </div>

  <!-- end main  -->

  
  <div class="split-hold" >
    <div class="split__bar1" ></div>
    <div class="closeclick closeright" id="right-close"></div>
  </div>
    <div class="right-menu scrollable-container" >
      <div class="scrollable">
        <nav role="navigation" aria-label="Main" id="sub-site-nav" class="site-nav" >
<ul class="nav-list">
  

    <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_containers_solution_on-prem/Content/Introduction.html" class="nav-list-link">Volt MX Foundry Installation Guide - Containers Solution</a>
  
      
</li>


    <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
        <use xlink:href="#svg-arrow-right"></use>
        </svg>
      </a><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_containers_solution_on-prem/Content/VoltMX_Foundry_Containers_Solution_On-Prem.html#overview" class="nav-list-link">Overview</a>
  
      <ul class="nav-list "><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_containers_solution_on-prem/Content/VoltMX_Foundry_Containers_Solution_On-Prem.html#salient-features" class="nav-list-link">Salient Features</a>

  
 </li>
  

</ul>


</li>


    <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
        <use xlink:href="#svg-arrow-right"></use>
        </svg>
      </a><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_containers_solution_on-prem/Content/VoltMX_Foundry_Containers_Solution_On-Prem.html#prerequisites" class="nav-list-link">Prerequisites</a>
  
      <ul class="nav-list "><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_containers_solution_on-prem/Content/VoltMX_Foundry_Containers_Solution_On-Prem.html#software-requirements" class="nav-list-link">Software Requirements</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_containers_solution_on-prem/Content/VoltMX_Foundry_Containers_Solution_On-Prem.html#H/w_Req" class="nav-list-link">Hardware Requirements</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_containers_solution_on-prem/Content/VoltMX_Foundry_Containers_Solution_On-Prem.html#firewall-settings" class="nav-list-link">Firewall Settings</a>

  
 </li>
  

</ul>


</li>


    <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_containers_solution_on-prem/Content/VoltMX_Foundry_Containers_Solution_On-Prem.html#preinstallation-tasks" class="nav-list-link">Preinstallation Tasks</a>
  
      
</li>


    <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
        <use xlink:href="#svg-arrow-right"></use>
        </svg>
      </a><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_containers_solution_on-prem/Content/VoltMX_Foundry_Containers_Solution_On-Prem.html#architecture" class="nav-list-link">Architecture</a>
  
      <ul class="nav-list "><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_containers_solution_on-prem/Content/VoltMX_Foundry_Containers_Solution_On-Prem.html#installation-types" class="nav-list-link">Installation Types</a>

  
 </li>
  

</ul>


</li>


    <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_containers_solution_on-prem/Content/VoltMX_Foundry_Containers_Solution_On-Prem.html#configuration" class="nav-list-link">Configuration</a>
  
      
</li>


    <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
        <use xlink:href="#svg-arrow-right"></use>
        </svg>
      </a><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_containers_solution_on-prem/Content/VoltMX_Foundry_Containers_Solution_On-Prem.html#installation" class="nav-list-link">Installation</a>
  
      <ul class="nav-list "><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_containers_solution_on-prem/Content/VoltMX_Foundry_Containers_Solution_On-Prem.html#known-issues-and-limitations" class="nav-list-link">Limitations</a>

  
 </li>
  

</ul>


</li>


    <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
        <use xlink:href="#svg-arrow-right"></use>
        </svg>
      </a><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_containers_solution_on-prem/Content/Containers_Solution_PostInstallation.html" class="nav-list-link">Post Installation Tasks</a>
  
      <ul class="nav-list "><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_containers_solution_on-prem/Content/Containers_Solution_PostInstallation.html#configuring-kibana-dashboard" class="nav-list-link">Configuring Kibana</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_containers_solution_on-prem/Content/Containers_Solution_PostInstallation.html#configuring-grafana-monitoring-tool" class="nav-list-link">Configuring Grafana</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_containers_solution_on-prem/Content/Containers_Solution_PostInstallation.html#configuring-alert-manager" class="nav-list-link">Configuring Alert Manager</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_containers_solution_on-prem/Content/Containers_Solution_PostInstallation.html#how-to-access-the-kubernetes-dashboard" class="nav-list-link">How to access Kubernetes Dashboard</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_containers_solution_on-prem/Content/Containers_Solution_PostInstallation.html#how-to-upgrade-individual-foundry-components" class="nav-list-link">How to Upgrade Individual Foundry Components</a>

  
 </li>
  

</ul>


</li>


    <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
        <use xlink:href="#svg-arrow-right"></use>
        </svg>
      </a><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_containers_solution_on-prem/Content/Containers_Solution_Appendices.html" class="nav-list-link">Appendices</a>
  
      <ul class="nav-list "><li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_containers_solution_on-prem/Content/Containers_Solution_Appendices.html#enabling-metrics-server" class="nav-list-link">Enabling Metrics Server</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_containers_solution_on-prem/Content/Containers_Solution_Appendices.html#enabling-kuberhealthy" class="nav-list-link">Enabling Kuberhealthy</a>

  
 </li>
  <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_containers_solution_on-prem/Content/Containers_Solution_Appendices.html#enabling-stern" class="nav-list-link">Enabling Stern</a>

  
 </li>
  

</ul>


</li>


    <li class="nav-list-item"><a href="https://hcl-tech-software.github.io/volt-mx-docs/docs/documentation/Foundry/voltmxfoundry_containers_solution_on-prem/Content/Containers_Solution_FAQs_and_Troubleshooting.html" class="nav-list-link active">FAQs and Troubleshooting</a>
  
      
</li>

</ul>

</nav>


      </div>
  </div></div>





 <!-- footer from footer html -->
 <footer>

    <!-- The Modal -->
<div id="copyright-modal" class="modal">

    <!-- Modal content -->
    <div class="modal-content">
      <span class="close">&times;</span>
      <p>
        © Copyright HCL America, Inc., 2021 - All rights reserved.
      </p>
      <p>This document contains information proprietary to HCL., is bound by the HCL license agreements, and may not be used except in the context of understanding the use and methods of HCL., software without prior, express, written permission. HCL, Empowering Everywhere, HCL Foundry, HCL Flare, and HCL Iris are trademarks of HCL. MobileFoundry is a registered trademark of HCL. Microsoft, the Microsoft logo, Internet Explorer, Windows, and Windows Vista are registered trademarks of Microsoft Corporation. Apple, the Apple logo, iTunes, iPhone, iPad, OS X, Objective-C, Safari, Apple Pay, Apple Watch, and Xcode are trademarks or registered trademarks of Apple, Inc. Google, the Google logo, Android, and the Android logo are registered trademarks of Google, Inc. Chrome is a trademark of Google, Inc. BlackBerry, PlayBook, Research in Motion, and RIM are registered trademarks of BlackBerry. SAP® and SAP® Business Suite® are registered trademarks of SAP SE in Germany and in several other countries. All other terms, trademarks, or service marks mentioned in this document have been capitalized and are to be considered the property of their respective owners.</p>
    </div>
  
  </div>

  <div id="revised-terms" class="modal " style="font-size: 14px;">
    <div class="modal-content scrollable-container">
      <div style="background-color: #333; color: #fff; padding: 10px;">
      <h2>Revised Volt MX product names, APIs, and Others</h2>
      <span class="close2">×</span>
    </div>
    <div class="modal-main-content scrollable">
      <p >
        This document describes the revised list of Volt MX product names, APIs, and others.
      </p>
      <ul class="inline-bullets">
        <li>Product name</li>
        <li>API</li>
        <li>Other</li>
      </ul>
    <p style="clear: both;">
      The following tables show the mapping of Volt MX new terms versus Temenos old terms.
    </p>

    <h3>Product name</h3>
    This table shows the new Volt MX product names versus old Temenos product names.
    <table>
      <tr>
        <th>New Terms (Volt MX)</th>
        <th>Old Terms (Temenos)</th>
      </tr>
      <tr>
        <td>Volt MX</td>
        <td>Quantum</td>
      </tr>
      <tr>
        <td>Iris</td>
        <td>Visualizer</td>
      </tr>
      <tr>
        <td>Foundry</td>
        <td>Mobile Fabric</td>
      </tr>
      <tr>
        <td>Foundry</td>
        <td>Fabric</td>
      </tr>
      <tr>
        <td>Flare</td>
        <td>Nitro</td>
      </tr>
      
    </table>


    <a name="api_names"><h3>API</h3></a>
    This table shows the new Volt MX APIs namespaces versus the old Temenos APIs namespaces, along with examples. The new namespaces are used throughout this documentation; however, if you use a Temenos branded version older than 9.2, you must keep using the old Temenos namespaces.
    <table>
      <tr>
        <th>New Namespace (Volt MX)</th>
        <th>Old Namespace (Temenos)</th>
      </tr>
	  <tr>
	    <td>voltmx</td>
		<td>kony</td>
	  </tr>
	  <tr>
	    <td>com.hcl.voltmx</td>
		<td>com.konylabs</td>
	  </tr>
	  <tr>
	    <td>VMXFoundry</td>
		<td>KNYMobileFabric</td>
	  </tr>
	  <tr>
	  <td colspan="2"  style="text-align:center"><b>Examples</b></td>
	  <td/>
      <tr>
        <td>voltmx.ui.Alert</td>
        <td>kony.ui.Alert</td>
      </tr>
      <tr>
        <td>voltmx.os.deviceInfo</td>
        <td>kony.os.deviceInfo</td>
      </tr>
      <tr>
        <td>com.hcl.voltmx.middleware.api</td>
        <td>com.konylabs.middleware.api</td>
      </tr>
      <tr>
        <td>com.hcl.voltmx.middleware.dataobject</td>
        <td>com.konylabs.middleware.dataobject</td>
      </tr>
	  <tr>
	    <td>VMXFoundry.OfflineObjects.drop</td>
		<td>KNYMobileFabric.OfflineObjects.drop</td>
	  </tr>
    </table>

    <h3>Other</h3>
    This table shows the new Volt MX terms versus old Temenos terms.
    <table>
      <tr>
        <th>New Terms (Volt MX)</th>
        <th>Old Terms (Temenos)</th>
      </tr>
      <tr>
        <td>vfcli.jar</td>
        <td>mfcli.jar</td>
      </tr>
      <tr>
        <td>iris</td>
        <td>viz</td>
      </tr>
      <tr>
        <td>Iris</td>
        <td>Viz</td>
      </tr>
     
    </table>
      
    </div>
      
    </div>
  </div>

    <div class="foot-wrap">
        <div class="foot-nav">
            © Copyright 2020 Temenos © <a href="#" href="#" id="copyrightBtn">Copyright</a> HCL America, Inc., 2021

            <a href="https://hcltechsw.com/wps/portal/legal/privacy" style="margin-left: 10px;">Privacy Statement</a> | <a href="https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fwww.hcltechsw.com%2Fwps%2Fportal%2Flegal%2Fterms-use&data=04%7C01%7Csuresh.chenji%40hcl.com%7Ca77ebddc51574aff8c6c08d8f056542d%7C189de737c93a4f5a8b686f4ca9941912%7C0%7C0%7C637523600856805537%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C1000&sdata=vLnT466NGuIbvQ0nEwfn2qdXeuhHb6XOnh1pibATDI4%3D&reserved=0">Terms of Use</a>
        </div>
        <ul class="social-nav">
            <li><a href="https://www.facebook.com/HCLDigital" class="facebook" target="_blank">Facebook</a></li>
            <li><a href="https://www.linkedin.com/company/hclsoftware" class="linkedin" target="_blank">LinkedIn</a></li>
            <li><a href="https://twitter.com/HCLDigital"  class="twitter" target="_blank">Twitter</a></li>
            <li><a href="https://www.youtube.com/HCLDigitalSolutions" class="youtube" target="_blank">Youtube</a></li>
        </ul>
    </div>

</footer>
<script>
  
var modal = document.getElementById("copyright-modal");
var revisedTerms = document.getElementById("revised-terms");

// Get the button that opens the modal
var btn = document.getElementById("copyrightBtn");
var rtBtn = document.querySelector(".revisedTermsBtn");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];
var span2 = document.getElementsByClassName("close2")[0];

// When the user clicks on the button, open the modal
btn.onclick = function (e) {
    e.preventDefault();
    modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
document.querySelector("span.close").onclick = function () {
    modal.style.display = "none";
}

// When the user clicks on the button, open the modal
rtBtn.onclick = function (e) {
    e.preventDefault();
    revisedTerms.style.display = "block";
}

document.querySelector("span.close2").onclick = function () {
    revisedTerms.style.display = "none";
}

document.onkeydown = function (evt) {
    evt = evt || window.event;
    if (evt.keyCode == 27) {
        modal.style.display = "none";
        revisedTerms.style.display = "none";
    }
};
// When the user clicks anywhere outside of the modal, close it
window.onclick = function (event) {
    if (event.target == modal) {
        modal.style.display = "none";
    } else if (event.target == revisedTerms) {
        revisedTerms.style.display = "none";
    }
}

// nav menu mobile screen  
if (document.documentElement.clientWidth < 800) {
    const subpageNav = document.getElementById('sub-site-nav');
    const submainmenuButton = document.getElementById('sub-menu-button');

    submainmenuButton.addEventListener('click', function () {

        document.getElementById('site-nav').classList.remove('nav-open');
        subpageNav.classList.toggle('nav-open');

    });
}


// horizontal resize of left and right navigation panels
const bar = document.querySelector('.split__bar');
const bar1 = document.querySelector('.split__bar1');
const left = document.querySelector('.side-bar');
const middle = document.querySelector('.main');

const right = document.querySelector('.right-menu');

// side panel collapse and expand buttons 
var togBtn = document.getElementById('left-close');
var togBtnRight = document.getElementById('right-close');
if (togBtn) {
    togBtn.addEventListener('click', (e) => {
        e.preventDefault();
        left.classList.toggle('close-nav');
        left.style.width = "264px";
        togBtn.classList.toggle('flip');

    });
}
if (togBtnRight) {
    togBtnRight.addEventListener('click', (e) => {
        e.preventDefault();
        right.classList.toggle('close-nav');
        right.style.width = "264px";
        togBtnRight.classList.toggle('flip');
    });

}
let mouse_is_down = false;
if (bar) {
    bar.addEventListener('mousedown', (e) => {
        mouse_is_down = true;
    })
}


document.addEventListener('mousemove', (e) => {
    if (!mouse_is_down) return;
    left.style.width = `${e.clientX}px`;
})

document.addEventListener('mouseup', () => {
    mouse_is_down = false;
})



let mouse_is_down1 = false
if (bar1) {
    bar1.addEventListener('mousedown', (e) => {
        mouse_is_down1 = true;
    })
}


document.addEventListener('mousemove', (e) => {
    if (!mouse_is_down1) return;

    right.style.width = `${window.innerWidth - e.clientX}px`;
})

document.addEventListener('mouseup', () => {
    mouse_is_down1 = false;

});



//parentDiv is our max parent selector

function getParents(el, parentSelector) {
    if (parentSelector === undefined) {
        parentSelector = document;
    } else if (el === undefined) {
        return;
    }
    var parents = [];
    var p = el.parentNode;
    while (p !== parentSelector) {
        var o = p;
        parents.push(o);
        p = o.parentNode;
    }
    parents.push(parentSelector);
    return parents;
}



// var current = window.location.href;
var current = window.location.pathname + window.location.hash;
const allLinks = document.querySelectorAll('a.nav-list-link')
const rightLinks = document.querySelectorAll('.right-menu a.nav-list-link')


var activeLink;
var parentDiv = document.getElementById("sub-site-nav") || document.getElementById("site-nav");


for (var j = 0; j < allLinks.length; j++) {
    if (current == allLinks[j].pathname + allLinks[j].hash) {
        allLinks[j].classList.add('active')
        activeLink = allLinks[j];

    } else {
        allLinks[j].classList.remove('active')

    }
}

const parents = getParents(activeLink, parentDiv);
if (parents) {
    for (var i = 0; i < parents.length; i++) {

        if (parents[i].nodeName == 'LI') {
            parents[i].classList.add('active')
        }

    }
    activeLink.parentNode.classList.remove('active');
}
for (const item of rightLinks) {

    item.addEventListener('click', function (event) {
        //...
        event.stopPropagation();
        this.parentNode.classList.remove('active');
        for (var i = 0; i < rightLinks.length; i++) {
            rightLinks[i].classList.remove('active');
        }

        this.classList.add('active')
    })
}


  </script>

</body>
</html>
