<!-- Elements added to main will be displayed on all pages -->

<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://opensource.hcltechsw.com/volt-mx-docs/docs/documentation/Iris/iris_user_guide/Content/Custom_GCM.html">
      
      
      
      
      <link rel="icon" href="../../../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.2.2">
    
    
      
        <title>Customizing GCM Broadcast Receiver - HCL Volt MX Documentation V9.2</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.0e669242.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/vmx_style.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#customizing-gcm-broadcast-receiver" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
            

<div class="content-types-banner">
    <ul class="sub-nav">
        <li class="home-link">
            <a href="https://opensource.hcltechsw.com/volt-mx-docs/index.html"  class="sub-link ">Home</a>
        </li>
        <li>
            <a href="https://opensource.hcltechsw.com/volt-mx-docs/docs/tutorials/Tutorials.html" class="sub-link">Tutorials</a>
        </li>
        <li>
            <a href="https://opensource.hcltechsw.com/volt-mx-docs/docs/documentation/index.html" class="sub-link" id="docLink">Documentation</a>
        </li>
        <li>
            <a href="https://support.hcltechsw.com/csm?id=kb_search&spa=1&kb_category=db382ff1db631c14a45ad9fcd3961936" title="Articles" class="sub-link">Articles</a>
        </li>
        <li>
            <a href="https://hclsoftwareu.hcltechsw.com/#VoltMxLearningJourneys" title="Articles" class="sub-link">Software Academy</a>
        </li>
        <li style="float:right">
          <button onclick="myFunction95()" style="color:white; border-radius:5px ;padding:5px 10px 5px 10px; border: 2px solid white;" class="sub-link" id="docLink92">Switch to V9.5</button>
      </li>
    </ul>
</div>

          </div>
          
        </aside>
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="HCL Volt MX Documentation V9.2" class="md-header__button md-logo" aria-label="HCL Volt MX Documentation V9.2" data-md-component="logo">
      
  <img src="../../../assets/favicon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            HCL Volt MX Documentation V9.2
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Customizing GCM Broadcast Receiver
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/HCL-TECH-SOFTWARE/volt-mx-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    HCL-TECH-SOFTWARE/volt-mx-docs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="HCL Volt MX Documentation V9.2" class="md-nav__button md-logo" aria-label="HCL Volt MX Documentation V9.2" data-md-component="logo">
      
  <img src="../../../assets/favicon.png" alt="logo">

    </a>
    HCL Volt MX Documentation V9.2
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/HCL-TECH-SOFTWARE/volt-mx-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    HCL-TECH-SOFTWARE/volt-mx-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Introducing Volt MX
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#gcm-overview" class="md-nav__link">
    GCM Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integrating-pushconfigxml" class="md-nav__link">
    Integrating pushconfig.xml
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modifying-pushconfigxml-file" class="md-nav__link">
    Modifying pushconfig.xml File
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modifying-konygcmbroadcastreceiver-class" class="md-nav__link">
    Modifying KonyGCMBroadcastReceiver Class
  </a>
  
    <nav class="md-nav" aria-label="Modifying KonyGCMBroadcastReceiver Class">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gcm-custom-implementation-example" class="md-nav__link">
    GCM Custom Implementation Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="customizing-gcm-broadcast-receiver">Customizing GCM Broadcast Receiver</h1>
<p>Volt MX  Iris for Android development allows you to customize the native Google Cloud Messaging (GCM) receiver and push message status notification to meet your application requirement. Otherwise, the default settings of Volt MX Iris take effect.</p>
<h3 id="gcm-overview">GCM Overview</h3>
<p>An Android application developed in Volt MX Iris shows the status bar notification for new push message if the application is in background, whether running or not running. The default GCM notification message is shown below:</p>
<ul>
<li>
<p>The notification provides an icon and two-line text for title and description of the message. The notification message appears below:</p>
<p><img alt="" src="Resources/Images/GCMNotification_317x49.png" /> <img alt="" src="Resources/Images/GCMNotificationOnDevice_248x50.png" /></p>
</li>
<li>
<p>A push message is composed of key value pairs. A random key is picked from a payload, and its corresponding value is shown as both title and description of a notification.</p>
</li>
<li>By default, only one notification is displayed per application on the status bar. Any new push message received will overwrite the existing notification.</li>
</ul>
<h3 id="integrating-pushconfigxml">Integrating pushconfig.xml</h3>
<p>The <code>pushconfig.xml</code> file is pre-bundled in the Android application structure in Volt MX Iris. This <code>pushconfig.xml</code> file is available once the application is built in Volt MX Iris.</p>
<p>To locate and integrate the <code>pushconfig.xml</code> into the application, do the following:</p>
<ol>
<li>Build your application for the Android platform. Once the build is complete, the Build Generation Status dialog appears.</li>
<li>Click <strong>OK</strong>. The dialog closes.</li>
<li>Open the build folder. To open the build folder, press <strong>Ctrl + Alt + T</strong>, or click the <strong>Open Resource location</strong> drop-down and select <strong>Open Build Folder</strong>.</li>
<li>Navigate to <code>build\luaandroid\dist\&lt;App_Name&gt;\res\values</code>.</li>
<li>Select and copy the <code>pushconfig.xml</code> file.</li>
<li>Click <strong>Open Resource location</strong> drop-down and select <strong>Open Resource location</strong>.</li>
<li>
<p>Paste the file in the following location:</p>
<p><code>resources/mobile/native/android/values</code> (create this folder structure if it does not exist).</p>
</li>
<li>
<p>Open the <code>pushconfig.xml</code> and <a href="#modifying-pushconfig-xml-file">modify</a> values to override the default behavior.</p>
</li>
</ol>
<p>The following table describes the icon names used in this topic:</p>
<table>
<thead>
<tr>
<th>Icon</th>
<th>Name</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="" src="Resources/Images/OpenResouceLocation.png" /></td>
<td><em><strong>Open Resource Location</strong> icon</em></td>
</tr>
</tbody>
</table>
<p>You can modify or customize GCM in two ways:</p>
<ol>
<li>By <a href="#modifying-pushconfig-xml-file">modifying pushconfig.xml file</a> - Used for modifying only a defined set of options.</li>
<li>By <a href="#modifying-konygcmbroadcastreceiver-class">modifying KonyGCMBroadcastReceiver class</a> - Used for modifying the way messages appear and other advance options.</li>
</ol>
<h3 id="modifying-pushconfigxml-file">Modifying pushconfig.xml File</h3>
<p>The default behavior of the GCM notification message can be customized by modifying the <code>pushconfig.xml</code> file. The <code>pushconfig.xml</code> file contains key value pairs that allow applications to configure individual keys to override the default behavior.</p>
<p>The registration allows the application to receive the registration ID. The intent can be sent at any time. Google may periodically refresh the receiver ID. An application receiving this intent with a registration_id parameter must ensure that the third-party application server (for example, VPNS) receives the registration ID. The application may do so by saving the registration ID and sending it to the server. If the network is down or there are errors, the application should resend the registration ID when the network is up again or the next time it starts. An application should keep track of its registration status and attempt to register again if the process is not completed. If the new registration ID arrives while the app is not running, a notification appears on the status bar.</p>
<blockquote>
<p><strong><em>Important:</em></strong> Android GCM documentation does not have enough information on what are the circumstances to refresh the registration ID and its frequency of occurrence.</p>
</blockquote>
<p>A couple of keys in <code>pushconfig.xml</code> are provided to customize the notification.</p>
<p>The table below shows a list of key value pairs, each with a brief description.</p>
<table>
<thead>
<tr>
<th>Notification ID</th>
<th>Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>notify_new_regid</td>
<td>true</td>
<td>Enable or disable new registration ID notifications. If disabled, new registration IDs are not issued to the application when it is offline.</td>
</tr>
<tr>
<td>notify_new_regid_icon</td>
<td>icon (.png file)</td>
<td>Specify icon resource without extension. For example, logo for logo.png. The default is icon.png</td>
</tr>
<tr>
<td>notify_new_regid_title</td>
<td>ID</td>
<td>Text to show for new registration ID notification as title. Since a new registration ID event does not contain any payload, an application can show some meaningful text to the user.</td>
</tr>
<tr>
<td>notify_new_regid_desc</td>
<td> </td>
<td>Text displays new registration ID notification.</td>
</tr>
<tr>
<td>notify_new_regid_sound</td>
<td>false</td>
<td>Enable or disable sound for new registration ID notification.</td>
</tr>
<tr>
<td>notify_new_regid_vibrate</td>
<td>false</td>
<td>Enable or disable vibrate for new registration ID notification.</td>
</tr>
<tr>
<td>notify_new_regid_lights</td>
<td>false</td>
<td>Provides option to clear unread new registration ID notification.</td>
</tr>
<tr>
<td>notify_push_msg</td>
<td>true</td>
<td>Enable or disable new push message notifications. If false, no status bar notification is shown when application is running in background.</td>
</tr>
<tr>
<td>notify_push_msg_notifications_count</td>
<td>1</td>
<td>By default, only latest push message notification is kept in the status bar. Use this option to control the number of messages to be stored. The maximum limit allowed in Android is 50. &gt; <strong><em>Note:</em></strong> After exceeding the storage limit, older messages are replaced with newer messages. However, sometimes older notifications are replaced with newer messages even before it reaches the specified count (this happens when the app is closed by Android system)</td>
</tr>
<tr>
<td>notify_push_msg_icon</td>
<td>icon</td>
<td>Specify icon resource without extension. For example, logo for logo.png. The default is icon.png.</td>
</tr>
<tr>
<td>notify_push_msg_default_title</td>
<td>new push message</td>
<td>Title is used for new push message notifications if "title_from_payload" is set to false.</td>
</tr>
<tr>
<td>notify_push_msg_title_from_payload</td>
<td>true</td>
<td>Indicates whether to pick notification title from the push message. If true, <em>notify_push_msg_title_keys</em> is used to pick the notification title.</td>
</tr>
<tr>
<td>notify_push_msg_title_keys</td>
<td> </td>
<td>Key to be used to pick the notification title. Keys separated by a comma (,) can be provided, and the first available key in a payload is used as a notification title.</td>
</tr>
<tr>
<td>notify_push_msg_default_desc</td>
<td> </td>
<td>Used to provide new push message notifications description only when <em>desc_from_payload</em> is set to false.</td>
</tr>
<tr>
<td>notify_push_msg_desc_from_payload</td>
<td>true</td>
<td>Indicates whether to pick notification description from push message. if true, <em>notify_push_msg_desc_keys</em> is used to pick the notification description.</td>
</tr>
<tr>
<td>notify_push_msg_desc_keys</td>
<td> </td>
<td>Used to pick the notification description. Keys separated by a comma (,) can be provided, and the first available key in a payload is used as a notification description.</td>
</tr>
<tr>
<td>notify_push_msg_sound</td>
<td>true</td>
<td>Enable or disable sound for push message notification.</td>
</tr>
<tr>
<td>notify_push_msg_vibrate</td>
<td>true</td>
<td>Enable or disable vibrate for push message notification.</td>
</tr>
<tr>
<td>notify_push_msg_lights</td>
<td>true</td>
<td>Enable or disable lights for push message notification.</td>
</tr>
<tr>
<td>notify_push_msg_clear</td>
<td>true</td>
<td>Indicates that the user must take action to clear the push message notification. Setting the value to <em>false</em> clears the push message notification without user intervention.</td>
</tr>
</tbody>
</table>
<h3 id="modifying-konygcmbroadcastreceiver-class">Modifying KonyGCMBroadcastReceiver Class</h3>
<p>If you need to customize GCM apart from what is provided in the <code>pushconfig.xml</code> file, you can replace the platform default GCM broadcast receiver with the custom GCM broadcast receiver. The custom GCM receiver inherits from the default Volt MX GCM broadcast receiver <em>KonyGCMBroadcastReceiver</em> class that is available in <code>voltmxwidgets.jar</code>. Provide a fully qualified class name in Volt MX Iris by going to <code>Properties-&gt;NativeApp-&gt;Android-&gt;Push Notification</code>.</p>
<p>Customizing the KonyGCMBroadcastReceiver class allows you to:</p>
<ul>
<li>Create a multiline notification in the status bar.</li>
<li>Know the arrival of a push message immediately even when the application is in the background.</li>
<li>Handle an offline push messages when the application is in the background.</li>
</ul>
<p>Here is the API for the default GCM broadcast receiver along with comments:</p>
<pre><code>**package com.hcl.gcm;
public class KonyGCMBroadcastReceiver extends BroadcastReceiver {**
    /* 
This method is called for any event occurs related to GCM like arrival of new registration id or new GCM message. Apps can override this method to bypass the default implementation. 
The default behavior of this method is as follows:
         i)  Invokes 'handleRegistration()' method for events related to 
                registration and de-registration
         ii) For new push message events, It invokes 
                'onOnlinePushNotification' callback if app is running in fore                 ground else invokes 'showPushMessageNotification()'.
    */
    **public void onReceive(Context context, Intent intent)**


   /* 
This method is called from onReceive() to handle events related to registration and de-registration. The default behavior of this method is as below:
           i) Invokes application success and failure callbacks of 
              registration and de-registration accordingly if app is running
              (either in foreground or background).
        ii)Invokes 'showRegistrationIdNotification()' method if app is 
              not running
    */
    **protected void handleRegistration(Context context, Intent intent)**

    /* 
This method is called from 'onReceive()' to display status bar notification for the new push message when app is found to be not in foreground. The default behavior of this method is as follows:
         i)  Creates the Android notification object as per pushconfig.xml 
                (located in res/values/pushconfig.xml)
         ii) Uses 'createNotificationPendingIntent()' utility method to 
                get the pending intent object for status bar notification.
    */
    **public void showPushMessageNotification(Context context, Intent intent)**

    /* 
This method is called from 'handleRegistration()' for new/updated registration id when app is not running. The default behavior of this method is as follows:      
         i) Displays the new registration id as status bar notification. 
               On click of that notification,  'onsuccessfulregistration' 
               callback is invoked.
    */
    **protected void showRegistrationIdNotification(Context context, Intent intent, String regId)**

    /* 
This is utility method to extract payload from push message (payload is part of intent object). Returns ArrayList of keys and values String array objects.

       Example: 
    ArrayList&lt;String[]&gt; payload = getPushMessagePayload(context, intent);
                String[] keys = payload.get(0);
                String[] values = payload.get(1);
    */
    **private final ArrayList &lt; String[] &gt; getPushMessagePayload(Context context, Intent intent);**

    /* 
This is utility method to provide application current status. 
       The following values are returned.
               0 - app is not running,
               1 - app is running in foreground,
               2 - app is running in background 
    */
    **protected final int getAppState();**

    /* 
This is utility method to create pending intent object for new push message status bar notification object.This method is provided to create the pendingIntent object in the format as expected by the Volt MX IrisPlatform. 
    Default implementation of this method is provided below.
        context - Application context object
        intent - Intent object that contains the push message payload.
        requestCode - requestCode passed to Android pending intent 
                  object. 
Since intent 'action' &amp; 'category' are fixed, pass different requestCode every time to create new pending intent object otherwise previously created pending intent object would be returned with updated payload(keys &amp; values).
This is needed if you want to display each new push message as separate notification
    */

   **protected final PendingIntent createNotificationPendingIntent(Context context, Intent intent, int requestCode) {**
        ArrayList &lt; String[] &gt; payload = getPushMessagePayload(context, intent);
        String[] keys = payload.get(0);
        String[] values = payload.get(1);
        Bundle pushBundle = new Bundle();
        pushBundle.putStringArray(&quot;push-msg-keys&quot;, keys);
        pushBundle.putStringArray(&quot;push-msg-values&quot;, values);
        Intent pushIntent = new Intent();
        pushIntent.putExtra(&quot;push-notification-msg&quot;, pushBundle);
        String pkgName = context.getPackageName();
        pushIntent.setAction(pkgName + &quot;.GCM_MSG_VIEW&quot;);
        pushIntent.addCategory(&quot;android.intent.category.DEFAULT&quot;);
        PendingIntent pendingIntent = PendingIntent.getActivity(context, requestCode, pushIntent,
            PendingIntent.FLAG_UPDATE_CURRENT);
        return pendingIntent;
    }
}
</code></pre>
<h4 id="gcm-custom-implementation-example">GCM Custom Implementation Example</h4>
<p>For more information on GCM notifications, see <a href="http://developer.android.com/guide/topics/ui/notifiers/notifications.html">http://developer.android.com/guide/topics/ui/notifiers/notifications.html</a>.</p>
<p>Notification in collapsed mode (normal):</p>
<p><img alt="" src="Resources/Images/GCMNotificationOnDevice.png" /></p>
<p>Notification in expanded mode (big view mode):</p>
<p><img alt="" src="Resources/Images/GCMNotificationExpanded_369x217.png" /></p>
<p>You can use the following sample code and tweak as required:</p>
<pre><code>**package com.voltmx.push.custom;
import com.konylabs.gcm.KonyGCMBroadcastReceiver;

public class CustomPushNotificationReceiver extends KonyGCMBroadcastReceiver{**

      //This method is called for new push message arrival when app is not running in
      // foreground.
    **@Override
    public void showPushMessageNotification(Context context,Intent intent){**
        String pkgName = context.getPackageName();
        long when = System.currentTimeMillis();
        //pick desired icon as notification icon
        int icon = context.getResources().getIdentifier(&quot;icon&quot;, 
        &quot;drawable&quot;, pkgName);
        String[] bigViewLines = new String[6];
        String title = null;
        String desc = null;
        String randomKey = null;
        //taking some random key from payload bundle
        Bundle bundle = intent.getExtras();
        bundle.keySet();
        Set&lt;String&gt; keySet = bundle.keySet();
        if(keySet != null &amp;&amp; keySet.isEmpty() == false) {
            Iterator&lt;String&gt; it = keySet.iterator();
            Int i = 0;
            while(it.hasNext() &amp;&amp; i&lt;6){
                key = it.next();
                desc = bundle.getString(randomKey);
                bigViewLines[i] = key + “ : “+ desc;
                ++i;
            }
        }

        /* Using utility method 'createNotificationPendingIntent()' 
           to get the notification pending intent. This utility method 
           creates the pending intent as expected by the Volt MX Iris Android 
           platform 
        */
    PendingIntent contentIntent = createNotificationPendingIntent(context,
                      intent, 0); 


        /* Creation of BIG-VIEW notification  */
NotificationCompat.Builder  mBuilder = new NotificationCompat.Builder(this);    
            mBuilder.setContentTitle(&quot;New push Message&quot;);
            mBuilder.setContentText(&quot;You've received new push message.&quot;);
            mBuilder.setTicker(&quot;New Push Message Alert!&quot;);
            mBuilder.setSmallIcon(R.drawable.arrow);
            Bitmap icon = BitmapFactory.decodeResource(this.getResources(),
                  R.drawable.icon);
        mBuilder.setLargeIcon(icon);
            /* 
        Increase notification number every time a new notification 
        arrives 
        */
        mBuilder.setNumber(5);
            /* Add Big View Specific Configuration */
        NotificationCompat.InboxStyle inboxStyle = 
                    new NotificationCompat.InboxStyle();
            // Sets a title for the Inbox style big view
            inboxStyle.setBigContentTitle(&quot;Push Message Details:&quot;);
            // Moves events into the big view
            for (int i=0; i &lt; bigViewLines.length; i++) {
                 inboxStyle.addLine(bigViewLines [i]);
            }
            inboxStyle.setSummaryText(&quot;Click to Launch&quot;);
            mBuilder.setStyle(inboxStyle);
            mBuilder.setContentIntent(resultPendingIntent);
            mBuilder.addAction(R.drawable.marker, &quot;Launch&quot;, 
                        resultPendingIntent);
            mBuilder.addAction(R.drawable.cancel, &quot;Cancel&quot;, 
                        resultPendingIntent);
            mNotificationManager = (NotificationManager) 
            getSystemService(Context.NOTIFICATION_SERVICE);

            /* 
        notificationID allows you to update the notification later on. 
        */
            mNotificationManager.notify(1, mBuilder.build());
    }
}
</code></pre>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2021 - 2024, HCL America, Inc. | <a href="https://hcltechsw.com/wps/portal/legal/privacy">Privacy Statement</a> | <a href="https://apc01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fwww.hcltechsw.com%2Fwps%2Fportal%2Flegal%2Fterms-use&data=04%7C01%7Csuresh.chenji%40hcl.com%7Ca77ebddc51574aff8c6c08d8f056542d%7C189de737c93a4f5a8b686f4ca9941912%7C0%7C0%7C637523600856805537%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C1000&sdata=vLnT466NGuIbvQ0nEwfn2qdXeuhHb6XOnh1pibATDI4%3D&reserved=0">Terms of Use</a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
<div class="md-social">
  <ul class="social-nav">
    <li><a href="https://www.facebook.com/HCLDigital" class="facebook" target="_blank">Facebook</a></li>
    <li><a href="https://www.linkedin.com/company/hclsoftware" class="linkedin" target="_blank">LinkedIn</a></li>
    <li><a href="https://twitter.com/HCLDigital"  class="twitter" target="_blank">Twitter</a></li>
    <li><a href="https://www.youtube.com/HCLDigitalSolutions" class="youtube" target="_blank">Youtube</a></li>
    <li>
      <a href="https://github.com/HCL-TECH-SOFTWARE" target="_blank" rel="noopener" title="github.com" class="md-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
      </a>
    </li>
  </ul>    
</div>
  </div>
  <div class="md-footer-meta__inner md-grid">
  <span class="md-footer__git_legacy">Please report problems with this documentation by <a class="announcement__link" href="https://github.com/HCL-TECH-SOFTWARE/volt-mx-docs/issues">opening issues in Github</a>.</span>
  <span class="legacy-link md-footer__git_legacy">Can't find a topic? Check the legacy documentation <a class="announcement__link" href="https://opensource.hcltechsw.com/Volt-MX-Documentation-Archive/docs/documentation/" target="_blank">here</a>.</span>
</span>
    </div>
</div>
    <script>
      function myFunction95(){
          var initial_url = document.location.href;
          var url_stub = initial_url.split( 'docs/documentation' );
          var fixed_url = url_stub[0]+'95/docs/documentation';
		  console.log(fixed_url);
//          var fixed_url = 'https://opensource.hcltechsw.com/volt-mx-docs/95/docs/documentation'
          var url = initial_url.split( '/' );
          var updated_url
          if ( url[ url.length - 2 ] == "Foundry" || url[ url.length - 2 ] == "Iris" || url[ url.length - 2 ] == "tutorials" || url[ url.length - 2 ] == "articles" || url[ url.length - 2] == "getting-started" || url[ url.length - 2 ] == "java_docs_apis" ){
            updated_url= fixed_url + '/' + url[ url.length - 2 ] + '/' + url[ url.length - 1 ];
          }else if ( url[ url.length - 3 ] == "Foundry" || url[ url.length - 3 ] == "Iris" || url[ url.length - 2 ] == "tutorials" || url[ url.length - 3 ] == "articles" || url[ url.length - 3 ] == "getting-started" || url[ url.length - 3 ] == "java_docs_apis" ){
            updated_url= fixed_url + '/' + url[ url.length - 3 ] + '/' + url[ url.length - 2 ] + '/' + url[ url.length - 1 ];
          }else if ( url[ url.length - 4 ] == "Foundry" || url[ url.length - 4 ] == "Iris" || url[ url.length - 2 ] == "tutorials" || url[ url.length - 4 ] == "articles" || url[ url.length - 4 ] == "getting-started" || url[ url.length - 4 ] == "java_docs_apis" ){
            updated_url= fixed_url + '/' + url[ url.length - 4 ] + '/' + url[ url.length - 3 ] + '/' + url[ url.length - 2 ] + '/' + url[ url.length - 1 ];
          }else if ( url[ url.length - 5 ] == "Foundry" || url[ url.length - 5 ] == "Iris" || url[ url.length - 2 ] == "tutorials" || url[ url.length - 5 ] == "articles" || url[ url.length - 5 ] == "getting-started" || url[ url.length - 5 ] == "java_docs_apis" ){
            updated_url= fixed_url + '/' + url[ url.length - 5 ] + '/' + url[ url.length - 4 ] + '/' + url[ url.length - 3 ] + '/' + url[ url.length - 2 ] + '/' + url[ url.length - 1 ];
          }else if ( url[ url.length - 6 ] == "Foundry" || url[ url.length - 6 ] == "Iris" || url[ url.length - 2 ] == "tutorials" || url[ url.length - 6 ] == "articles" || url[ url.length - 6 ] == "getting-started" || url[ url.length - 6 ] == "java_docs_apis" ){
            updated_url= fixed_url + '/' + url[ url.length - 6 ] + '/' + url[ url.length - 5 ] + '/' + url[ url.length - 4 ] + '/' + url[ url.length - 3 ] + '/' + url[ url.length - 2 ] + '/' + url[ url.length - 1 ];
          }else{
            updated_url= fixed_url + '/' + url[ url.length - 1];
          }
          window.location.replace(updated_url);
          }
    </script>

<meta http-equiv="refresh" content="5">
<script>
    var initial_url2 = document.location.href;
    var initial_url_split2 = initial_url2.split('docs/documentation')
    var route_fixed_url2 = 'https://help.hcl-software.com/voltmx/v9.2';    
    var joined_url2 = route_fixed_url2 + initial_url_split2[1]
    window.location.replace(joined_url2);
</script>
</footer>

    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.instant", "navigation.prune"], "search": "../../../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.78eede0e.min.js"></script>
      
    
  </body>
</html>